function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var a=e[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{igdQ:function(t,e,c){"use strict";c.r(e);var a,n,o=c("tyNb"),i=c("212X"),r=c("0BIi"),s=c("NuY5"),d=c("2Vo4"),l=c("fXoL"),m=c("tk/3"),b=((n=function(){function t(e){_classCallCheck(this,t),this._httpClient=e,this.onBoardsChanged=new d.a([]),this.onBoardChanged=new d.a([])}return _createClass(t,[{key:"resolve",value:function(t,e){var c=this;return this.routeParams=t.params,new Promise((function(t,e){Promise.all([c.getBoards()]).then((function(){t()}),e)}))}},{key:"getBoards",value:function(){var t=this;return new Promise((function(e,c){t._httpClient.get("api/scrumboard-boards").subscribe((function(c){t.boards=c,t.onBoardsChanged.next(t.boards),e(t.boards)}),c)}))}},{key:"getBoard",value:function(t){var e=this;return new Promise((function(c,a){e._httpClient.get("api/scrumboard-boards/"+t).subscribe((function(t){e.board=t,e.onBoardChanged.next(e.board),c(e.board)}),a)}))}},{key:"addCard",value:function(t,e){return this.board.lists.map((function(c){if(c.id===t)return c.idCards.push(e.id)})),this.board.cards.push(e),this.updateBoard()}},{key:"addList",value:function(t){return this.board.lists.push(t),this.updateBoard()}},{key:"removeList",value:function(t){var e=this.board.lists.find((function(e){return e.id===t})),c=!0,a=!1,n=void 0;try{for(var o,i=e.idCards[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var r=o.value;this.removeCard(r)}}catch(d){a=!0,n=d}finally{try{c||null==i.return||i.return()}finally{if(a)throw n}}var s=this.board.lists.indexOf(e);return this.board.lists.splice(s,1),this.updateBoard()}},{key:"removeCard",value:function(t,e){var c=this.board.cards.find((function(e){return e.id===t}));if(e){var a=this.board.lists.find((function(t){return e===t.id}));a.idCards.splice(a.idCards.indexOf(t),1)}this.board.cards.splice(this.board.cards.indexOf(c),1),this.updateBoard()}},{key:"updateBoard",value:function(){var t=this;return new Promise((function(e,c){t._httpClient.post("api/scrumboard-boards/"+t.board.id,t.board).subscribe((function(c){t.onBoardChanged.next(t.board),e(t.board)}),c)}))}},{key:"updateCard",value:function(t){this.board.cards.map((function(e){if(e.id===t.id)return t})),this.updateBoard()}},{key:"createNewBoard",value:function(t){var e=this;return new Promise((function(c,a){e._httpClient.post("api/scrumboard-boards/"+t.id,t).subscribe((function(e){c(t)}),a)}))}}]),t}()).\u0275fac=function(t){return new(t||n)(l.kc(m.c))},n.\u0275prov=l.Sb({token:n,factory:n.\u0275fac}),n),u=((a=function(){function t(e){_classCallCheck(this,t),this._scrumboardService=e}return _createClass(t,[{key:"resolve",value:function(t){return this._scrumboardService.getBoard(t.paramMap.get("boardId"))}}]),t}()).\u0275fac=function(t){return new(t||a)(l.kc(b))},a.\u0275prov=l.Sb({token:a,factory:a.\u0275fac}),a),g=c("XNiG"),f=c("1G5W"),h=c("HY3y"),p=c("0Zs5"),v=[{id:"56027e4119ad3a5dc28b36cd",name:"Design",color:"mat-red-500-bg"},{id:"5640635e19ad3a5dc21416b2",name:"App",color:"mat-blue-500-bg"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",color:"mat-green-400-bg"}],x=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"Vincent Munoz",avatar:"assets/images/avatars/vincent.jpg"}],C=function t(e){_classCallCheck(this,t),this.name=e.name||"Untitled Board",this.uri=e.uri||"untitled-board",this.id=e.id||p.a.generateGUID(),this.settings=e.settings||{color:"",subscribed:!0,cardCoverImages:!0},this.lists=[],this.cards=[],this.members=e.members||x,this.labels=e.labels||v},w=c("XiUz"),y=c("cpli"),k=c("ofXK"),_=c("NFeN"),M=function(){return{y:"100%"}},O=function(t){return{value:"*",params:t}};function L(t,e){if(1&t&&(l.cc(0,"div",7),l.cc(1,"mat-icon",5),l.ad(2,"assessment"),l.bc(),l.cc(3,"div",6),l.ad(4),l.bc(),l.bc()),2&t){var c=e.$implicit;l.zc("routerLink","/apps/scrumboard/boards/"+c.id+"/"+c.uri)("@animate",l.Dc(4,O,l.Cc(3,M))),l.Hb(4),l.bd(c.name)}}var P,I=function(){return{delay:"100ms"}},F=function(){return{value:"50"}},A=((P=function(){function t(e,c){_classCallCheck(this,t),this._router=e,this._scrumboardService=c,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardsChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.boards=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newBoard",value:function(){var t=this,e=new C({});this._scrumboardService.createNewBoard(e).then((function(){t._router.navigate(["/apps/todo/"+e.id+"/"+e.uri])}))}}]),t}()).\u0275fac=function(t){return new(t||P)(l.Wb(o.f),l.Wb(b))},P.\u0275cmp=l.Qb({type:P,selectors:[["scrumboard"]],decls:11,vars:11,consts:[["id","boards","fxLayout","column","fxLayoutAlign","start center","fxFlex","","persoInfoPerfectScrollbar","",1,"mat-primary-400-bg"],["fxFlex","0 0 auto",1,"header","pt-44","pt-mat-88"],["fxFlex","0 0 auto","fxLayout","row wrap","fxLayoutAlign","center center",1,"board-list"],["class","board-list-item","fxLayout","column","fxLayoutAlign","center center",3,"routerLink",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item","add-new-board",3,"click"],[1,"s-64"],[1,"board-name"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item",3,"routerLink"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.cc(1,"div",1),l.cc(2,"h1"),l.ad(3,"Scrumboard App"),l.bc(),l.bc(),l.cc(4,"div",2),l.Yc(5,L,5,6,"div",3),l.cc(6,"div",4),l.oc("click",(function(){return e.newBoard()})),l.cc(7,"mat-icon",5),l.ad(8,"add_circle"),l.bc(),l.cc(9,"div",6),l.ad(10,"Add new board"),l.bc(),l.bc(),l.bc(),l.bc()),2&t&&(l.Hb(1),l.zc("@animate",l.Dc(5,O,l.Cc(4,I))),l.Hb(3),l.zc("@animateStagger",l.Cc(7,F)),l.Hb(1),l.zc("ngForOf",e.boards),l.Hb(1),l.zc("@animate",l.Dc(9,O,l.Cc(8,M))))},directives:[w.e,w.d,w.b,y.a,k.t,_.a,o.g],styles:["[_nghost-%COMP%]{min-height:100%}[_nghost-%COMP%]   #boards[_ngcontent-%COMP%]{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   #boards[_ngcontent-%COMP%]   .board-list[_ngcontent-%COMP%]{padding:32px 0;max-height:none!important}[_nghost-%COMP%]   #boards[_ngcontent-%COMP%]   .board-list[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]{min-width:210px;width:210px;padding:24px 0;margin:16px;border-radius:2px;background:rgba(0,0,0,.12);cursor:pointer}[_nghost-%COMP%]   #boards[_ngcontent-%COMP%]   .board-list[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   #boards[_ngcontent-%COMP%]   .board-list[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]   .board-name[_ngcontent-%COMP%]{padding-top:16px;font-weight:500}"],data:{animation:h.a}}),P),z=function t(e){_classCallCheck(this,t),this.id=e.id||p.a.generateGUID(),this.name=e.name||"",this.idCards=[]},H=c("XhcP"),S=c("znSr"),Q=c("bTqV"),B=c("3Pt+"),D=["nameInput"];function Y(t,e){if(1&t){var c=l.dc();l.cc(0,"div",2),l.cc(1,"span"),l.ad(2),l.bc(),l.cc(3,"button",3),l.oc("click",(function(){return l.Qc(c),l.sc().openForm()})),l.cc(4,"mat-icon",4),l.ad(5,"edit_mode"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.Hb(2),l.bd(a.board.name)}}function T(t,e){if(1&t){var c=l.dc();l.cc(0,"form",5),l.oc("ngSubmit",(function(){return l.Qc(c),l.sc().onFormSubmit()})),l.Xb(1,"input",6,7),l.cc(3,"button",8),l.cc(4,"mat-icon"),l.ad(5,"check"),l.bc(),l.bc(),l.cc(6,"button",9),l.oc("click",(function(){return l.Qc(c),l.sc().closeForm()})),l.cc(7,"mat-icon"),l.ad(8,"close"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.zc("formGroup",a.form)}}var N,X=((N=function(){function t(e){_classCallCheck(this,t),this.formBuilder=e,this.formActive=!1,this.onNameChanged=new l.o}return _createClass(t,[{key:"openForm",value:function(){this.form=this.formBuilder.group({name:[this.board.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.board.name=this.form.getRawValue().name,this.board.uri=encodeURIComponent(this.board.name).replace(/%20/g,"-").toLowerCase(),this.onNameChanged.next(this.board.name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||N)(l.Wb(B.c))},N.\u0275cmp=l.Qb({type:N,selectors:[["scrumboard-edit-board-name"]],viewQuery:function(t,e){var c;1&t&&l.fd(D,!0),2&t&&l.Lc(c=l.pc())&&(e.nameInputField=c.first)},inputs:{board:"board"},outputs:{onNameChanged:"onNameChanged"},decls:2,vars:2,consts:[["class","board-name","fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","board-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",1,"board-name"],["mat-icon-button","",3,"click"],[1,"s-16"],["fxLayout","row","fxFlex","1 0 auto",1,"board-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","1 0 auto","placeholder","Write a board name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(l.Yc(0,Y,6,1,"div",0),l.Yc(1,T,9,1,"form",1)),2&t&&(l.zc("ngIf",!e.formActive),l.Hb(1),l.zc("ngIf",e.formActive))},directives:[k.u,w.b,w.e,w.d,Q.b,_.a,B.x,B.p,B.h,B.b,B.o,B.f],styles:["[_nghost-%COMP%]{display:block!important}[_nghost-%COMP%]   .board-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:500}"]}),N),$=c("Qu3c"),R=["nameInput"];function W(t,e){if(1&t){var c=l.dc();l.cc(0,"button",3),l.oc("click",(function(){return l.Qc(c),l.sc().openForm()})),l.cc(1,"div",4),l.cc(2,"mat-icon",5),l.ad(3,"add"),l.bc(),l.cc(4,"span"),l.ad(5,"Add a list"),l.bc(),l.bc(),l.bc()}}function V(t,e){if(1&t){var c=l.dc();l.cc(0,"form",6),l.oc("submit",(function(){return l.Qc(c),l.sc().onFormSubmit()})),l.Xb(1,"input",7,8),l.cc(3,"button",9),l.cc(4,"mat-icon"),l.ad(5,"check"),l.bc(),l.bc(),l.cc(6,"button",10),l.oc("click",(function(){return l.Qc(c),l.sc().closeForm()})),l.cc(7,"mat-icon"),l.ad(8,"close"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.zc("formGroup",a.form)}}var G,j,U=((G=function(){function t(e){_classCallCheck(this,t),this._formBuilder=e,this.formActive=!1,this.onListAdd=new l.o}return _createClass(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[""]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.onListAdd.next(this.form.getRawValue().name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||G)(l.Wb(B.c))},G.\u0275cmp=l.Qb({type:G,selectors:[["scrumboard-board-add-list"]],viewQuery:function(t,e){var c;1&t&&l.fd(R,!0),2&t&&l.Lc(c=l.pc())&&(e.nameInputField=c.first)},outputs:{onListAdd:"onListAdd"},decls:3,vars:2,consts:[[1,"list","new-list","mat-elevation-z1"],["mat-button","","class","new-list-form-button",3,"click",4,"ngIf"],["class","new-list-form","fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",3,"formGroup","submit",4,"ngIf"],["mat-button","",1,"new-list-form-button",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"mat-red-bg"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",1,"new-list-form",3,"formGroup","submit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto",3,"click"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.Yc(1,W,6,0,"button",1),l.Yc(2,V,9,1,"form",2),l.bc()),2&t&&(l.Hb(1),l.zc("ngIf",!e.formActive),l.Hb(1),l.zc("ngIf",e.formActive))},directives:[k.u,Q.b,w.e,w.d,_.a,B.x,B.p,w.b,B.h,B.b,B.o,B.f],styles:["[_nghost-%COMP%]   .new-list[_ngcontent-%COMP%]{border-radius:2px;background-color:#eef0f2}[_nghost-%COMP%]   .new-list[_ngcontent-%COMP%]   .new-list-form-button[_ngcontent-%COMP%]{text-transform:none;font-size:15px;padding:0 16px;height:64px;margin:0;width:100%}[_nghost-%COMP%]   .new-list[_ngcontent-%COMP%]   .new-list-form-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{border-radius:50%;height:40px;width:40px;line-height:40px;margin-right:16px}[_nghost-%COMP%]   .new-list[_ngcontent-%COMP%]   .new-list-form[_ngcontent-%COMP%]{padding:16px;height:64px}[_nghost-%COMP%]   .new-list[_ngcontent-%COMP%]   .new-list-form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:100%}"]}),G),q=c("FKr1"),E=c("f0Cb"),J=c("uT8g"),K=c("MutI"),Z=((j=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e=[];for(var c in t)t.hasOwnProperty(c)&&e.push({key:c,value:t[c]});return e}}]),t}()).\u0275fac=function(t){return new(t||j)},j.\u0275pipe=l.Vb({name:"keys",type:j,pure:!0}),j);function tt(t,e){1&t&&(l.cc(0,"mat-icon",6),l.ad(1,"check"),l.bc())}function et(t,e){if(1&t){var c=l.dc();l.cc(0,"button",7),l.oc("click",(function(t){l.Qc(c);var e=l.sc(2);return t.stopPropagation(),e.setColor("")})),l.cc(1,"mat-icon",6),l.ad(2,"delete"),l.bc(),l.bc()}}function ct(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-list-item",2),l.oc("click",(function(){l.Qc(c);var t=e.$implicit;return l.sc().setColor(t.key)})),l.cc(1,"p",3),l.ad(2),l.bc(),l.Yc(3,tt,2,0,"mat-icon",4),l.Yc(4,et,3,0,"button",5),l.bc()}if(2&t){var a=e.$implicit,n=l.sc();l.zc("ngClass","mat-"+a.key+"-bg"),l.Hb(2),l.bd(a.key),l.Hb(1),l.zc("ngIf",a.key===n.board.settings.color),l.Hb(1),l.zc("ngIf",a.key===n.board.settings.color)}}var at,nt=((at=function(){function t(e){_classCallCheck(this,t),this._scrumboardService=e,this.colors=J.a.all,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setColor",value:function(t){this.board.settings.color=t,this._scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||at)(l.Wb(b))},at.\u0275cmp=l.Qb({type:at,selectors:[["scrumboard-board-color-selector"]],decls:3,vars:3,consts:[[1,"colors"],["class","color m-8 mat-elevation-z1","matRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["matRipple","",1,"color","m-8","mat-elevation-z1",3,"ngClass","click"],["fxFlex",""],["class","s-16",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"s-16"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(l.cc(0,"mat-list",0),l.Yc(1,ct,5,4,"mat-list-item",1),l.tc(2,"keys"),l.bc()),2&t&&(l.Hb(1),l.zc("ngForOf",l.uc(2,1,e.colors)))},directives:[K.a,k.t,K.c,q.r,k.r,S.a,w.b,k.u,_.a,Q.b],pipes:[Z],styles:["[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{position:relative;cursor:pointer}"]}),at);function ot(t,e){1&t&&(l.cc(0,"mat-icon",12),l.ad(1,"check"),l.bc())}function it(t,e){1&t&&(l.cc(0,"mat-icon",12),l.ad(1,"check"),l.bc())}function rt(t,e){if(1&t){var c=l.dc();l.cc(0,"div",2),l.cc(1,"div",3),l.cc(2,"div",4),l.cc(3,"div",5),l.cc(4,"div",6),l.oc("click",(function(){return l.Qc(c),l.sc().view="board-color"})),l.cc(5,"mat-icon",7),l.ad(6,"format_color_fill"),l.bc(),l.cc(7,"p",8),l.ad(8,"Board Color"),l.bc(),l.bc(),l.bc(),l.cc(9,"div",5),l.cc(10,"div",6),l.oc("click",(function(){return l.Qc(c),l.sc().toggleCardCover()})),l.cc(11,"mat-icon",7),l.ad(12,"photo"),l.bc(),l.cc(13,"p",9),l.ad(14,"Card Cover Images"),l.bc(),l.Yc(15,ot,2,0,"mat-icon",10),l.bc(),l.bc(),l.cc(16,"div",5),l.cc(17,"div",6),l.oc("click",(function(){return l.Qc(c),l.sc().toggleSubscription()})),l.cc(18,"mat-icon",7),l.ad(19,"remove_red_eye"),l.bc(),l.cc(20,"p",9),l.ad(21,"Subscribe"),l.bc(),l.Yc(22,it,2,0,"mat-icon",10),l.bc(),l.bc(),l.cc(23,"div",5),l.cc(24,"div",11),l.cc(25,"mat-icon",7),l.ad(26,"content_copy"),l.bc(),l.cc(27,"p",8),l.ad(28,"Copy Board"),l.bc(),l.bc(),l.bc(),l.cc(29,"div",5),l.cc(30,"div",11),l.cc(31,"mat-icon",7),l.ad(32,"delete"),l.bc(),l.cc(33,"p",8),l.ad(34,"Delete Board"),l.bc(),l.bc(),l.bc(),l.Xb(35,"mat-divider"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.zc("@slideInLeft",void 0),l.Hb(15),l.zc("ngIf",a.board.settings.cardCoverImages),l.Hb(7),l.zc("ngIf",a.board.settings.subscribed)}}function st(t,e){if(1&t){var c=l.dc();l.cc(0,"div",2),l.cc(1,"div",13),l.cc(2,"div"),l.ad(3,"Background Color"),l.bc(),l.cc(4,"button",14),l.oc("click",(function(){return l.Qc(c),l.sc().view="main"})),l.cc(5,"mat-icon",15),l.ad(6,"arrow_back"),l.bc(),l.bc(),l.bc(),l.cc(7,"div",16),l.Xb(8,"scrumboard-board-color-selector"),l.bc(),l.bc()}if(2&t){var a=l.sc();l.zc("@slideInRight",void 0),l.Hb(1),l.zc("ngClass","mat-"+a.board.settings.color+"-bg")}}var dt,lt=((dt=function(){function t(e){_classCallCheck(this,t),this.scrumboardService=e,this.view="main",this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleCardCover",value:function(){this.board.settings.cardCoverImages=!this.board.settings.cardCoverImages,this.scrumboardService.updateBoard()}},{key:"toggleSubscription",value:function(){this.board.settings.subscribed=!this.board.settings.subscribed,this.scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||dt)(l.Wb(b))},dt.\u0275cmp=l.Qb({type:dt,selectors:[["scrumboard-board-settings"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch","click"],["class","view",4,"ngSwitchCase"],[1,"view"],["persoInfoPerfectScrollbar","",1,"content","py-16"],[1,"nav"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"click"],[1,"nav-link-icon"],[1,"title"],["fxFlex","",1,"title"],["class","s-18",4,"ngIf"],["matRipple","",1,"nav-link"],[1,"s-18"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","mat-accent-bg","px-24",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"s-16"],["persoInfoPerfectScrollbar","",1,"content","p-8"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.oc("click",(function(t){return t.stopPropagation()})),l.Yc(1,rt,36,3,"div",1),l.Yc(2,st,9,2,"div",1),l.bc()),2&t&&(l.zc("ngSwitch",e.view),l.Hb(1),l.zc("ngSwitchCase","main"),l.Hb(1),l.zc("ngSwitchCase","board-color"))},directives:[k.y,k.z,y.a,q.r,_.a,w.b,k.u,E.a,w.e,w.d,k.r,S.a,Q.b,nt],styles:["[_nghost-%COMP%]{flex-direction:column;flex:1 0 auto}[_nghost-%COMP%], [_nghost-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;height:100%}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]{flex-direction:column;position:relative;overflow:hidden}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;height:64px;min-height:64px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch}"],data:{animation:h.a}}),dt),mt=c("Pm6R"),bt=function t(e){_classCallCheck(this,t),this.id=e.id||p.a.generateGUID(),this.name=e.name||"",this.description=e.description||"",this.idAttachmentCover=e.idAttachmentCover||"",this.idMembers=e.idMembers||[],this.idLabels=e.idLabels||[],this.attachments=e.attachments||[],this.subscribed=e.subscribed||!0,this.checklists=e.checklists||[],this.checkItems=e.checkItems||0,this.checkItemsChecked=e.checkItemsChecked||0,this.comments=e.comments||[],this.activities=e.activities||[],this.due=e.due||""},ut=c("0IaG"),gt=c("/t3+"),ft=c("STbY"),ht=c("bSwM"),pt=c("kmnG"),vt=c("qFsG");function xt(t,e){if(1&t&&(l.cc(0,"span"),l.ad(1),l.bc()),2&t){var c=l.sc();l.Hb(1),l.dd(" ",c.selectedColor.palette," ",c.selectedColor.hue," ")}}function Ct(t,e){1&t&&(l.cc(0,"span"),l.ad(1," Select Color "),l.bc())}function wt(t,e){if(1&t){var c=l.dc();l.cc(0,"div",13),l.oc("click",(function(t){l.Qc(c);var a=e.$implicit,n=l.sc(2);return t.stopPropagation(),n.selectPalette(a.key)})),l.cc(1,"span",14),l.ad(2),l.bc(),l.bc()}if(2&t){var a=e.$implicit;l.zc("ngClass","mat-"+a.key+"-bg"),l.Hb(2),l.cd(" ",a.key," ")}}function yt(t,e){if(1&t&&(l.cc(0,"div",10),l.cc(1,"div",11),l.Yc(2,wt,3,2,"div",12),l.tc(3,"keys"),l.bc(),l.bc()),2&t){var c=l.sc();l.Hb(2),l.zc("ngForOf",l.uc(3,1,c.colors))}}function kt(t,e){1&t&&(l.cc(0,"mat-icon",18),l.ad(1,"check"),l.bc())}function _t(t,e){if(1&t){var c=l.dc();l.cc(0,"div",16),l.oc("click",(function(){l.Qc(c);var t=e.$implicit;return l.sc(2).selectHue(t)})),l.cc(1,"span",14),l.ad(2),l.bc(),l.Yc(3,kt,2,0,"mat-icon",17),l.bc()}if(2&t){var a=e.$implicit,n=l.sc(2);l.zc("fxHide","white"===n.selectedPalette&&"500"!==a||"black"===n.selectedPalette&&"500"!==a)("ngClass","mat-"+n.selectedPalette+"-"+a+"-bg"),l.Hb(2),l.cd(" ",a," "),l.Hb(1),l.zc("ngIf",n.selectedHue===a)}}function Mt(t,e){if(1&t&&(l.cc(0,"div",10),l.cc(1,"div",11),l.Yc(2,_t,4,4,"div",15),l.bc(),l.bc()),2&t){var c=l.sc();l.Hb(2),l.zc("ngForOf",c.hues)}}var Ot,Lt=((Ot=function(){function t(){_classCallCheck(this,t),this.colors=J.a.all,this.hues=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],this.selectedFg="",this.selectedHue="",this.selectedPalette="",this.view="palettes",this.onValueChange=new l.o,this.selectedPaletteChange=new l.o,this.selectedHueChange=new l.o,this.selectedClassChange=new l.o,this.selectedBgChange=new l.o,this.selectedFgChange=new l.o,this._selectedClass="",this._selectedBg=""}return _createClass(t,[{key:"ngOnChanges",value:function(t){t.selectedBg&&""===t.selectedBg.currentValue||t.selectedClass&&""===t.selectedClass.currentValue||t.selectedPalette&&""===t.selectedPalette.currentValue?this.removeColor():(t.selectedPalette||t.selectedHue||t.selectedClass||t.selectedBg)&&this.updateSelectedColor()}},{key:"selectPalette",value:function(t){this.selectedPalette=t,this.updateSelectedColor(),this.view="hues"}},{key:"selectHue",value:function(t){this.selectedHue=t,this.updateSelectedColor()}},{key:"removeColor",value:function(){this.selectedPalette="",this.selectedHue="",this.updateSelectedColor(),this.view="palettes"}},{key:"updateSelectedColor",value:function(){var t=this;setTimeout((function(){t.selectedColor&&t.selectedPalette===t.selectedColor.palette&&t.selectedHue===t.selectedColor.hue||(""!==t.selectedPalette&&""!==t.selectedHue?(t.selectedBg=J.a.getColor(t.selectedPalette)[t.selectedHue],t.selectedFg=J.a.getColor(t.selectedPalette).contrast[t.selectedHue],t.selectedClass="mat-"+t.selectedPalette+"-"+t.selectedHue+"-bg"):(t.selectedBg="",t.selectedFg=""),t.selectedColor={palette:t.selectedPalette,hue:t.selectedHue,class:t.selectedClass,bg:t.selectedBg,fg:t.selectedFg},t.selectedPaletteChange.emit(t.selectedPalette),t.selectedHueChange.emit(t.selectedHue),t.selectedClassChange.emit(t.selectedClass),t.selectedBgChange.emit(t.selectedBg),t.selectedFgChange.emit(t.selectedFg),t.value=t.selectedColor,t.onValueChange.emit(t.selectedColor))}))}},{key:"backToPaletteSelection",value:function(){this.view="palettes"}},{key:"onMenuOpen",value:function(){this.view=""===this.selectedPalette?"palettes":"hues"}},{key:"selectedClass",set:function(t){if(t&&""!==t&&this._selectedClass!==t){var e=t.split("-");e.length>=5?(this.selectedPalette=e[1]+"-"+e[2],this.selectedHue=e[3]):(this.selectedPalette=e[1],this.selectedHue=e[2])}this._selectedClass=t},get:function(){return this._selectedClass}},{key:"selectedBg",set:function(t){if(t&&""!==t&&this._selectedBg!==t)for(var e in this.colors)if(this.colors.hasOwnProperty(e)){var c=!0,a=!1,n=void 0;try{for(var o,i=this.hues[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var r=o.value;if(this.colors[e][r]===t){this.selectedPalette=e,this.selectedHue=r;break}}}catch(s){a=!0,n=s}finally{try{c||null==i.return||i.return()}finally{if(a)throw n}}}this._selectedBg=t},get:function(){return this._selectedBg}}]),t}()).\u0275fac=function(t){return new(t||Ot)},Ot.\u0275cmp=l.Qb({type:Ot,selectors:[["persoinfo-material-color-picker"]],inputs:{selectedPalette:"selectedPalette",selectedHue:"selectedHue",selectedFg:"selectedFg",value:"value",selectedClass:"selectedClass",selectedBg:"selectedBg"},outputs:{onValueChange:"onValueChange",selectedPaletteChange:"selectedPaletteChange",selectedHueChange:"selectedHueChange",selectedClassChange:"selectedClassChange",selectedBgChange:"selectedBgChange",selectedFgChange:"selectedFgChange"},features:[l.Fb()],decls:17,vars:10,consts:[["mat-icon-button","","type","button",1,"mat-elevation-z1",3,"matMenuTriggerFor","ngClass","menuOpened"],[1,"persoinfo-material-color-picker-menu"],["colorMenu","matMenu"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mat-elevation-z4",3,"ngClass"],["mat-icon-button","","aria-label","Palette",3,"click"],[1,"s-20"],[4,"ngIf"],["mat-icon-button","","aria-label","Remove Color",1,"remove-color-button",3,"click"],[1,"views",3,"ngSwitch"],["class","view",4,"ngSwitchCase"],[1,"view"],["fxLayout","row wrap","fxLayoutAlign","start start","persoInfoPerfectScrollbar","",1,"colors"],["class","color","fxLayout","row","fxLayoutAlign","start end","mat-ink-ripple","",3,"ngClass","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start end","mat-ink-ripple","",1,"color",3,"ngClass","click"],[1,"label"],["class","color","fxLayout","row","fxLayoutAlign","start end","mat-ink-ripple","",3,"fxHide","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start end","mat-ink-ripple","",1,"color",3,"fxHide","ngClass","click"],["class","s-16",4,"ngIf"],[1,"s-16"]],template:function(t,e){if(1&t&&(l.cc(0,"button",0),l.oc("menuOpened",(function(){return e.onMenuOpen()})),l.cc(1,"mat-icon"),l.ad(2,"palette"),l.bc(),l.bc(),l.cc(3,"mat-menu",1,2),l.cc(5,"header",3),l.cc(6,"button",4),l.oc("click",(function(t){return t.stopPropagation(),e.backToPaletteSelection()})),l.cc(7,"mat-icon",5),l.ad(8,"arrow_back"),l.bc(),l.bc(),l.Yc(9,xt,2,2,"span",6),l.Yc(10,Ct,2,0,"span",6),l.cc(11,"button",7),l.oc("click",(function(t){return t.stopPropagation(),e.removeColor()})),l.cc(12,"mat-icon",5),l.ad(13,"delete"),l.bc(),l.bc(),l.bc(),l.cc(14,"div",8),l.Yc(15,yt,4,3,"div",9),l.Yc(16,Mt,3,1,"div",9),l.bc(),l.bc()),2&t){var c=l.Mc(4);l.zc("matMenuTriggerFor",c)("ngClass","mat-"+e.selectedPalette+"-"+e.selectedHue+"-bg"),l.Hb(5),l.zc("ngClass",(null==e.selectedColor?null:e.selectedColor.class)||"mat-accent-bg"),l.Hb(1),l.Xc("visibility","hues"===e.view?"visible":"hidden"),l.Hb(3),l.zc("ngIf",null==e.selectedColor?null:e.selectedColor.palette),l.Hb(1),l.zc("ngIf",!(null!=e.selectedColor&&e.selectedColor.palette)),l.Hb(4),l.zc("ngSwitch",e.view),l.Hb(1),l.zc("ngSwitchCase","palettes"),l.Hb(1),l.zc("ngSwitchCase","hues")}},directives:[Q.b,ft.c,k.r,S.a,_.a,ft.d,w.e,w.d,k.u,k.y,k.z,k.t,S.b],pipes:[Z],styles:[".persoinfo-material-color-picker-menu{width:208px}.persoinfo-material-color-picker-menu .mat-menu-content{padding:0}.persoinfo-material-color-picker-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;min-height:258px;height:308px;background-color:#f7f7f7}.persoinfo-material-color-picker-menu .mat-menu-content .views .view{position:absolute;width:208px;height:100%;bottom:0;left:0;right:0;top:0}.persoinfo-material-color-picker-menu .mat-menu-content .views .view .colors{position:relative;padding:4px}.persoinfo-material-color-picker-menu .mat-menu-content .views .view .colors .color{position:relative;width:46px;height:46px;margin:2px;border-radius:0;cursor:pointer}.persoinfo-material-color-picker-menu .mat-menu-content .views .view .colors .color .label{padding:2px;font-size:10px}.persoinfo-material-color-picker-menu .mat-menu-content .views .view .colors .color mat-icon{position:absolute;top:2px;right:2px;font-size:16px;opacity:.7}"],encapsulation:2,data:{animation:h.a}}),Ot);function Pt(t,e){if(1&t){var c=l.dc();l.cc(0,"div",10),l.cc(1,"mat-checkbox",11),l.oc("change",(function(){l.Qc(c);var t=e.$implicit,a=l.sc(2);return a.toggleInArray(t.id,a.card.idLabels),a.cardLabelsChanged()})),l.ad(2),l.bc(),l.cc(3,"button",12),l.cc(4,"mat-icon",13),l.oc("click",(function(){l.Qc(c);var t=e.$implicit,a=l.sc(2);return a.labelsMenuView="edit",a.selectedLabel=t})),l.ad(5,"mode_edit"),l.bc(),l.bc(),l.bc()}if(2&t){var a=e.$implicit,n=l.sc(2);l.zc("ngClass",a.color),l.Hb(1),l.zc("checked",n.card.idLabels.indexOf(a.id)>-1),l.Hb(1),l.cd(" ",a.name," ")}}function It(t,e){if(1&t){var c=l.dc();l.cc(0,"div",4),l.cc(1,"div",5),l.cc(2,"div"),l.ad(3,"Labels"),l.bc(),l.cc(4,"button",6),l.oc("click",(function(){return l.Qc(c),l.sc().labelsMenuView="add"})),l.cc(5,"mat-icon",7),l.ad(6,"add"),l.bc(),l.cc(7,"span"),l.ad(8,"Add"),l.bc(),l.bc(),l.bc(),l.cc(9,"div",8),l.Yc(10,Pt,6,3,"div",9),l.bc(),l.bc()}if(2&t){var a=l.sc();l.Hb(10),l.zc("ngForOf",a.board.labels)}}function Ft(t,e){if(1&t){var c=l.dc();l.cc(0,"div",14),l.cc(1,"div",15),l.cc(2,"button",16),l.oc("click",(function(){return l.Qc(c),l.sc().labelsMenuView="labels"})),l.cc(3,"mat-icon",7),l.ad(4,"arrow_back"),l.bc(),l.bc(),l.cc(5,"div"),l.ad(6,"Edit Label"),l.bc(),l.bc(),l.cc(7,"div",17),l.cc(8,"mat-form-field"),l.cc(9,"input",18),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc().selectedLabel.name=t}))("change",(function(){return l.Qc(c),l.sc().onLabelChange()})),l.bc(),l.bc(),l.cc(10,"persoinfo-material-color-picker",19),l.oc("selectedClassChange",(function(t){return l.Qc(c),l.sc().selectedLabel.color=t}))("change",(function(t){return l.Qc(c),l.sc().onLabelChange()})),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.Hb(9),l.zc("ngModel",a.selectedLabel.name),l.Hb(1),l.zc("selectedClass",a.selectedLabel.color)}}function At(t,e){if(1&t){var c=l.dc();l.cc(0,"div",20),l.cc(1,"div",15),l.cc(2,"button",16),l.oc("click",(function(){return l.Qc(c),l.sc().labelsMenuView="labels"})),l.cc(3,"mat-icon",7),l.ad(4,"arrow_back"),l.bc(),l.bc(),l.cc(5,"div"),l.ad(6,"Add Label"),l.bc(),l.bc(),l.cc(7,"form",21,22),l.oc("submit",(function(){return l.Qc(c),l.sc().addNewLabel()})),l.cc(9,"div",23),l.cc(10,"mat-form-field",24),l.cc(11,"input",25),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc().newLabel.name=t})),l.bc(),l.bc(),l.cc(12,"persoinfo-material-color-picker",26),l.oc("selectedClassChange",(function(t){return l.Qc(c),l.sc().newLabel.color=t})),l.bc(),l.bc(),l.cc(13,"button",27),l.ad(14,"ADD NEW LABEL"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.Mc(8),n=l.sc();l.Hb(11),l.zc("ngModel",n.newLabel.name),l.Hb(1),l.zc("selectedClass",n.newLabel.color),l.Hb(1),l.zc("disabled",!a.valid)}}var zt,Ht=((zt=function(){function t(e){_classCallCheck(this,t),this._scrumboardService=e,this.onCardLabelsChange=new l.o,this.labelsMenuView="labels",this.newLabel={id:"",name:"",color:"mat-blue-400-bg"},this.toggleInArray=p.a.toggleInArray,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"cardLabelsChanged",value:function(){this.onCardLabelsChange.next()}},{key:"onLabelChange",value:function(){this._scrumboardService.updateBoard()}},{key:"addNewLabel",value:function(){this.newLabel.id=p.a.generateGUID(),this.board.labels.push(Object.assign({},this.newLabel)),this.newLabel.name="",this.labelsMenuView="labels"}}]),t}()).\u0275fac=function(t){return new(t||zt)(l.Wb(b))},zt.\u0275cmp=l.Qb({type:zt,selectors:[["scrumboard-label-selector"]],inputs:{card:"card"},outputs:{onCardLabelsChange:"onCardLabelsChange"},decls:4,vars:4,consts:[[1,"views",3,"ngSwitch","click"],["class","view","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view edit","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view add","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["fxFlex","","fxLayout","column",1,"view"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","",3,"click"],[1,"s-16"],["fxFlex","","fxLayout","column","persoInfoPerfectScrollbar",""],["class","label","fxFlex","0 0 auto","fxLayout","row","fxFlexAlign","space-between center",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","row","fxFlexAlign","space-between center",1,"label",3,"ngClass"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"checked","change"],["mat-icon-button",""],[1,"s-16",3,"click"],["fxFlex","","fxLayout","column",1,"view","edit"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"content"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange","change"],[1,"ml-8",3,"selectedClass","selectedClassChange","change"],["fxFlex","","fxLayout","column",1,"view","add"],["fxFlex","","fxLayout","column","fxLayoutAlign","start end",3,"submit"],["newLabelForm","ngForm"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],["matInput","","placeholder","Name","name","labelName","required","",3,"ngModel","ngModelChange"],["name","labelColor",1,"ml-8",3,"selectedClass","selectedClassChange"],["mat-raised-button","",1,"mat-accent","mt-16",3,"disabled"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.oc("click",(function(t){return t.stopPropagation()})),l.Yc(1,It,11,1,"div",1),l.Yc(2,Ft,11,2,"div",2),l.Yc(3,At,15,3,"div",3),l.bc()),2&t&&(l.zc("ngSwitch",e.labelsMenuView),l.Hb(1),l.zc("ngSwitchCase","labels"),l.Hb(1),l.zc("ngSwitchCase","edit"),l.Hb(1),l.zc("ngSwitchCase","add"))},directives:[k.y,k.z,w.b,w.e,w.d,Q.b,_.a,y.a,k.t,w.a,k.r,S.a,ht.a,pt.b,vt.b,B.b,B.o,B.r,Lt,B.x,B.p,B.q,B.u],styles:[".scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 8px 8px 16px;margin-bottom:8px}.scrumboard-labels-menu .mat-menu-content .views .view .label{margin:0 8px 8px;padding:4px 4px 4px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add>.header,.scrumboard-labels-menu .mat-menu-content .views .view.edit>.header{padding:0 8px 8px 0}.scrumboard-labels-menu .mat-menu-content .views .view.add form,.scrumboard-labels-menu .mat-menu-content .views .view.edit form{padding:0 16px 8px}.scrumboard-labels-menu .mat-menu-content .views .view.add form .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit form .mat-form-field-infix{width:auto!important}.scrumboard-labels-menu .mat-menu-content .views .view.add .content,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content{padding:8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add .content .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content .mat-form-field-infix{width:auto!important}"],encapsulation:2,data:{animation:h.a}}),zt),St=c("iadO"),Qt=c("A5z7"),Bt=c("bv9b"),Dt=c("6dIM"),Yt=["checklistMenuTrigger"],Tt=["newCheckListTitleField"];function Nt(t,e){if(1&t&&(l.cc(0,"button",13),l.cc(1,"mat-icon"),l.ad(2,"today"),l.bc(),l.bc()),2&t){l.sc();var c=l.Mc(6);l.zc("matMenuTriggerFor",c)}}function Xt(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-form-field"),l.cc(1,"input",38),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc(2).card.due=t})),l.bc(),l.Xb(2,"mat-datepicker-toggle",39),l.Xb(3,"mat-datepicker",null,40),l.bc()}if(2&t){var a=l.Mc(4),n=l.sc(2);l.Hb(1),l.zc("matDatepicker",a)("ngModel",n.card.due),l.Hb(1),l.zc("for",a)}}function $t(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-checkbox",41),l.oc("change",(function(){l.Qc(c);var t=e.$implicit,a=l.sc(2);return a.toggleInArray(t.id,a.card.idMembers),a.updateCard()})),l.cc(1,"div",42),l.Xb(2,"img",43),l.cc(3,"p",44),l.ad(4),l.bc(),l.bc(),l.bc()}if(2&t){var a=e.$implicit,n=l.sc(2);l.zc("checked",n.card.idMembers.indexOf(a.id)>-1),l.Hb(2),l.zc("alt",a.name)("src",a.avatar,l.Sc),l.Hb(2),l.bd(a.name)}}function Rt(t,e){if(1&t){var c=l.dc();l.cc(0,"button",10),l.oc("click",(function(){return l.Qc(c),l.sc(2).toggleSubscribe()})),l.ad(1," Unsubscribe "),l.bc()}}function Wt(t,e){if(1&t){var c=l.dc();l.cc(0,"button",10),l.oc("click",(function(){return l.Qc(c),l.sc(2).toggleSubscribe()})),l.ad(1," Subscribe "),l.bc()}}function Vt(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-toolbar",3),l.cc(1,"div",4),l.cc(2,"div",5),l.cc(3,"div",6),l.Yc(4,Nt,3,1,"button",7),l.cc(5,"mat-menu",8,9),l.cc(7,"button",10),l.oc("click",(function(){return l.Qc(c),l.sc().removeDueDate()})),l.ad(8,"Remove Due Date"),l.bc(),l.bc(),l.Yc(9,Xt,5,3,"mat-form-field",11),l.bc(),l.cc(10,"div",12),l.cc(11,"button",13),l.cc(12,"mat-icon"),l.ad(13,"label"),l.bc(),l.bc(),l.cc(14,"mat-menu",14,15),l.cc(16,"scrumboard-label-selector",16),l.oc("onCardLabelsChange",(function(){return l.Qc(c),l.sc().updateCard()})),l.bc(),l.bc(),l.bc(),l.cc(17,"div",17),l.cc(18,"button",18),l.cc(19,"mat-icon"),l.ad(20,"account_circle"),l.bc(),l.bc(),l.cc(21,"mat-menu",8,19),l.cc(23,"div",20),l.oc("click",(function(t){return l.Qc(c),t.stopPropagation()})),l.Yc(24,$t,5,4,"mat-checkbox",21),l.bc(),l.bc(),l.bc(),l.cc(25,"button",22),l.cc(26,"mat-icon"),l.ad(27,"attachment"),l.bc(),l.bc(),l.cc(28,"div",6),l.cc(29,"button",23,24),l.oc("menuOpened",(function(){return l.Qc(c),l.sc().onChecklistMenuOpen()})),l.cc(31,"mat-icon"),l.ad(32,"check_box"),l.bc(),l.bc(),l.cc(33,"mat-menu",8,25),l.cc(35,"form",26,27),l.oc("submit",(function(){l.Qc(c);var t=l.Mc(36);return l.sc().addChecklist(t)}))("click",(function(t){return l.Qc(c),t.stopPropagation()})),l.cc(37,"mat-form-field",28),l.oc("click",(function(t){return l.Qc(c),t.stopPropagation()})),l.Xb(38,"input",29,30),l.bc(),l.cc(41,"button",31),l.ad(42,"Add Checklist "),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(43,"div",32),l.cc(44,"button",18),l.cc(45,"mat-icon"),l.ad(46,"remove_red_eye"),l.bc(),l.bc(),l.cc(47,"mat-menu",8,33),l.Yc(49,Rt,2,0,"button",34),l.Yc(50,Wt,2,0,"button",34),l.bc(),l.bc(),l.cc(51,"div",35),l.cc(52,"button",18),l.cc(53,"mat-icon"),l.ad(54,"more_horiz"),l.bc(),l.bc(),l.cc(55,"mat-menu",8,36),l.cc(57,"button",10),l.oc("click",(function(){return l.Qc(c),l.sc().removeCard()})),l.ad(58," Remove Card "),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(59,"button",37),l.oc("click",(function(){return l.Qc(c),l.sc()._matDialogRef.close()})),l.cc(60,"mat-icon"),l.ad(61,"close"),l.bc(),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.Mc(15),n=l.Mc(22),o=l.Mc(34),i=l.Mc(36),r=l.Mc(48),s=l.Mc(56),d=l.sc();l.Hb(4),l.zc("ngIf",d.card.due),l.Hb(1),l.zc("overlapTrigger",!1),l.Hb(4),l.zc("ngIf",!d.card.due),l.Hb(2),l.zc("matMenuTriggerFor",a),l.Hb(3),l.zc("overlapTrigger",!1),l.Hb(2),l.zc("card",d.card),l.Hb(2),l.zc("matMenuTriggerFor",n),l.Hb(3),l.zc("overlapTrigger",!1),l.Hb(3),l.zc("ngForOf",d.board.members),l.Hb(5),l.zc("matMenuTriggerFor",o),l.Hb(4),l.zc("overlapTrigger",!1),l.Hb(8),l.zc("disabled",!i.valid),l.Hb(3),l.zc("matMenuTriggerFor",r),l.Hb(3),l.zc("overlapTrigger",!1),l.Hb(2),l.zc("ngIf",d.card.subscribed),l.Hb(1),l.zc("ngIf",!d.card.subscribed),l.Hb(2),l.zc("matMenuTriggerFor",s),l.Hb(3),l.zc("overlapTrigger",!1)}}function Gt(t,e){if(1&t){var c=l.dc();l.cc(0,"div",76),l.cc(1,"mat-form-field",77),l.cc(2,"input",78),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc(2).card.due=t})),l.bc(),l.Xb(3,"mat-datepicker-toggle",39),l.Xb(4,"mat-datepicker",null,79),l.bc(),l.cc(6,"button",80),l.oc("click",(function(){return l.Qc(c),l.sc(2).removeDueDate()})),l.cc(7,"mat-icon",81),l.ad(8,"close"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.Mc(5),n=l.sc(2);l.Hb(2),l.zc("matDatepicker",a)("ngModel",n.card.due),l.Hb(1),l.zc("for",a)}}function jt(t,e){1&t&&(l.cc(0,"mat-icon",82),l.ad(1,"remove_red_eye"),l.bc())}function Ut(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-chip",89),l.tc(1,"getById"),l.cc(2,"span"),l.ad(3),l.tc(4,"getById"),l.bc(),l.cc(5,"mat-icon",90),l.oc("click",(function(){l.Qc(c);var t=e.$implicit,a=l.sc(4);return a.toggleInArray(t,a.card.idLabels),a.updateCard()})),l.ad(6,"close "),l.bc(),l.bc()}if(2&t){var a=e.$implicit,n=l.sc(4);l.zc("ngClass",l.wc(1,2,n.board.labels,a,"color")),l.Hb(3),l.bd(l.wc(4,6,n.board.labels,a,"name"))}}function qt(t,e){if(1&t&&(l.cc(0,"div",86),l.cc(1,"div",63),l.cc(2,"mat-icon",48),l.ad(3,"label"),l.bc(),l.cc(4,"span",64),l.ad(5,"Labels"),l.bc(),l.bc(),l.cc(6,"div",65),l.cc(7,"mat-chip-list",87),l.Yc(8,Ut,7,10,"mat-chip",88),l.bc(),l.bc(),l.bc()),2&t){var c=l.sc(3);l.Hb(8),l.zc("ngForOf",c.card.idLabels)}}function Et(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-chip",94),l.Xb(1,"img",95),l.tc(2,"getById"),l.tc(3,"getById"),l.cc(4,"mat-icon",90),l.oc("click",(function(){l.Qc(c);var t=e.$implicit,a=l.sc(4);return a.toggleInArray(t,a.card.idMembers),a.updateCard()})),l.ad(5,"close "),l.bc(),l.bc()}if(2&t){var a=e.$implicit,n=l.sc(4);l.Hb(1),l.zc("src",l.wc(2,2,n.board.members,a,"avatar"),l.Sc)("matTooltip",l.wc(3,6,n.board.members,a,"name"))}}function Jt(t,e){if(1&t&&(l.cc(0,"div",91),l.cc(1,"div",63),l.cc(2,"mat-icon",48),l.ad(3,"supervisor_account"),l.bc(),l.cc(4,"span",64),l.ad(5,"Members"),l.bc(),l.bc(),l.cc(6,"div",65),l.cc(7,"mat-chip-list",92),l.Yc(8,Et,6,10,"mat-chip",93),l.bc(),l.bc(),l.bc()),2&t){var c=l.sc(3);l.Hb(8),l.zc("ngForOf",c.card.idMembers)}}function Kt(t,e){if(1&t&&(l.cc(0,"div",83),l.Yc(1,qt,9,1,"div",84),l.Yc(2,Jt,9,1,"div",85),l.bc()),2&t){var c=l.sc(2);l.Hb(1),l.zc("ngIf",c.card.idLabels[0]),l.Hb(1),l.zc("ngIf",c.card.idMembers[0])}}function Zt(t,e){1&t&&(l.cc(0,"mat-icon",111),l.ad(1,"star "),l.bc())}function te(t,e){1&t&&(l.cc(0,"span"),l.ad(1,"Make Cover"),l.bc())}function ee(t,e){1&t&&(l.cc(0,"span"),l.ad(1,"Remove Cover"),l.bc())}var ce=function(t){return{"background-image":t}};function ae(t,e){if(1&t){var c=l.dc();l.cc(0,"div",102),l.Xb(1,"div",103),l.cc(2,"div",104),l.cc(3,"div",42),l.cc(4,"span",105),l.ad(5),l.bc(),l.Yc(6,Zt,2,0,"mat-icon",106),l.bc(),l.cc(7,"span",107),l.ad(8),l.bc(),l.cc(9,"div"),l.cc(10,"button",108),l.cc(11,"span",109),l.cc(12,"span"),l.ad(13,"Actions"),l.bc(),l.cc(14,"mat-icon",48),l.ad(15,"arrow_drop_down"),l.bc(),l.bc(),l.bc(),l.cc(16,"mat-menu",null,110),l.cc(18,"button",10),l.oc("click",(function(){l.Qc(c);var t=l.sc().$implicit;return l.sc(3).toggleCoverImage(t.id)})),l.Yc(19,te,2,0,"span",11),l.Yc(20,ee,2,0,"span",11),l.bc(),l.cc(21,"button",10),l.oc("click",(function(){l.Qc(c);var t=l.sc().$implicit;return l.sc(3).removeAttachment(t)})),l.ad(22," Remove Attachment "),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.Mc(17),n=l.sc().$implicit,o=l.sc(3);l.Hb(1),l.zc("ngStyle",l.Dc(7,ce,"url("+n.src+")")),l.Hb(4),l.bd(n.name),l.Hb(1),l.zc("ngIf",o.card.idAttachmentCover===n.id),l.Hb(2),l.bd(n.time),l.Hb(2),l.zc("matMenuTriggerFor",a),l.Hb(9),l.zc("ngIf",o.card.idAttachmentCover!==n.id),l.Hb(1),l.zc("ngIf",o.card.idAttachmentCover===n.id)}}function ne(t,e){if(1&t&&(l.cc(0,"div",68),l.cc(1,"div",112),l.cc(2,"span"),l.ad(3,"LINK"),l.bc(),l.bc(),l.cc(4,"div",104),l.cc(5,"span",113),l.ad(6),l.bc(),l.cc(7,"span",107),l.ad(8),l.bc(),l.bc(),l.bc()),2&t){var c=l.sc().$implicit;l.Hb(6),l.bd(c.url),l.Hb(2),l.bd(c.time)}}function oe(t,e){1&t&&(l.cc(0,"div",99),l.Yc(1,ae,23,9,"div",100),l.Yc(2,ne,9,2,"div",101),l.bc()),2&t&&(l.zc("ngSwitch",e.$implicit.type),l.Hb(1),l.zc("ngSwitchCase","image"),l.Hb(1),l.zc("ngSwitchCase","link"))}function ie(t,e){if(1&t&&(l.cc(0,"div",61),l.cc(1,"div",96),l.cc(2,"div",63),l.cc(3,"mat-icon",48),l.ad(4,"attachment"),l.bc(),l.cc(5,"span",64),l.ad(6,"Attachments"),l.bc(),l.bc(),l.cc(7,"div",65),l.Yc(8,oe,3,3,"div",97),l.cc(9,"button",98),l.cc(10,"div",42),l.cc(11,"mat-icon",48),l.ad(12,"add"),l.bc(),l.cc(13,"span"),l.ad(14,"Add an attachment"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()),2&t){var c=l.sc(2);l.Hb(8),l.zc("ngForOf",c.card.attachments)}}function re(t,e){if(1&t){var c=l.dc();l.cc(0,"div",129),l.cc(1,"div",5),l.cc(2,"mat-checkbox",130),l.oc("ngModelChange",(function(t){return l.Qc(c),e.$implicit.checked=t}))("change",(function(){l.Qc(c);var t=l.sc().$implicit;return l.sc(2).updateCheckedCount(t)})),l.bc(),l.cc(3,"mat-form-field",131),l.cc(4,"input",132),l.oc("ngModelChange",(function(t){return l.Qc(c),e.$implicit.name=t})),l.bc(),l.bc(),l.bc(),l.cc(5,"button",133),l.oc("click",(function(){l.Qc(c);var t=e.$implicit,a=l.sc().$implicit;return l.sc(2).removeChecklistItem(t,a)})),l.cc(6,"mat-icon",134),l.ad(7,"delete"),l.bc(),l.bc(),l.bc()}if(2&t){var a=e.$implicit;l.Hb(2),l.Ac("aria-label",a.name),l.zc("ngModel",a.checked),l.Hb(2),l.zc("ngModel",a.name)}}function se(t,e){if(1&t){var c=l.dc();l.cc(0,"div",61),l.cc(1,"div",114),l.cc(2,"div",63),l.cc(3,"mat-icon",48),l.ad(4,"check_box"),l.bc(),l.cc(5,"span",115),l.ad(6),l.bc(),l.cc(7,"div"),l.cc(8,"button",116),l.cc(9,"mat-icon",48),l.ad(10,"more_vert"),l.bc(),l.bc(),l.cc(11,"mat-menu",null,117),l.cc(13,"button",10),l.oc("click",(function(){l.Qc(c);var t=e.$implicit;return l.sc(2).removeChecklist(t)})),l.cc(14,"mat-icon"),l.ad(15,"delete"),l.bc(),l.cc(16,"span"),l.ad(17,"Remove Checklist"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(18,"div",65),l.cc(19,"div",118),l.cc(20,"span",119),l.ad(21),l.bc(),l.Xb(22,"mat-progress-bar",120),l.bc(),l.cc(23,"div",121),l.Yc(24,re,8,3,"div",122),l.bc(),l.cc(25,"form",123,124),l.oc("submit",(function(){l.Qc(c);var t=e.$implicit,a=l.Mc(26);return l.sc(2).addCheckItem(a,t)})),l.cc(27,"div",125),l.cc(28,"mat-icon",48),l.ad(29,"add"),l.bc(),l.cc(30,"mat-form-field",126),l.Xb(31,"input",127,128),l.bc(),l.bc(),l.cc(33,"button",74),l.cc(34,"span"),l.ad(35,"Add"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()}if(2&t){var a=e.$implicit,n=l.Mc(12),o=l.Mc(26);l.Hb(6),l.bd(a.name),l.Hb(2),l.zc("matMenuTriggerFor",n),l.Hb(13),l.dd(" ",a.checkItemsChecked," / ",a.checkItems.length," "),l.Hb(1),l.Ac("value",100*a.checkItemsChecked/a.checkItems.length),l.Hb(2),l.zc("ngForOf",a.checkItems),l.Hb(9),l.zc("disabled",!o.valid||o.pristine)}}function de(t,e){if(1&t&&(l.cc(0,"div",135),l.Xb(1,"img",136),l.tc(2,"getById"),l.cc(3,"div",137),l.cc(4,"div",138),l.ad(5),l.tc(6,"getById"),l.bc(),l.cc(7,"div",139),l.ad(8),l.bc(),l.cc(9,"div",140),l.ad(10),l.bc(),l.bc(),l.bc()),2&t){var c=e.$implicit,a=l.sc(2);l.Hb(1),l.zc("src",l.wc(2,4,a.board.members,c.idMember,"avatar"),l.Sc),l.Hb(4),l.cd(" ",l.wc(6,8,a.board.members,c.idMember,"name")," "),l.Hb(3),l.bd(c.message),l.Hb(2),l.bd(c.time)}}function le(t,e){if(1&t&&(l.cc(0,"div",143),l.Xb(1,"img",144),l.tc(2,"getById"),l.cc(3,"div",145),l.ad(4),l.tc(5,"getById"),l.bc(),l.cc(6,"div",146),l.ad(7),l.bc(),l.cc(8,"div",147),l.ad(9),l.bc(),l.bc()),2&t){var c=e.$implicit,a=l.sc(3);l.Hb(1),l.zc("src",l.wc(2,4,a.board.members,c.idMember,"avatar"),l.Sc),l.Hb(3),l.bd(l.wc(5,8,a.board.members,c.idMember,"name")),l.Hb(3),l.bd(c.message),l.Hb(2),l.bd(c.time)}}function me(t,e){if(1&t&&(l.cc(0,"div",61),l.cc(1,"div",141),l.cc(2,"div",63),l.cc(3,"mat-icon",48),l.ad(4,"list"),l.bc(),l.cc(5,"span",64),l.ad(6,"Activity"),l.bc(),l.bc(),l.cc(7,"div",65),l.Yc(8,le,10,12,"div",142),l.bc(),l.bc(),l.bc()),2&t){var c=l.sc(2);l.Hb(8),l.zc("ngForOf",c.card.activities)}}function be(t,e){if(1&t){var c=l.dc();l.cc(0,"div",45),l.cc(1,"div",46),l.cc(2,"div",47),l.cc(3,"span"),l.ad(4),l.bc(),l.cc(5,"mat-icon",48),l.ad(6,"chevron_right"),l.bc(),l.cc(7,"span"),l.ad(8),l.bc(),l.bc(),l.Yc(9,Gt,9,3,"div",49),l.bc(),l.cc(10,"div",42),l.Yc(11,jt,2,0,"mat-icon",50),l.cc(12,"div",51),l.cc(13,"mat-form-field",52),l.cc(14,"input",53),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc().card.name=t}))("change",(function(){return l.Qc(c),l.sc().updateCard()})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(15,"div",54),l.cc(16,"mat-form-field",55),l.cc(17,"textarea",56),l.oc("ngModelChange",(function(t){return l.Qc(c),l.sc().card.description=t}))("change",(function(){return l.Qc(c),l.sc().updateCard()})),l.bc(),l.bc(),l.bc(),l.cc(18,"div",57),l.Yc(19,Kt,3,2,"div",58),l.Yc(20,ie,15,1,"div",59),l.Yc(21,se,36,7,"div",60),l.cc(22,"div",61),l.cc(23,"div",62),l.cc(24,"div",63),l.cc(25,"mat-icon",48),l.ad(26,"comment"),l.bc(),l.cc(27,"span",64),l.ad(28,"Comments"),l.bc(),l.bc(),l.cc(29,"div",65),l.cc(30,"form",66,67),l.oc("submit",(function(){l.Qc(c);var t=l.Mc(31);return l.sc().addNewComment(t)})),l.cc(32,"div",68),l.Xb(33,"img",69),l.cc(34,"mat-form-field",70),l.Xb(35,"input",71,72),l.bc(),l.bc(),l.cc(37,"div",73),l.cc(38,"button",74),l.cc(39,"span"),l.ad(40,"Add"),l.bc(),l.bc(),l.bc(),l.bc(),l.Yc(41,de,11,12,"div",75),l.bc(),l.bc(),l.bc(),l.Yc(42,me,9,1,"div",59),l.bc(),l.bc()}if(2&t){var a=l.Mc(31),n=l.sc();l.Hb(4),l.bd(n.board.name),l.Hb(4),l.bd(n.list.name),l.Hb(1),l.zc("ngIf",n.card.due),l.Hb(2),l.zc("ngIf",n.card.subscribed),l.Hb(3),l.zc("ngModel",n.card.name),l.Hb(3),l.zc("ngModel",n.card.description),l.Hb(2),l.zc("ngIf",n.card.idLabels[0]||n.card.idMembers[0]),l.Hb(1),l.zc("ngIf",n.card.attachments[0]),l.Hb(1),l.zc("ngForOf",n.card.checklists),l.Hb(17),l.zc("disabled",!a.valid||a.pristine),l.Hb(3),l.zc("ngForOf",n.card.comments),l.Hb(1),l.zc("ngIf",n.card.activities[0])}}var ue,ge=((ue=function(){function t(e,c,a,n){_classCallCheck(this,t),this._matDialogRef=e,this._data=c,this._matDialog=a,this._scrumboardService=n,this.toggleInArray=p.a.toggleInArray,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e,t.card=t.board.cards.find((function(e){return t._data.cardId===e.id})),t.list=t.board.lists.find((function(e){return t._data.listId===e.id}))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"removeDueDate",value:function(){this.card.due="",this.updateCard()}},{key:"toggleSubscribe",value:function(){this.card.subscribed=!this.card.subscribed,this.updateCard()}},{key:"toggleCoverImage",value:function(t){this.card.idAttachmentCover=this.card.idAttachmentCover===t?"":t,this.updateCard()}},{key:"removeAttachment",value:function(t){t.id===this.card.idAttachmentCover&&(this.card.idAttachmentCover=""),this.card.attachments.splice(this.card.attachments.indexOf(t),1),this.updateCard()}},{key:"removeChecklist",value:function(t){this.card.checklists.splice(this.card.checklists.indexOf(t),1),this.updateCard()}},{key:"updateCheckedCount",value:function(t){var e=t.checkItems,c=0,a=0,n=0,o=!0,i=!1,r=void 0;try{for(var s,d=e[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)s.value.checked&&c++}catch(h){i=!0,r=h}finally{try{o||null==d.return||d.return()}finally{if(i)throw r}}t.checkItemsChecked=c;var l=!0,m=!1,b=void 0;try{for(var u,g=this.card.checklists[Symbol.iterator]();!(l=(u=g.next()).done);l=!0){var f=u.value;n+=f.checkItems.length,a+=f.checkItemsChecked}}catch(h){m=!0,b=h}finally{try{l||null==g.return||g.return()}finally{if(m)throw b}}this.card.checkItems=n,this.card.checkItemsChecked=a,this.updateCard()}},{key:"removeChecklistItem",value:function(t,e){e.checkItems.splice(e.checkItems.indexOf(t),1),this.updateCheckedCount(e),this.updateCard()}},{key:"addCheckItem",value:function(t,e){var c=t.value.checkItem;c&&""!==c&&(e.checkItems.push({name:c,checked:!1}),this.updateCheckedCount(e),t.setValue({checkItem:""}),this.updateCard())}},{key:"addChecklist",value:function(t){this.card.checklists.push({id:p.a.generateGUID(),name:t.value.checklistTitle,checkItemsChecked:0,checkItems:[]}),t.setValue({checklistTitle:""}),t.resetForm(),this.checklistMenu.closeMenu(),this.updateCard()}},{key:"onChecklistMenuOpen",value:function(){var t=this;setTimeout((function(){t.newCheckListTitleField.nativeElement.focus()}))}},{key:"addNewComment",value:function(t){this.card.comments.unshift({idMember:"36027j1930450d8bf7b10158",message:t.value.newComment,time:"now"}),t.setValue({newComment:""}),this.updateCard()}},{key:"removeCard",value:function(){var t=this;this.confirmDialogRef=this._matDialog.open(mt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the card?",this.confirmDialogRef.afterClosed().subscribe((function(e){e&&(t._matDialogRef.close(),t._scrumboardService.removeCard(t.card.id,t.list.id))}))}},{key:"updateCard",value:function(){this._scrumboardService.updateCard(this.card)}}]),t}()).\u0275fac=function(t){return new(t||ue)(l.Wb(ut.f),l.Wb(ut.a),l.Wb(ut.b),l.Wb(b))},ue.\u0275cmp=l.Qb({type:ue,selectors:[["scrumboard-board-card-dialog"]],viewQuery:function(t,e){var c;1&t&&(l.fd(Yt,!0),l.fd(Tt,!0)),2&t&&(l.Lc(c=l.pc())&&(e.checklistMenu=c.first),l.Lc(c=l.pc())&&(e.newCheckListTitleField=c.first))},decls:3,vars:2,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","","class","mat-accent-bg m-0","fxFlex","1 0 auto","fxLayout","row",4,"ngIf"],["mat-dialog-content","","class","p-24 m-0","persoInfoPerfectScrollbar","",4,"ngIf"],["matDialogTitle","","fxFlex","1 0 auto","fxLayout","row",1,"mat-accent-bg","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","0 1 auto",1,"due-date"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["dueDateMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto",1,"labels"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"scrumboard-labels-menu",3,"overlapTrigger"],["labelsMenu","matMenu"],[3,"card","onCardLabelsChange"],["fxFlex","0 1 auto",1,"members"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["membersMenu","matMenu"],["fxFlex","","fxLayout","column",1,"scrumboard-members-menu",3,"click"],["class","member px-12",3,"checked","change",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Attachment"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","menuOpened"],["checklistMenuTrigger","matMenuTrigger"],["checklistMenu","matMenu"],["fxLayout","column","fxLayoutAlign","start end",1,"px-16","py-8",3,"submit","click"],["newChecklistForm","ngForm"],["floatLabel","never","fxFlex","",3,"click"],["matInput","","ngModel","","name","checklistTitle","placeholder","Checklist title","required",""],["newCheckListTitleField","","checklistTitle","ngModel"],["mat-raised-button","","aria-label","Add Checklist",1,"mat-accent",3,"disabled"],["fxFlex","0 1 auto",1,"subscribe"],["subscribeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["fxFlex","0 1 auto",1,"options"],["optionsMenu","matMenu"],["mat-icon-button","","aria-label","Close Dialog",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["menuPicker",""],[1,"member","px-12",3,"checked","change"],["fxLayout","row","fxLayoutAlign","start center"],[1,"avatar",3,"alt","src"],[1,"member-name"],["mat-dialog-content","","persoInfoPerfectScrollbar","",1,"p-24","m-0"],["fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","start center",1,"card-breadcrumb","mb-16","mb-sm-0"],[1,"s-20"],["class","due-date","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","card-subscribe s-20 mr-12",4,"ngIf"],[1,"card-name"],["floatLabel","never",1,"w-100-p"],["matInput","","placeholder","Title","required","",3,"ngModel","ngModelChange","change"],[1,"description"],[1,"w-100-p"],["matInput","","placeholder","Description","columns","1","mat-maxlength","150","max-rows","4",3,"ngModel","ngModelChange","change"],[1,"sections"],["class","section","fxLayout","column","fxLayout.gt-xs","row",4,"ngIf"],["class","section",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"comments"],["fxLayout","row","fxLayoutAlign","start center",1,"section-header"],[1,"section-title"],[1,"section-content"],["name","cardCommentForm","fxLayout","column","fxLayoutAlign","start","no-validate","",1,"comment","new-comment",3,"submit"],["newCommentForm","ngForm"],["fxLayout","row"],["src","assets/images/avatars/profile.jpg",1,"comment-member-avatar"],["fxFlex",""],["matInput","","name","newComment","ngModel","","placeholder","Write a comment..","required",""],["newComment","ngModel"],["fxLayout","row","fxLayoutAlign","end center"],["mat-raised-button","","aria-label","Add",1,"mat-accent",3,"disabled"],["class","comment","fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"due-date"],["floatLabel","never"],["matInput","","placeholder","Choose a due date",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],["mat-icon-button","",1,"remove-due-date",3,"click"],[1,"s-16"],[1,"card-subscribe","s-20","mr-12"],["fxLayout","column","fxLayout.gt-xs","row",1,"section"],["fxFlex","","class","labels",4,"ngIf"],["fxFlex","","class","members",4,"ngIf"],["fxFlex","",1,"labels"],[1,"label-chips"],["class","label-chip mb-4","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"label-chip","mb-4",3,"ngClass"],[1,"ml-8","s-16","chip-remove",3,"click"],["fxFlex","",1,"members"],[1,"member-chips"],["class","member-chip mb-4","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-chip","mb-4"],[1,"member-chip-avatar",3,"src","matTooltip"],[1,"attachments"],["class","attachment",3,"ngSwitch",4,"ngFor","ngForOf"],["mat-button","","aria-label","add attachment",1,"add-attachment-button"],[1,"attachment",3,"ngSwitch"],["fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","start center","fxLayout","column","fxLayoutAlign","center start",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","start center","fxLayout","column","fxLayoutAlign","center start"],[1,"attachment-preview","mat-elevation-z2",3,"ngStyle"],["fxLayout","column",1,"attachment-content"],[1,"attachment-name"],["class","yellow-700-fg attachment-is-cover s-20",4,"ngIf"],[1,"attachment-time"],["mat-raised-button","",1,"attachment-actions-button",3,"matMenuTriggerFor"],["fxLayout","row","fxLayoutAlign","center center"],["attachmentActionsMenu","matMenu"],[1,"yellow-700-fg","attachment-is-cover","s-20"],["fxLayout","column","fxLayoutAlign","center center",1,"attachment-preview","mat-elevation-z2"],[1,"attachment-url"],[1,"checklist"],["fxFlex","",1,"section-title"],["mat-icon-button","",1,"checklist-actions-button",3,"matMenuTriggerFor"],["checklistActionsMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start center",1,"checklist-progress"],[1,"checklist-progress-value"],["mode","determinate",1,"mat-accent","checklist-progressbar",3,"value"],[1,"check-items"],["class","check-item","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["name","newCheckItemForm","fxLayout","row","fxLayoutAlign","start center",1,"new-check-item-form",3,"submit"],["newCheckItemForm","ngForm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["fxFlex","",1,"no-errors-spacer","mx-12"],["matInput","","ngModel","","name","checkItem","placeholder","Add an item","autocomplete","off"],["checkItem","ngModel"],["fxLayout","row","fxLayoutAlign","space-between center",1,"check-item"],[3,"ngModel","aria-label","ngModelChange","change"],["fxFlex","",1,"mx-12"],["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","",1,"checklist-actions-button",3,"click"],[1,"secondary-text","s-20"],["fxLayout","row",1,"comment"],[1,"comment-member-avatar",3,"src"],["fxLayout","column"],[1,"comment-member-name"],[1,"comment-bubble"],[1,"comment-time","secondary-text"],[1,"activities"],["class","activity","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"activity"],[1,"activity-member-avatar",3,"src"],[1,"activity-member-name"],[1,"activity-message"],[1,"activity-time","secondary-text"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.Yc(1,Vt,62,18,"mat-toolbar",1),l.Yc(2,be,43,12,"div",2),l.bc()),2&t&&(l.Hb(1),l.zc("ngIf",e.card),l.Hb(1),l.zc("ngIf",e.card))},directives:[k.u,gt.a,ut.g,w.b,w.e,w.d,ft.d,ft.a,Q.b,ft.c,_.a,Ht,k.t,B.x,B.p,B.q,pt.b,vt.b,B.b,B.o,B.r,B.u,St.b,St.d,pt.g,St.a,ht.a,ut.d,y.a,Qt.b,Qt.a,k.r,S.a,$.a,k.y,k.z,k.x,S.c,Bt.a],pipes:[Dt.a],styles:['.scrumboard-card-dialog{width:720px}@media screen and (max-width:599px){.scrumboard-card-dialog{width:100%}}.scrumboard-card-dialog .mat-dialog-container{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field{width:auto;margin:0 8px}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{align-items:center}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content{position:relative;background-color:#f5f5f5}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-breadcrumb{font-weight:500;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-subscribe{margin-right:8px;color:rgba(0,0,0,.6)}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .picker{width:140px;min-width:140px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{width:100%;font-size:22px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{font-size:14px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .description{padding-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section{border-bottom:1px solid rgba(0,0,0,.12);margin-bottom:32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child{border-bottom:none;margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child .section-content{padding-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header{font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header mat-icon{margin-right:8px;color:rgba(0,0,0,.6)}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header .section-title{font-weight:500}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-content{padding:24px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip{display:block}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip{padding:4px 12px 4px 4px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .member-chip-avatar{width:32px;border-radius:50%}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{background-color:#eef0f2;width:160px;height:128px;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;font-weight:500;color:rgba(0,0,0,.6);margin-right:24px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{margin-bottom:24px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-name,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-url{font-weight:500;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-is-cover{margin-left:6px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-time{color:rgba(0,0,0,.6)}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-actions-button{background-color:#fff;text-transform:capitalize;margin:12px 0 0;padding-left:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-actions-button mat-icon{margin-left:8px;color:rgba(0,0,0,.6)}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button mat-icon{color:rgba(0,0,0,.6);margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button span{font-weight:500;text-transform:capitalize}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress .checklist-progress-value{margin-right:12px;font-weight:500;white-space:nowrap;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .editable-wrap{flex:1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox{margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox .mat-label{font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox.mat-checked .mat-label{text-decoration:line-through;color:rgba(0,0,0,.6)}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form{padding-top:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form .mat-button{margin:0 0 0 16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-name{font-size:14px;font-weight:500}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-time{font-size:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble{position:relative;padding:8px;background-color:#fff;border:1px solid #dcdfe1;font-size:14px;margin:4px 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble:after,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble:before{content:" ";position:absolute;width:0;height:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble:after{left:-7px;right:auto;top:0;bottom:auto;border:11px solid transparent;border-top-color:#fff}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble:before{left:-9px;right:auto;top:-1px;bottom:auto;border:8px solid transparent;border-top-color:#dcdfe1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment mat-form-field{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity{margin-bottom:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-avatar{width:24px;height:24px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-name{font-size:14px;font-weight:500;margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-message{font-size:14px;margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-time{font-size:12px}.scrumboard-card-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.scrumboard-members-menu{width:240px}.scrumboard-members-menu .mat-checkbox-label,.scrumboard-members-menu .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1)}'],encapsulation:2}),ue),fe=["nameInput"];function he(t,e){if(1&t){var c=l.dc();l.cc(0,"div",2),l.oc("click",(function(){return l.Qc(c),l.sc().openForm()})),l.ad(1),l.bc()}if(2&t){var a=l.sc();l.Hb(1),l.cd(" ",a.list.name,"\n")}}function pe(t,e){if(1&t){var c=l.dc();l.cc(0,"form",3),l.oc("ngSubmit",(function(){return l.Qc(c),l.sc().onFormSubmit()})),l.Xb(1,"input",4,5),l.cc(3,"button",6),l.cc(4,"mat-icon"),l.ad(5,"check"),l.bc(),l.bc(),l.cc(6,"button",7),l.oc("click",(function(){return l.Qc(c),l.sc().closeForm()})),l.cc(7,"mat-icon"),l.ad(8,"close"),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.zc("formGroup",a.form)}}var ve,xe=((ve=function(){function t(e){_classCallCheck(this,t),this._formBuilder=e,this.formActive=!1,this.onNameChanged=new l.o}return _createClass(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[this.list.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.list.name=this.form.getRawValue().name,this.onNameChanged.next(this.list.name),this.formActive=!1)}}]),t}()).\u0275fac=function(t){return new(t||ve)(l.Wb(B.c))},ve.\u0275cmp=l.Qb({type:ve,selectors:[["scrumboard-board-edit-list-name"]],viewQuery:function(t,e){var c;1&t&&l.fd(fe,!0),2&t&&l.Lc(c=l.pc())&&(e.nameInputField=c.first)},inputs:{list:"list"},outputs:{onNameChanged:"onNameChanged"},decls:2,vars:2,consts:[["fxFlex","1 0 auto","class","list-header-name",3,"click",4,"ngIf"],["class","list-header-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto",1,"list-header-name",3,"click"],["fxLayout","row","fxFlex","1 0 auto",1,"list-header-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,e){1&t&&(l.Yc(0,he,2,1,"div",0),l.Yc(1,pe,9,1,"form",1)),2&t&&(l.zc("ngIf",!e.formActive),l.Hb(1),l.zc("ngIf",e.formActive))},directives:[k.u,w.b,B.x,B.p,w.e,B.h,B.b,B.o,B.f,Q.b,_.a],styles:["[_nghost-%COMP%]   .list-header-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:500;cursor:pointer}"]}),ve),Ce=["nameInput"];function we(t,e){if(1&t){var c=l.dc();l.cc(0,"div",2),l.oc("click",(function(){return l.Qc(c),l.sc().openForm()})),l.cc(1,"div"),l.cc(2,"mat-icon",3),l.ad(3,"add"),l.bc(),l.bc(),l.cc(4,"span"),l.ad(5,"Add a card"),l.bc(),l.bc()}}function ye(t,e){if(1&t){var c=l.dc();l.cc(0,"div",4),l.cc(1,"form",5),l.oc("submit",(function(){return l.Qc(c),l.sc().onFormSubmit()})),l.cc(2,"mat-form-field",6),l.Xb(3,"input",7,8),l.bc(),l.cc(5,"div",9),l.cc(6,"button",10),l.cc(7,"span"),l.ad(8,"Add"),l.bc(),l.bc(),l.cc(9,"button",11),l.oc("click",(function(){return l.Qc(c),l.sc().closeForm()})),l.cc(10,"mat-icon"),l.ad(11,"close"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()}if(2&t){var a=l.sc();l.Hb(1),l.zc("formGroup",a.form),l.Hb(5),l.zc("disabled",a.form.invalid)}}var ke,_e=((ke=function(){function t(e){_classCallCheck(this,t),this._formBuilder=e,this.formActive=!1,this.onCardAdd=new l.o}return _createClass(t,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:""}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var t=this;setTimeout((function(){t.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){if(this.form.valid){var t=this.form.getRawValue().name;this.onCardAdd.next(t),this.formActive=!1}}}]),t}()).\u0275fac=function(t){return new(t||ke)(l.Wb(B.c))},ke.\u0275cmp=l.Qb({type:ke,selectors:[["scrumboard-board-add-card"]],viewQuery:function(t,e){var c;1&t&&l.fd(Ce,!0),2&t&&l.Lc(c=l.pc())&&(e.nameInputField=c.first)},outputs:{onCardAdd:"onCardAdd"},decls:2,vars:2,consts:[["class","add-card-button","fxLayout","row","fxLayoutAlign","start center",3,"click",4,"ngIf"],["class","add-card-form-wrapper",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"add-card-button",3,"click"],[1,"s-20"],[1,"add-card-form-wrapper"],["fxLayout","column",1,"add-card-form",3,"formGroup","submit"],["fxFlex","","floatLabel","never"],["matInput","","formControlName","name","placeholder","Card title","autocomplete","off","required",""],["nameInput",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"pl-8"],["mat-raised-button","","aria-label","add",1,"add-button","mat-accent",3,"disabled"],["mat-icon-button","","aria-label","cancel",1,"cancel-button",3,"click"]],template:function(t,e){1&t&&(l.Yc(0,we,6,0,"div",0),l.Yc(1,ye,12,2,"div",1)),2&t&&(l.zc("ngIf",!e.formActive),l.Hb(1),l.zc("ngIf",e.formActive))},directives:[k.u,w.e,w.d,_.a,B.x,B.p,B.h,pt.b,w.b,vt.b,B.b,B.o,B.f,B.u,Q.b],styles:["[_nghost-%COMP%]   .add-card-button[_ngcontent-%COMP%]{position:relative;height:48px;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:500;font-size:14px;background-color:#dcdfe2;cursor:pointer;border-radius:2px}[_nghost-%COMP%]   .add-card-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:rgba(0,0,0,.6)}[_nghost-%COMP%]   .add-card-form-wrapper[_ngcontent-%COMP%]{background-color:#dcdfe2}[_nghost-%COMP%]   .add-card-form-wrapper[_ngcontent-%COMP%]   .add-card-form[_ngcontent-%COMP%]{z-index:999;background:#fff;display:block;position:relative;padding:8px;border-top:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .add-card-form-wrapper[_ngcontent-%COMP%]   .add-card-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0;padding:12px 8px}"]}),ke),Me=c("wd/R");function Oe(t,e){if(1&t&&(l.cc(0,"div",12),l.Xb(1,"img",13),l.tc(2,"getById"),l.bc()),2&t){var c=l.sc();l.Hb(1),l.zc("src",l.wc(2,1,c.card.attachments,c.card.idAttachmentCover,"src"),l.Sc)}}function Le(t,e){if(1&t&&(l.Xb(0,"span",16),l.tc(1,"getById"),l.tc(2,"getById")),2&t){var c=e.$implicit,a=l.sc(2);l.zc("ngClass",l.wc(1,2,a.board.labels,c,"color"))("matTooltip",l.wc(2,6,a.board.labels,c,"name"))}}function Pe(t,e){if(1&t&&(l.cc(0,"div",14),l.Yc(1,Le,3,10,"span",15),l.bc()),2&t){var c=l.sc();l.Hb(1),l.zc("ngForOf",c.card.idLabels)}}var Ie=function(t){return{overdue:t}};function Fe(t,e){if(1&t&&(l.cc(0,"span",20),l.cc(1,"mat-icon",21),l.ad(2,"access_time"),l.bc(),l.cc(3,"span"),l.ad(4),l.tc(5,"date"),l.bc(),l.bc()),2&t){var c=l.sc(2);l.zc("ngClass",l.Dc(5,Ie,c.isOverdue(c.card.due))),l.Hb(4),l.bd(l.vc(5,2,c.card.due,"mediumDate"))}}var Ae=function(t){return{completed:t}};function ze(t,e){if(1&t&&(l.cc(0,"span",22),l.cc(1,"mat-icon",21),l.ad(2,"check_circle"),l.bc(),l.cc(3,"span"),l.ad(4),l.bc(),l.cc(5,"span"),l.ad(6,"/"),l.bc(),l.cc(7,"span"),l.ad(8),l.bc(),l.bc()),2&t){var c=l.sc(2);l.zc("ngClass",l.Dc(3,Ae,c.card.checkItemsChecked===c.card.checkItems)),l.Hb(4),l.bd(c.card.checkItemsChecked),l.Hb(4),l.bd(c.card.checkItems)}}function He(t,e){if(1&t&&(l.cc(0,"div",17),l.Yc(1,Fe,6,7,"span",18),l.Yc(2,ze,9,5,"span",19),l.bc()),2&t){var c=l.sc();l.Hb(1),l.zc("ngIf",c.card.due),l.Hb(1),l.zc("ngIf",c.card.checkItems)}}function Se(t,e){if(1&t&&(l.cc(0,"div",25),l.Xb(1,"img",26),l.tc(2,"getById"),l.tc(3,"getById"),l.bc()),2&t){var c=e.$implicit,a=l.sc(2);l.Hb(1),l.zc("src",l.wc(2,2,a.board.members,c,"avatar"),l.Sc)("matTooltip",l.wc(3,6,a.board.members,c,"name"))}}function Qe(t,e){if(1&t&&(l.cc(0,"div",23),l.Yc(1,Se,4,10,"div",24),l.bc()),2&t){var c=l.sc();l.Hb(1),l.zc("ngForOf",c.card.idMembers)}}function Be(t,e){1&t&&(l.cc(0,"span",27),l.cc(1,"mat-icon",28),l.ad(2,"remove_red_eye"),l.bc(),l.bc())}function De(t,e){1&t&&(l.cc(0,"span",27),l.cc(1,"mat-icon",28),l.ad(2,"description"),l.bc(),l.bc())}function Ye(t,e){if(1&t&&(l.cc(0,"span",27),l.cc(1,"mat-icon",28),l.ad(2,"attachment"),l.bc(),l.cc(3,"span",29),l.ad(4),l.bc(),l.bc()),2&t){var c=l.sc();l.Hb(4),l.bd(c.card.attachments.length)}}function Te(t,e){if(1&t&&(l.cc(0,"span",27),l.cc(1,"mat-icon",28),l.ad(2,"comment"),l.bc(),l.cc(3,"span",29),l.ad(4),l.bc(),l.bc()),2&t){var c=l.sc();l.Hb(4),l.bd(c.card.comments.length)}}var Ne,Xe=((Ne=function(){function t(e){_classCallCheck(this,t),this._activatedRoute=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.board=this._activatedRoute.snapshot.data.board,this.card=this.board.cards.filter((function(e){return t.cardId===e.id}))[0]}},{key:"isOverdue",value:function(t){return Me()>Me(new Date(t))}}]),t}()).\u0275fac=function(t){return new(t||Ne)(l.Wb(o.a))},Ne.\u0275cmp=l.Qb({type:Ne,selectors:[["scrumboard-board-card"]],inputs:{cardId:"cardId"},decls:16,vars:9,consts:[["class","list-card-cover",4,"ngIf"],[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["class","list-card-labels","fxLayout","row wrap",4,"ngIf"],[1,"list-card-name"],["class","list-card-badges","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","list-card-members","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer"],["fxLayout","row","fxLayoutAlign","start center"],["class","list-card-footer-item","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-cover"],[3,"src"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-label",3,"ngClass","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-badges"],["class","badge due-date","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["class","badge check-items","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","due-date",3,"ngClass"],[1,"s-16"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","check-items",3,"ngClass"],["fxLayout","row",1,"list-card-members"],["class","list-card-member",4,"ngFor","ngForOf"],[1,"list-card-member"],[1,"list-card-member-avatar",3,"src","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-footer-item"],[1,"s-18"],[1,"value"]],template:function(t,e){1&t&&(l.Yc(0,Oe,3,5,"div",0),l.cc(1,"div",1),l.cc(2,"div",2),l.Xb(3,"mat-icon",3),l.bc(),l.Yc(4,Pe,2,1,"div",4),l.cc(5,"div",5),l.ad(6),l.bc(),l.Yc(7,He,3,2,"div",6),l.Yc(8,Qe,2,1,"div",7),l.bc(),l.cc(9,"div",8),l.cc(10,"div",9),l.Yc(11,Be,3,0,"span",10),l.Yc(12,De,3,0,"span",10),l.bc(),l.cc(13,"div",11),l.Yc(14,Ye,5,1,"span",10),l.Yc(15,Te,5,1,"span",10),l.bc(),l.bc()),2&t&&(l.zc("ngIf",e.board.settings.cardCoverImages&&e.card.idAttachmentCover),l.Hb(4),l.zc("ngIf",e.card.idLabels.length>0),l.Hb(2),l.bd(e.card.name),l.Hb(1),l.zc("ngIf",e.card.due||e.card.checkItems),l.Hb(1),l.zc("ngIf",e.card.idMembers.length>0),l.Hb(3),l.zc("ngIf",e.card.subscribed),l.Hb(1),l.zc("ngIf",""!==e.card.description),l.Hb(2),l.zc("ngIf",e.card.attachments),l.Hb(1),l.zc("ngIf",e.card.comments))},directives:[k.u,_.a,w.e,w.d,k.t,k.r,S.a,$.a],pipes:[Dt.a,k.f],styles:['.scrumboard-board-card{position:relative;display:block;width:100%;margin:16px 0!important;background-color:#fff!important;color:#000;border-radius:2px;transition:box-shadow .15s ease;cursor:pointer}.scrumboard-board-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}.scrumboard-board-card .list-card-details{padding:16px 16px 0}.scrumboard-board-card .list-card-details .list-card-labels{margin-bottom:6px}.scrumboard-board-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}.scrumboard-board-card .list-card-details .list-card-name{font-size:14px;font-weight:500;margin-bottom:12px}.scrumboard-board-card .list-card-details .list-card-badges{margin-bottom:12px}.scrumboard-board-card .list-card-details .list-card-badges .badge{margin-right:8px;padding:4px 8px;border-radius:2px;background-color:rgba(0,0,0,.4);color:#fff}.scrumboard-board-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}.scrumboard-board-card .list-card-details .list-card-badges .badge.due-date{background-color:#4caf50}.scrumboard-board-card .list-card-details .list-card-badges .badge.due-date.overdue{background-color:#f44336}.scrumboard-board-card .list-card-details .list-card-badges .badge.check-items.completed{background-color:#4caf50}.scrumboard-board-card .list-card-details .list-card-members{margin-bottom:12px}.scrumboard-board-card .list-card-details .list-card-members .list-card-member{margin-right:8px}.scrumboard-board-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}.scrumboard-board-card .list-card-footer{border-top:1px solid rgba(0,0,0,.12);padding:0 16px}.scrumboard-board-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px;color:rgba(0,0,0,.66)}.scrumboard-board-card .list-card-footer .list-card-footer-item .value{padding-left:8px}.scrumboard-board-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}.scrumboard-board-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.scrumboard-board-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.scrumboard-board-card.gu-hide{display:none!important}.scrumboard-board-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.scrumboard-board-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Ne);function $e(t,e){if(1&t){var c=l.dc();l.cc(0,"scrumboard-board-card",13),l.oc("click",(function(){l.Qc(c);var t=e.$implicit;return l.sc().openCardDialog(t)})),l.bc()}if(2&t){var a=e.$implicit;l.zc("model",a)("cardId",a)}}var Re,We=((Re=function(){function t(e,c,a){_classCallCheck(this,t),this._activatedRoute=e,this._scrumboardService=c,this._matDialog=a,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListNameChanged",value:function(t){this.list.name=t}},{key:"onCardAdd",value:function(t){var e=this;""!==t&&(this._scrumboardService.addCard(this.list.id,new bt({name:t})),setTimeout((function(){e.listScroll.scrollToBottom(0,400)})))}},{key:"removeList",value:function(t){var e=this;this.confirmDialogRef=this._matDialog.open(mt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the list and it's all cards?",this.confirmDialogRef.afterClosed().subscribe((function(c){c&&e._scrumboardService.removeList(t)}))}},{key:"openCardDialog",value:function(t){this.dialogRef=this._matDialog.open(ge,{panelClass:"scrumboard-card-dialog",data:{cardId:t,listId:this.list.id}}),this.dialogRef.afterClosed().subscribe((function(t){}))}},{key:"onDrop",value:function(t){this._scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||Re)(l.Wb(o.a),l.Wb(b),l.Wb(ut.b))},Re.\u0275cmp=l.Qb({type:Re,selectors:[["scrumboard-board-list"]],viewQuery:function(t,e){var c;1&t&&l.fd(y.a,!0),2&t&&l.Lc(c=l.pc())&&(e.listScroll=c.first)},inputs:{list:"list"},decls:17,vars:4,consts:[["fxLayout","column",1,"list","mat-elevation-z1"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",1,"list-header"],["fxFlex","1 0 auto",3,"list","onNameChanged"],["fxFlex","0 1 auto"],["mat-icon-button","",1,"list-header-option-button",3,"matMenuTriggerFor"],["listMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","column",1,"list-content"],["ngxDroppable","card","persoInfoPerfectScrollbar","",1,"list-cards","ngx-dnd-container",3,"model","out"],["listScroll",""],["ngxDraggable","","class","scrumboard-board-card mat-elevation-z2 ngx-dnd-item",3,"model","cardId","click",4,"ngFor","ngForOf"],[1,"list-footer"],[3,"onCardAdd"],["ngxDraggable","",1,"scrumboard-board-card","mat-elevation-z2","ngx-dnd-item",3,"model","cardId","click"]],template:function(t,e){if(1&t&&(l.cc(0,"div",0),l.cc(1,"div",1),l.cc(2,"scrumboard-board-edit-list-name",2),l.oc("onNameChanged",(function(t){return e.onListNameChanged(t)})),l.bc(),l.cc(3,"div",3),l.cc(4,"button",4),l.cc(5,"mat-icon"),l.ad(6,"more_vert"),l.bc(),l.bc(),l.cc(7,"mat-menu",null,5),l.cc(9,"button",6),l.oc("click",(function(){return e.removeList(e.list.id)})),l.ad(10,"Remove List"),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(11,"div",7),l.cc(12,"div",8,9),l.oc("out",(function(t){return e.onDrop(t)})),l.Yc(14,$e,1,2,"scrumboard-board-card",10),l.bc(),l.bc(),l.cc(15,"div",11),l.cc(16,"scrumboard-board-add-card",12),l.oc("onCardAdd",(function(t){return e.onCardAdd(t)})),l.bc(),l.bc(),l.bc()),2&t){var c=l.Mc(8);l.Hb(2),l.zc("list",e.list),l.Hb(2),l.zc("matMenuTriggerFor",c),l.Hb(8),l.zc("model",e.list.idCards),l.Hb(2),l.zc("ngForOf",e.list.idCards)}},directives:[w.e,w.b,w.d,xe,Q.b,ft.c,_.a,ft.d,ft.a,i.c,y.a,k.t,_e,Xe,i.b],styles:['.scrumboard-board-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}.scrumboard-board-list .list{max-height:100%;background-color:#eef0f2;color:#000;border-radius:2px;transition:box-shadow .15s ease}.scrumboard-board-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid rgba(0,0,0,.12)}@media (max-width:959px){.scrumboard-board-list .list .list-header{height:48px;min-height:48px}}.scrumboard-board-list .list .list-content{position:relative;min-height:0;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.scrumboard-board-list .list .list-content .list-cards{position:relative;min-height:32px;padding:0 16px;background:#eee!important}.scrumboard-board-list .list .list-footer{display:flex;flex-direction:column;flex:1 0 auto;min-height:48px}.scrumboard-board-list .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.scrumboard-board-list.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}.scrumboard-board-list.gu-mirror>.list{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.scrumboard-board-list.gu-hide{display:none!important}.scrumboard-board-list.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.scrumboard-board-list.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Re);function Ve(t,e){1&t&&(l.cc(0,"mat-icon",17),l.ad(1,"remove_red_eye"),l.bc())}var Ge=function(){return{duration:"350ms",x:"100%"}},je=function(t){return{value:"*",params:t}};function Ue(t,e){if(1&t&&l.Xb(0,"scrumboard-board-list",18),2&t){var c=e.$implicit;l.zc("model",c)("list",c)("@animate",l.Dc(4,je,l.Cc(3,Ge)))}}var qe,Ee=function(){return{value:"50"}},Je=((qe=function(){function t(e,c,a){_classCallCheck(this,t),this._activatedRoute=e,this._location=c,this._scrumboardService=a,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.onBoardChanged.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(e){t.board=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListAdd",value:function(t){""!==t&&this._scrumboardService.addList(new z({name:t}))}},{key:"onBoardNameChanged",value:function(t){this._scrumboardService.updateBoard(),this._location.go("/apps/scrumboard/boards/"+this.board.id+"/"+this.board.uri)}},{key:"onDrop",value:function(t){this._scrumboardService.updateBoard()}}]),t}()).\u0275fac=function(t){return new(t||qe)(l.Wb(o.a),l.Wb(k.o),l.Wb(b))},qe.\u0275cmp=l.Qb({type:qe,selectors:[["scrumboard-board"]],decls:24,vars:14,consts:[["id","board"],["fxLayout","column",1,"header","mat-accent-bg","p-16","p-mat-24",3,"ngClass"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","1 0 auto",1,"header-content"],["fxLayout","row","fxLayoutAlign","center center","fxFlexOrder","2","fxFlexOrder.gt-xs","1"],["mat-raised-button","","routerLink","/apps/scrumboard/boards","aria-label","boards button",1,"mat-accent","header-boards-button",3,"ngClass"],[1,"mr-8"],["fxLayout","row","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","center center","fxFlex","1 0 100%","fxFlex.gt-xs","1 0 auto","fxFlexOrder","1","fxFlexOrder.gt-xs","2",1,"header-board-name","mb-8","mb-mat-0"],["class","board-subscribe s-16",4,"ngIf"],[3,"board","onNameChanged"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexOrder","3",1,"toolbar"],["mat-icon-button","","aria-label","Settings","matTooltip","Settings",3,"click"],["fxFlex","",1,"board-content-wrapper","p-16","p-mat-24",3,"ngClass"],["fxLayout","row","ngxDroppable","list",1,"board-content","ngx-dnd-container","p-16","p-mat-24",3,"model","out"],["class","scrumboard-board-list list-wrapper ngx-dnd-item","ngxDraggable","",3,"model","list",4,"ngFor","ngForOf"],["ngxDraggable","",1,"new-list-wrapper",3,"moves","onListAdd"],["position","end"],["settingsSidenav",""],[1,"board-subscribe","s-16"],["ngxDraggable","",1,"scrumboard-board-list","list-wrapper","ngx-dnd-item",3,"model","list"]],template:function(t,e){if(1&t){var c=l.dc();l.cc(0,"mat-sidenav-container"),l.cc(1,"div",0),l.cc(2,"div",1),l.cc(3,"div",2),l.cc(4,"div",3),l.cc(5,"button",4),l.cc(6,"mat-icon",5),l.ad(7,"assessment"),l.bc(),l.cc(8,"span"),l.ad(9,"BOARDS"),l.bc(),l.bc(),l.bc(),l.cc(10,"div",6),l.Yc(11,Ve,2,0,"mat-icon",7),l.cc(12,"scrumboard-edit-board-name",8),l.oc("onNameChanged",(function(t){return e.onBoardNameChanged(t)})),l.bc(),l.bc(),l.cc(13,"div",9),l.cc(14,"button",10),l.oc("click",(function(){return l.Qc(c),l.Mc(22).toggle()})),l.cc(15,"mat-icon"),l.ad(16,"settings"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(17,"div",11),l.cc(18,"div",12),l.oc("out",(function(t){return e.onDrop(t)})),l.Yc(19,Ue,1,6,"scrumboard-board-list",13),l.cc(20,"scrumboard-board-add-list",14),l.oc("onListAdd",(function(t){return e.onListAdd(t)})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(21,"mat-sidenav",15,16),l.Xb(23,"scrumboard-board-settings"),l.bc(),l.bc()}2&t&&(l.Hb(2),l.zc("ngClass","mat-"+e.board.settings.color+"-bg"),l.Hb(3),l.zc("ngClass","mat-"+e.board.settings.color+"-700-bg"),l.Hb(6),l.zc("ngIf",e.board.settings.subscribed),l.Hb(1),l.zc("board",e.board),l.Hb(5),l.zc("ngClass",e.board.settings.color+"-100-bg"),l.Hb(1),l.zc("model",e.board.lists)("@animateStagger",l.Cc(10,Ee)),l.Hb(1),l.zc("ngForOf",e.board.lists),l.Hb(1),l.zc("moves",!1)("@animate",l.Dc(12,je,l.Cc(11,Ge))))},directives:[H.b,w.e,k.r,S.a,w.d,w.b,w.c,Q.b,o.g,_.a,k.u,X,$.a,i.c,k.t,U,i.b,H.a,lt,We],styles:["[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:320px!important;min-width:320px!important;max-width:320px!important}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]{display:flex;flex-direction:column!important;height:100%}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{position:relative;min-height:96px;background-image:none;z-index:49}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-boards-button[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-board-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-board-name[_ngcontent-%COMP%]   .board-subscribe[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-board-name[_ngcontent-%COMP%]   .editable-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff!important}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%] > .mat-button[_ngcontent-%COMP%]:last-child{margin-right:0}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]{position:absolute;top:96px;right:0;left:0;height:192px;z-index:48;padding:24px;opacity:1}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]{width:128px;height:192px;padding:16px;cursor:pointer;position:relative}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]   .board-name[_ngcontent-%COMP%]{text-align:center;padding:16px 0}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:32px;height:32px;margin-left:-16px;border-radius:50%;text-align:center;color:#fff}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]   .board-list-item[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:32px!important}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   #board-selector[_ngcontent-%COMP%]   .board-list-item.add-new-board[_ngcontent-%COMP%]{opacity:.6}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   .board-content-wrapper[_ngcontent-%COMP%]{position:relative;background:#e5e7e8}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   .board-content-wrapper[_ngcontent-%COMP%]   .board-content[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   .board-content-wrapper[_ngcontent-%COMP%]   .board-content[_ngcontent-%COMP%]   .list-sortable-placeholder[_ngcontent-%COMP%]{background:rgba(0,0,0,.06);margin-right:24px}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]   #board[_ngcontent-%COMP%]   .board-content-wrapper[_ngcontent-%COMP%]   .board-content[_ngcontent-%COMP%]   .new-list-wrapper[_ngcontent-%COMP%]{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],data:{animation:h.a}}),qe);c.d(e,"ScrumboardModule",(function(){return tc}));var Ke,Ze=[{path:"boards",component:A,resolve:{scrumboard:b}},{path:"boards/:boardId/:boardUri",component:Je,resolve:{board:u}},{path:"**",redirectTo:"boards"}],tc=((Ke=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ub({type:Ke}),Ke.\u0275inj=l.Tb({factory:function(t){return new(t||Ke)},providers:[b,u],imports:[[o.j.forChild(Ze),Q.c,ht.b,Qt.c,St.c,ut.e,pt.d,_.b,vt.c,K.d,ft.b,Bt.b,q.s,H.c,gt.b,$.b,i.d,r.a,s.a,s.b]]}),Ke)}}]);