(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6dIM":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var c=n("fXoL");let a=(()=>{class t{transform(t,e,n){const c=t.find(t=>void 0!==t.id&&t.id===e);if(c)return c[n]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"getById",type:t,pure:!1}),t})()},nImp:function(t,e,n){"use strict";n.r(e);var c=n("tyNb"),a=n("0BIi"),o=n("2Vo4"),s=n("XNiG"),i=n("0Zs5"),r=n("fXoL"),l=n("tk/3");let g=(()=>{class t{constructor(t){this._httpClient=t,this.onChatSelected=new o.a(null),this.onContactSelected=new o.a(null),this.onChatsUpdated=new s.a,this.onUserUpdated=new s.a,this.onLeftSidenavViewChanged=new s.a,this.onRightSidenavViewChanged=new s.a}resolve(t,e){return new Promise((t,e)=>{Promise.all([this.getContacts(),this.getChats(),this.getUser()]).then(([e,n,c])=>{this.contacts=e,this.chats=n,this.user=c,t()},e)})}getChat(t){const e=this.user.chatList.find(e=>e.contactId===t);if(e)return new Promise((n,c)=>{this._httpClient.get("api/chat-chats/"+e.id).subscribe(e=>{const n=e,c=this.contacts.find(e=>e.id===t);this.onChatSelected.next(Object.assign({},{chatId:n.id,dialog:n.dialog,contact:c}))},c)});this.createNewChat(t).then(e=>{this.getChat(t)})}createNewChat(t){return new Promise((e,n)=>{const c=this.contacts.find(e=>e.id===t),a=i.a.generateGUID(),o={id:a,dialog:[]};this.user.chatList.push({contactId:t,id:a,lastMessageTime:"2017-02-18T10:30:18.931Z",name:c.name,unread:null}),this._httpClient.post("api/chat-chats",Object.assign({},o)).subscribe(t=>{this._httpClient.post("api/chat-user/"+this.user.id,this.user).subscribe(t=>{this.getUser().then(t=>{this.onUserUpdated.next(t),e(t)})})},n)})}selectContact(t){this.onContactSelected.next(t)}setUserStatus(t){this.user.status=t}updateUserData(t){this._httpClient.post("api/chat-user/"+this.user.id,t).subscribe(e=>{this.user=t})}updateDialog(t,e){return new Promise((n,c)=>{this._httpClient.post("api/chat-chats/"+t,{id:t,dialog:e}).subscribe(t=>{n(t)},c)})}getContacts(){return new Promise((t,e)=>{this._httpClient.get("api/chat-contacts").subscribe(e=>{t(e)},e)})}getChats(){return new Promise((t,e)=>{this._httpClient.get("api/chat-chats").subscribe(e=>{t(e)},e)})}getUser(){return new Promise((t,e)=>{this._httpClient.get("api/chat-user").subscribe(e=>{t(e[0])},e)})}}return t.\u0275fac=function(e){return new(e||t)(r.kc(l.c))},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac}),t})();var h=n("1G5W"),d=n("HY3y"),u=n("XhcP"),b=n("AKUa");let f=(()=>{class t{constructor(){this.sidenavInstances=[]}setSidenav(t,e){this.sidenavInstances[t]=e}getSidenav(t){return this.sidenavInstances[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("pD6V");let p=(()=>{class t{constructor(t,e,n,c){this.persoInfoMatchMediaService=t,this.persoInfoMatSidenavHelperService=e,this._matSidenav=n,this._MediaObserver=c,this.isLockedOpen=!0,this._unsubscribeAll=new s.a}ngOnInit(){this.persoInfoMatSidenavHelperService.setSidenav(this.id,this._matSidenav),this._MediaObserver.isActive(this.matIsLockedOpenBreakpoint)?(this.isLockedOpen=!0,this._matSidenav.mode="side",this._matSidenav.toggle(!0)):(this.isLockedOpen=!1,this._matSidenav.mode="over",this._matSidenav.toggle(!1)),this.persoInfoMatchMediaService.onMediaChange.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(()=>{this._MediaObserver.isActive(this.matIsLockedOpenBreakpoint)?(this.isLockedOpen=!0,this._matSidenav.mode="side",this._matSidenav.toggle(!0)):(this.isLockedOpen=!1,this._matSidenav.mode="over",this._matSidenav.toggle(!1))})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(b.a),r.Wb(f),r.Wb(u.a),r.Wb(m.g))},t.\u0275dir=r.Rb({type:t,selectors:[["","persoInfoMatSidenavHelper",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Mb("mat-is-locked-open",e.isLockedOpen)},inputs:{id:["persoInfoMatSidenavHelper","id"],matIsLockedOpenBreakpoint:["mat-is-locked-open","matIsLockedOpenBreakpoint"]}}),t})(),v=(()=>{class t{constructor(t){this.persoInfoMatSidenavHelperService=t}onClick(){this.persoInfoMatSidenavHelperService.getSidenav(this.id).toggle()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(f))},t.\u0275dir=r.Rb({type:t,selectors:[["","persoInfoMatSidenavToggler",""]],hostBindings:function(t,e){1&t&&r.oc("click",(function(){return e.onClick()}))},inputs:{id:["persoInfoMatSidenavToggler","id"]}}),t})();var C=n("ofXK"),_=n("/t3+"),M=n("XiUz"),O=n("NFeN"),P=n("znSr"),A=n("STbY"),x=n("bTqV"),w=n("3Pt+"),y=n("cpli");let S=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._templateRef=e,this._viewContainerRef=n,this.isCreated=!1}ngAfterContentChecked(){document.body.contains(this._elementRef.nativeElement)&&!this.isCreated?(setTimeout(()=>{this._viewContainerRef.createEmbeddedView(this._templateRef)},300),this.isCreated=!0):this.isCreated&&!document.body.contains(this._elementRef.nativeElement)&&(this._viewContainerRef.clear(),this.isCreated=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.l),r.Wb(r.P),r.Wb(r.S))},t.\u0275dir=r.Rb({type:t,selectors:[["","persoInfoIfOnDom",""]]}),t})();var I=n("MutI");let k=(()=>{class t{transform(t,e){return i.a.filterArrayByString(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Vb({name:"filter",type:t,pure:!0}),t})();var L=n("6dIM");function z(t,e){1&t&&(r.cc(0,"div",26),r.ad(1," Chats "),r.bc())}function H(t,e){if(1&t&&(r.cc(0,"div",37),r.ad(1),r.bc()),2&t){const t=r.sc().$implicit;r.Hb(1),r.bd(t.unread)}}const F=function(){return{y:"100%"}},U=function(t){return{value:"*",params:t}};function X(t,e){if(1&t){const t=r.dc();r.cc(0,"button",27),r.oc("click",(function(){r.Qc(t);const n=e.$implicit;return r.sc(2).getChat(n.contactId)})),r.cc(1,"div",8),r.cc(2,"div",28),r.Xb(3,"img",29),r.tc(4,"getById"),r.tc(5,"getById"),r.Xb(6,"mat-icon",30),r.tc(7,"getById"),r.bc(),r.cc(8,"div",31),r.cc(9,"div",32),r.cc(10,"div",33),r.ad(11),r.tc(12,"getById"),r.bc(),r.bc(),r.cc(13,"div",34),r.cc(14,"div",35),r.ad(15),r.tc(16,"date"),r.bc(),r.Yc(17,H,2,1,"div",36),r.bc(),r.bc(),r.bc(),r.bc()}if(2&t){const t=e.$implicit,n=r.sc(2);r.zc("@animate",r.Dc(26,U,r.Cc(25,F))),r.Hb(3),r.Ac("alt",r.wc(5,11,n.contacts,t.contactId,"name")),r.zc("src",r.wc(4,7,n.contacts,t.contactId,"avatar"),r.Sc),r.Hb(3),r.zc("ngClass",r.wc(7,15,n.contacts,t.contactId,"status")),r.Hb(5),r.bd(r.wc(12,19,n.contacts,t.contactId,"name")),r.Hb(4),r.cd(" ",r.uc(16,23,t.lastMessageTime)," "),r.Hb(2),r.zc("ngIf",t.unread)}}function T(t,e){1&t&&(r.cc(0,"div",26),r.ad(1," Contacts "),r.bc())}function B(t,e){if(1&t){const t=r.dc();r.cc(0,"button",38),r.oc("click",(function(){r.Qc(t);const n=e.$implicit;return r.sc(2).getChat(n.id)})),r.cc(1,"div",8),r.cc(2,"div",39),r.Xb(3,"img",40),r.Xb(4,"mat-icon",30),r.bc(),r.cc(5,"div",41),r.cc(6,"div",33),r.ad(7),r.bc(),r.cc(8,"p",42),r.ad(9),r.bc(),r.bc(),r.bc(),r.bc()}if(2&t){const t=e.$implicit;r.zc("@animate",r.Dc(7,U,r.Cc(6,F))),r.Hb(3),r.Ac("src",t.avatar,r.Sc),r.Ac("alt",t.name),r.Hb(1),r.zc("ngClass",t.status),r.Hb(3),r.bd(t.name),r.Hb(2),r.bd(t.mood)}}function D(t,e){1&t&&(r.cc(0,"div",43),r.ad(1," No results.. "),r.bc())}const N=function(){return{value:"50"}};function Q(t,e){if(1&t&&(r.cc(0,"div"),r.cc(1,"div",20),r.Yc(2,z,2,0,"div",21),r.tc(3,"filter"),r.Yc(4,X,18,28,"button",22),r.tc(5,"filter"),r.bc(),r.cc(6,"div",23),r.Yc(7,T,2,0,"div",21),r.tc(8,"filter"),r.Yc(9,B,10,9,"button",24),r.tc(10,"filter"),r.bc(),r.Yc(11,D,2,0,"div",25),r.tc(12,"filter"),r.bc()),2&t){const t=r.sc();r.zc("@animateStagger",r.Cc(21,N)),r.Hb(2),r.zc("ngIf",r.vc(3,6,t.user.chatList,t.searchText).length>0),r.Hb(2),r.zc("ngForOf",r.vc(5,9,t.user.chatList,t.searchText)),r.Hb(3),r.zc("ngIf",r.vc(8,12,t.contacts,t.searchText).length>0),r.Hb(2),r.zc("ngForOf",r.vc(10,15,t.contacts,t.searchText)),r.Hb(2),r.zc("ngIf",0===r.vc(12,18,t.contacts,t.searchText).length)}}let R=(()=>{class t{constructor(t,e,n){this._chatService=t,this._persoInfoMatSidenavHelperService=e,this._MediaObserver=n,this.chatSearch={name:""},this.searchText="",this._unsubscribeAll=new s.a}ngOnInit(){this.user=this._chatService.user,this.chats=this._chatService.chats,this.contacts=this._chatService.contacts,this._chatService.onChatsUpdated.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.chats=t}),this._chatService.onUserUpdated.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getChat(t){this._chatService.getChat(t),this._MediaObserver.isActive("gt-md")||this._persoInfoMatSidenavHelperService.getSidenav("chat-left-sidenav").toggle()}setUserStatus(t){this._chatService.setUserStatus(t)}changeLeftSidenavView(t){this._chatService.onLeftSidenavViewChanged.next(t)}logout(){console.log("logout triggered")}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g),r.Wb(f),r.Wb(m.g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-chats-sidenav"]],decls:46,vars:6,consts:[[1,"sidenav-header"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt","click"],[1,"s-16","status",3,"ngClass","matMenuTriggerFor"],["id","user-status-menu"],["userStatusMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"s-16","status","online"],[1,"s-16","status","away"],[1,"s-16","status","do-not-disturb"],[1,"s-16","status","offline"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["userMenu","matMenu"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["type","text","placeholder","Search or start new chat","fxFlex","",3,"ngModel","ngModelChange"],["persoInfoPerfectScrollbar","","fxFlex","",1,"sidenav-content"],[4,"persoInfoIfOnDom"],["fxLayout","column",1,"chat-list"],["matSubheader","",4,"ngIf"],["mat-button","","class","contact","ngClass","{'unread':contact.unread}",3,"click",4,"ngFor","ngForOf"],["fxLayout","column",1,"contact-list"],["mat-button","","class","contact",3,"click",4,"ngFor","ngForOf"],["class","no-results-message",4,"ngIf"],["matSubheader",""],["mat-button","","ngClass","{'unread':contact.unread}",1,"contact",3,"click"],["fxFlex","0 1 auto","fxLayoutAlign","center center",1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],["fxLayout","row","fxFlex",""],["fxFlex","","fxLayout","column","fxLayoutAlign","center start",1,""],[1,"contact-name"],["fxLayout","column","fxLayoutAlign","center end"],[1,"contact-last-message-time"],["class","unread-message-count mat-accent-bg",4,"ngIf"],[1,"unread-message-count","mat-accent-bg"],["mat-button","",1,"contact",3,"click"],["fxFlex","0 1 auto",1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt"],["fxLayout","column","fxLayoutAlign","center start",1,""],[1,"contact-mood"],[1,"no-results-message"]],template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"mat-toolbar"),r.cc(2,"mat-toolbar-row",1),r.cc(3,"div",2),r.cc(4,"img",3),r.oc("click",(function(){return e.changeLeftSidenavView("user")})),r.bc(),r.Xb(5,"mat-icon",4),r.cc(6,"mat-menu",5,6),r.cc(8,"button",7),r.oc("click",(function(){return e.setUserStatus("online")})),r.cc(9,"div",8),r.Xb(10,"mat-icon",9),r.cc(11,"span"),r.ad(12,"Online"),r.bc(),r.bc(),r.bc(),r.cc(13,"button",7),r.oc("click",(function(){return e.setUserStatus("away")})),r.cc(14,"div",8),r.Xb(15,"mat-icon",10),r.cc(16,"span"),r.ad(17,"Away"),r.bc(),r.bc(),r.bc(),r.cc(18,"button",7),r.oc("click",(function(){return e.setUserStatus("do-not-disturb")})),r.cc(19,"div",8),r.Xb(20,"mat-icon",11),r.cc(21,"span"),r.ad(22,"Do not disturb"),r.bc(),r.bc(),r.bc(),r.cc(23,"button",7),r.oc("click",(function(){return e.setUserStatus("offline")})),r.cc(24,"div",8),r.Xb(25,"mat-icon",12),r.cc(26,"span"),r.ad(27,"Offline"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(28,"div"),r.cc(29,"button",13),r.cc(30,"mat-icon"),r.ad(31,"more_vert"),r.bc(),r.bc(),r.cc(32,"mat-menu",null,14),r.cc(34,"button",7),r.oc("click",(function(){return e.changeLeftSidenavView("user")})),r.ad(35," Profile "),r.bc(),r.cc(36,"button",7),r.oc("click",(function(){return e.logout()})),r.ad(37," Logout "),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(38,"mat-toolbar-row"),r.cc(39,"div",15),r.cc(40,"div",16),r.cc(41,"mat-icon"),r.ad(42,"search"),r.bc(),r.cc(43,"input",17),r.oc("ngModelChange",(function(t){return e.searchText=t})),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(44,"div",18),r.Yc(45,Q,13,22,"div",19),r.bc()),2&t){const t=r.Mc(7),n=r.Mc(33);r.Hb(4),r.Ac("src",e.user.avatar,r.Sc),r.Ac("alt",e.user.name),r.Hb(1),r.zc("ngClass",e.user.status)("matMenuTriggerFor",t),r.Hb(24),r.zc("matMenuTriggerFor",n),r.Hb(14),r.zc("ngModel",e.searchText)}},directives:[_.a,_.c,M.e,M.d,O.a,C.r,P.a,A.c,A.d,A.a,x.b,M.b,w.b,w.o,w.r,y.a,S,C.u,C.t,I.e],pipes:[k,L.a,C.f],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.08)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:8px;background:#fff;font-size:13px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:12px;height:36px;color:rgba(0,0,0,.54);border:none}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{padding-left:16px;font-size:20px;font-weight:300;height:88px;line-height:88px;color:#039be5}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{white-space:normal;text-align:left;letter-spacing:.01em;min-height:88px;border-bottom:1px solid rgba(0,0,0,.12);padding:16px;font-weight:400}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:16px;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-last-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-last-message[_ngcontent-%COMP%]{line-height:1.6em;margin:0;font-weight:500;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-mood[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-mood[_ngcontent-%COMP%]{line-height:normal;margin-top:0}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .unread-message-count[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .unread-message-count[_ngcontent-%COMP%]{border-radius:50%;text-align:center;width:24px;height:24px;line-height:24px}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .no-results-message[_ngcontent-%COMP%]{position:absolute;width:100%;height:88px;padding:16px;background:#fff;font-size:15px;font-weight:400}"],data:{animation:d.a}}),t})();var W=n("Kj3r"),Y=n("/uUt"),G=n("Wp6s"),j=n("kmnG"),K=n("qFsG"),V=n("QibW");let E=(()=>{class t{constructor(t){this._chatService=t,this._unsubscribeAll=new s.a}ngOnInit(){this.user=this._chatService.user,this.userForm=new w.g({mood:new w.d(this.user.mood),status:new w.d(this.user.status)}),this.userForm.valueChanges.pipe(Object(h.a)(this._unsubscribeAll),Object(W.a)(500),Object(Y.a)()).subscribe(t=>{this.user.mood=t.mood,this.user.status=t.status,this._chatService.updateUserData(this.user)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeLeftSidenavView(t){this._chatService.onLeftSidenavViewChanged.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-user-sidenav"]],decls:36,vars:4,consts:[[1,"sidenav-header"],[1,"mat-accent-bg"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","aria-label","back",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","user-avatar","huge",3,"src","alt"],[1,"user-name","my-8"],["fxFlex","",1,"sidenav-content","p-16"],["fxLayout","column",3,"formGroup"],["fxFlex","0 1 auto",1,"mb-24"],["matInput","","placeholder","Mood","name","mood","formControlName","mood","rows","3"],["formControlName","status","fxLayout","column"],["value","online",1,"py-8"],["fxLayout","row","fxLayoutAlign","start center"],[1,"status","online","mr-8"],[1,"mat-h4","m-0"],["value","away",1,"py-8"],[1,"status","away","mr-8"],["value","do-not-disturb",1,"py-8"],[1,"status","do-not-disturb","mr-8"],["value","offline",1,"py-8"],[1,"status","offline","mr-8"]],template:function(t,e){1&t&&(r.cc(0,"div",0),r.cc(1,"mat-toolbar",1),r.cc(2,"mat-toolbar-row",2),r.cc(3,"button",3),r.oc("click",(function(){return e.changeLeftSidenavView("chats")})),r.cc(4,"mat-icon"),r.ad(5,"arrow_back"),r.bc(),r.bc(),r.bc(),r.cc(6,"mat-toolbar-row",4),r.Xb(7,"img",5),r.cc(8,"div",6),r.ad(9),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(10,"div",7),r.cc(11,"mat-card"),r.cc(12,"form",8),r.cc(13,"mat-form-field",9),r.Xb(14,"textarea",10),r.bc(),r.cc(15,"mat-radio-group",11),r.cc(16,"mat-radio-button",12),r.cc(17,"div",13),r.Xb(18,"mat-icon",14),r.cc(19,"span",15),r.ad(20,"Online"),r.bc(),r.bc(),r.bc(),r.cc(21,"mat-radio-button",16),r.cc(22,"div",13),r.Xb(23,"mat-icon",17),r.cc(24,"span",15),r.ad(25,"Away"),r.bc(),r.bc(),r.bc(),r.cc(26,"mat-radio-button",18),r.cc(27,"div",13),r.Xb(28,"mat-icon",19),r.cc(29,"span",15),r.ad(30,"Do not disturb"),r.bc(),r.bc(),r.bc(),r.cc(31,"mat-radio-button",20),r.cc(32,"div",13),r.Xb(33,"mat-icon",21),r.cc(34,"span",15),r.ad(35,"Offline"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t&&(r.Hb(7),r.Ac("alt",e.user.name),r.zc("src",e.user.avatar,r.Sc),r.Hb(2),r.bd(e.user.name),r.Hb(3),r.zc("formGroup",e.userForm))},directives:[_.a,_.c,M.e,M.d,x.b,O.a,M.b,G.a,w.x,w.p,w.h,j.b,K.b,w.b,w.o,w.f,V.b,V.a],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:240px}@media (max-width:1279px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:180px}}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{background:#f5f5f5}"]}),t})();function J(t,e){1&t&&r.Xb(0,"chat-chats-sidenav",3),2&t&&r.zc("@slideInRight",void 0)}function q(t,e){1&t&&r.Xb(0,"chat-user-sidenav",4),2&t&&r.zc("@slideInLeft",void 0)}let Z=(()=>{class t{constructor(t){this._chatService=t,this.view="chats",this._unsubscribeAll=new s.a}ngOnInit(){this._chatService.onLeftSidenavViewChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.view=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-left-sidenav"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch"],["class","view",4,"ngSwitchCase"],["class","view","persoInfoPerfectScrollbar","",4,"ngSwitchCase"],[1,"view"],["persoInfoPerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(r.cc(0,"div",0),r.Yc(1,J,1,1,"chat-chats-sidenav",1),r.Yc(2,q,1,1,"chat-user-sidenav",2),r.bc()),2&t&&(r.zc("ngSwitch",e.view),r.Hb(1),r.zc("ngSwitchCase","chats"),r.Hb(1),r.zc("ngSwitchCase","user"))},directives:[C.y,C.z,R,E,y.a],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],data:{animation:d.a}}),t})();function $(t,e){if(1&t&&(r.cc(0,"div",2),r.cc(1,"mat-toolbar",3),r.cc(2,"mat-toolbar-row",4),r.cc(3,"div"),r.ad(4,"Contact Info"),r.bc(),r.cc(5,"button",5),r.cc(6,"mat-icon"),r.ad(7,"close"),r.bc(),r.bc(),r.bc(),r.cc(8,"mat-toolbar-row",6),r.Xb(9,"img",7),r.cc(10,"div",8),r.ad(11),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.sc();r.Hb(9),r.Ac("alt",t.contact.name),r.zc("src",t.contact.avatar,r.Sc),r.Hb(2),r.bd(t.contact.name)}}function tt(t,e){if(1&t&&(r.cc(0,"div",9),r.cc(1,"mat-card"),r.cc(2,"mat-form-field",10),r.cc(3,"textarea",11),r.ad(4,"            "),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.sc();r.Hb(3),r.zc("value",t.contact.mood)}}let et=(()=>{class t{constructor(t){this._chatService=t,this._unsubscribeAll=new s.a}ngOnInit(){this._chatService.onContactSelected.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.contact=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-contact-sidenav"]],decls:2,vars:2,consts:[["class","sidenav-header",4,"ngIf"],["class","sidenav-content p-16","fxFlex","",4,"ngIf"],[1,"sidenav-header"],[1,"mat-accent-bg"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","persoInfoMatSidenavToggler","chat-right-sidenav","aria-label","close"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","contact-avatar","huge",3,"src","alt"],[1,"contact-name","my-8"],["fxFlex","",1,"sidenav-content","p-16"],[1,"w-100-p"],["matInput","","placeholder","Mood","name","mood","rows","3","disabled","",3,"value"]],template:function(t,e){1&t&&(r.Yc(0,$,12,3,"div",0),r.Yc(1,tt,5,1,"div",1)),2&t&&(r.zc("ngIf",e.contact),r.Hb(1),r.zc("ngIf",e.contact))},directives:[C.u,_.a,_.c,M.e,M.d,x.b,v,O.a,M.b,G.a,j.b,K.b],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:240px}@media (max-width:1279px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:180px}}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{background:#f5f5f5}"]}),t})();function nt(t,e){1&t&&r.Xb(0,"chat-contact-sidenav",2),2&t&&r.zc("@slideInRight",void 0)}let ct=(()=>{class t{constructor(t){this._chatService=t,this.view="contact",this._unsubscribeAll=new s.a}ngOnInit(){this._chatService.onRightSidenavViewChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.view=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-right-sidenav"]],decls:2,vars:2,consts:[[1,"views",3,"ngSwitch"],["class","view","persoInfoPerfectScrollbar","",4,"ngSwitchCase"],["persoInfoPerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(r.cc(0,"div",0),r.Yc(1,nt,1,1,"chat-contact-sidenav",1),r.bc()),2&t&&(r.zc("ngSwitch",e.view),r.Hb(1),r.zc("ngSwitchCase","contact"))},directives:[C.y,C.z,et,y.a],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],data:{animation:d.a}}),t})();const at=function(){return{delay:"50ms",scale:"0.2"}},ot=function(t){return{value:"*",params:t}},st=function(){return{delay:"100ms",y:"25px"}},it=function(){return{delay:"200ms",y:"50px"}};let rt=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-start"]],decls:10,vars:12,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"big-circle","mat-elevation-z1","app-logo"],[1,"s-64","s-mat-128","mat-accent"],[1,"app-title","my-24"],["fxHide","","fxShow.gt-md","",1,"app-message"],["mat-raised-button","","fxHide.gt-md","","persoInfoMatSidenavToggler","chat-left-sidenav"]],template:function(t,e){1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"mat-icon",2),r.ad(3,"chat"),r.bc(),r.bc(),r.cc(4,"span",3),r.ad(5,"Chat App"),r.bc(),r.cc(6,"span",4),r.ad(7," Select contact to start the chat!.. "),r.bc(),r.cc(8,"button",5),r.ad(9," Select contact to start the chat!.. "),r.bc(),r.bc()),2&t&&(r.Hb(1),r.zc("@animate",r.Dc(4,ot,r.Cc(3,at))),r.Hb(3),r.zc("@animate",r.Dc(7,ot,r.Cc(6,st))),r.Hb(2),r.zc("@animate",r.Dc(10,ot,r.Cc(9,it))))},directives:[M.b,M.e,M.d,O.a,P.b,x.b,v],styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%], [_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{background:linear-gradient(180deg,hsla(0,0%,100%,.8) 0,hsla(0,0%,100%,.6) 20%,hsla(0,0%,100%,.8))}[_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{border-radius:50%;width:300px;height:300px;line-height:300px;text-align:center}@media (max-width:959px){[_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{width:160px;height:160px;line-height:160px}}[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:500;font-size:32px}[_nghost-%COMP%]   .secondary-text[_ngcontent-%COMP%]{font-size:16px}"],data:{animation:d.a}}),t})();const lt=["replyForm"],gt=["replyInput"];function ht(t,e){if(1&t&&r.Xb(0,"img",7),2&t){const t=r.sc(2);r.Ac("src",t.contact.avatar,r.Sc),r.Ac("alt",t.contact.name)}}function dt(t,e){if(1&t&&r.Xb(0,"img",29),2&t){const t=r.sc(2);r.Ac("src",t.user.avatar,r.Sc)}}const ut=function(t){return{user:t}};function bt(t,e){if(1&t&&(r.cc(0,"div",23),r.Yc(1,ht,1,2,"img",24),r.Yc(2,dt,1,1,"img",25),r.cc(3,"div",26),r.cc(4,"div",27),r.ad(5),r.bc(),r.cc(6,"div",28),r.ad(7),r.tc(8,"date"),r.bc(),r.bc(),r.bc()),2&t){const t=e.$implicit,n=r.sc();r.zc("ngClass",r.Dc(8,ut,t.who===n.user.id)),r.Hb(1),r.zc("ngIf",t.who===n.contact.id),r.Hb(1),r.zc("ngIf",t.who===n.user.id),r.Hb(3),r.bd(t.message),r.Hb(2),r.bd(r.vc(8,5,t.time,"medium"))}}let ft=(()=>{class t{constructor(t){this._chatService=t,this._unsubscribeAll=new s.a}ngOnInit(){this.user=this._chatService.user,this._chatService.onChatSelected.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{t&&(this.selectedChat=t,this.contact=t.contact,this.dialog=t.dialog,this.readyToReply())})}ngAfterViewInit(){this.replyInput=this.replyInputField.first.nativeElement,this.readyToReply()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectContact(){this._chatService.selectContact(this.contact)}readyToReply(){setTimeout(()=>{this.replyForm.reset(),this.focusReplyInput(),this.scrollToBottom()})}focusReplyInput(){setTimeout(()=>{this.replyInput.focus()})}scrollToBottom(t){t=t||400,this.directiveScroll&&(this.directiveScroll.update(),setTimeout(()=>{this.directiveScroll.scrollToBottom(0,t)}))}reply(){const t={who:this.user.id,message:this.replyForm.form.value.message,time:(new Date).toISOString()};this.dialog.push(t),this._chatService.updateDialog(this.selectedChat.chatId,this.dialog).then(t=>{this.readyToReply()})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat-view"]],viewQuery:function(t,e){var n;1&t&&(r.fd(y.a,!0),r.fd(lt,!0),r.fd(gt,!0)),2&t&&(r.Lc(n=r.pc())&&(e.directiveScroll=n.first),r.Lc(n=r.pc())&&(e.replyForm=n.first),r.Lc(n=r.pc())&&(e.replyInputField=n))},decls:33,vars:6,consts:[["fxFlex","","fxLayout","column",1,"chat"],[1,"chat-toolbar"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-md","","persoInfoMatSidenavToggler","chat-left-sidenav","aria-label","chats button",1,"responsive-chats-button","mr-16"],["fxLayout","row","fxLayoutAlign","start center","persoInfoMatSidenavToggler","chat-right-sidenav",1,"chat-contact",3,"click"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],[1,"chat-contact-name"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["contactMenu","matMenu"],["mat-menu-item","","persoInfoMatSidenavToggler","chat-right-sidenav",3,"click"],["id","chat-content","fxFlex","","persoInfoPerfectScrollbar",""],[1,"chat-messages"],["fxLayout","row","class","message-row",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"chat-footer"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"reply-form",3,"ngSubmit","keyup.enter"],["replyForm","ngForm"],["fxFlex","","floatLabel","never"],["matInput","","placeholder","Type and hit enter to send message","ngModel","","name","message"],["replyInput",""],["mat-fab","","type","submit","aria-label","Send message"],["fxLayout","row",1,"message-row",3,"ngClass"],["class","avatar",3,"src","alt",4,"ngIf"],["class","avatar",3,"src",4,"ngIf"],[1,"bubble"],[1,"message"],[1,"time","secondary-text"],[1,"avatar",3,"src"]],template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"mat-toolbar",1),r.cc(2,"div",2),r.cc(3,"div",3),r.cc(4,"button",4),r.cc(5,"mat-icon"),r.ad(6,"chat"),r.bc(),r.bc(),r.cc(7,"div",5),r.oc("click",(function(){return e.selectContact()})),r.cc(8,"div",6),r.Xb(9,"img",7),r.Xb(10,"mat-icon",8),r.bc(),r.cc(11,"div",9),r.ad(12),r.bc(),r.bc(),r.bc(),r.cc(13,"div"),r.cc(14,"button",10),r.cc(15,"mat-icon"),r.ad(16,"more_vert"),r.bc(),r.bc(),r.cc(17,"mat-menu",null,11),r.cc(19,"button",12),r.oc("click",(function(){return e.selectContact()})),r.ad(20," Contact Info "),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(21,"div",13),r.cc(22,"div",14),r.Yc(23,bt,9,10,"div",15),r.bc(),r.bc(),r.cc(24,"div",16),r.cc(25,"form",17,18),r.oc("ngSubmit",(function(){return e.reply()}))("keyup.enter",(function(){return e.reply()})),r.cc(27,"mat-form-field",19),r.Xb(28,"textarea",20,21),r.bc(),r.cc(30,"button",22),r.cc(31,"mat-icon"),r.ad(32,"send"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.Mc(18);r.Hb(9),r.Ac("alt",e.contact.name),r.zc("src",e.contact.avatar,r.Sc),r.Hb(1),r.zc("ngClass",e.contact.status),r.Hb(2),r.cd(" ",e.contact.name," "),r.Hb(2),r.zc("matMenuTriggerFor",t),r.Hb(9),r.zc("ngForOf",e.dialog)}},directives:[M.b,M.e,_.a,M.d,x.b,P.b,v,O.a,C.r,P.a,A.c,A.d,A.a,y.a,C.t,w.x,w.p,w.q,j.b,K.b,w.b,w.o,w.r,C.u],pipes:[C.f],styles:['[_nghost-%COMP%]{display:flex;flex:1 0 auto;background:linear-gradient(180deg,hsla(0,0%,100%,.8) 0,hsla(0,0%,100%,.6) 20%,hsla(0,0%,100%,.8));overflow:hidden;max-width:100%}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]{min-height:64px;background-color:#f3f4f5;color:rgba(0,0,0,.87);border-bottom:1px solid rgba(0,0,0,.08)}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .responsive-chats-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .chat-contact[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .chat-contact[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]{background:transparent;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]{padding:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{position:relative;padding:6px 7px 8px 9px;background-color:#fff;box-shadow:0 1px .5px rgba(0,0,0,.13);border-radius:6px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAMAAADp2asXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADGUExURQAAAP////b29vn5+f///wAAAP///wAAAAAAAP///9ra2v////j4+PHx8fv7++Hh4fHx8f////////////////39/QAAAP////////z8/P////39/f39/fz8/P////////////z8/P////////////z8/P////////////v7+/Hx8f///9bW1vz8/K2trf////39/f39/WJiYgAAAExMTFtbWwAAAN3d3cjIyPr6+vX19QAAAO7u7vz8/NTU1Ofn5zMzM////zGPlXsAAABBdFJOUwAcm/kREh4CCDWL1SneR6TfAQffhMYK/A5nRrLWfRc5DW2ih5f+19Kn+9v4g/1LCJuXHwQUKgahcXS6DNnlDMMKKzPoTgAAAKBJREFUKM+V08USwmAQA+C/0NIWd3d3d8/7vxTMcIPkQK7f7CG7s8bQAOY/SCuwFYQU1P+eiCqIK2gpWCmoCrAgoKQgJ8CHgIqAMjg0MxxSQ3DogEMWFBZtUPAHYGB1CyDQWE6AH7BrfXzlAxGAQhECTGAmwN1Okz0Gb/LW4fEItIfrOfNELMh3tck7u+PhcT2zQ7l77/K8iY8yJwV3BeYFqpc/uSyPGdAAAAAASUVORK5CYII=);content:"";position:absolute;left:-11px;bottom:3px;width:12px;height:19px;background-position:50% 50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:11px;margin-top:8px;text-align:right}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 16px 0 0}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{order:2;margin:0 0 0 16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{margin-left:auto;background-color:#e8f5e9;border:1px solid #dfebe0;order:1}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:before{right:-11px;left:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAMAAADp2asXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD2UExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRsXAAAANzwzNPmxNrtyau5oIWRedDkwNntyczgwdfpyJ+/n97wzsLWtNjsytvwzczfvtPmxau6nNjqxtrtyio1KtzwzNjryAAAANzwzgAAANzwzK7Aor/Us9Lnw8vevAAAAMzevtbpxrvMrX+IdwAAAEROOi45Lr3MrZGjf9LoxX+MctnqydLkwhgYGMzfv9vuyQAAANzwzNvuy9zxy7vMu7XGqNvtzKKykwAAANruzKq6nLnMriQkGMXXuL3PsNjsySgzKAAAANLkw83fvd3vy9z4xtzwzRpFmIEAAABQdFJOUwAXChEGBAMBAgwhDvJ7k0YqMc0Zmwj6apf2kjU0+dkw/swh/CP9j2Wr2gndvaYeBRoxQg6gUPt/FaHJGdTj9A9k7XQLeE6iFcN12xkSt9r4NKizowAAAMFJREFUKM+V0sdywlAMBVDbMX7PQCihQ+iQ0HsJvfem/P/PwBIzugu0PXNnNNJVyPmhsIPhhoB2COwIGuLdhAcl3AhCBoBoHUC6BCBbA0C/EkBFB5D/FjxQwQYg1RI8UKINgDoSAPUlAPqUAMgfAEBfXsEDBV0+Hogi4Zhg4THj9YwHoqEBYOrgYTI3GVgMNn8r+Qq94k9yZNosW/3Hy9VuTjWfHkOX6367bGZUU7de66ieHZrO1OGg8Z1WTgYAFLgD5S1PCkzo1B0AAAAASUVORK5CYII=)}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]{min-height:72px;max-height:96px;background-color:#f3f4f5;color:rgba(0,0,0,.87);border-top:1px solid rgba(0,0,0,.08);padding:8px 8px 8px 16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:0;padding-right:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{max-height:80px;transition:height .2s ease;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea.grow[_ngcontent-%COMP%]{height:80px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-errors-spacer[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin:0}']}),t})();function mt(t,e){1&t&&r.Xb(0,"chat-start")}function pt(t,e){1&t&&r.Xb(0,"chat-view")}let vt=(()=>{class t{constructor(t){this._chatService=t,this._unsubscribeAll=new s.a}ngOnInit(){this._chatService.onChatSelected.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.selectedChat=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(g))},t.\u0275cmp=r.Qb({type:t,selectors:[["chat"]],decls:11,vars:2,consts:[["id","chat",1,"page-layout","carded","fullwidth"],[1,"top-bg","mat-accent-bg"],[1,"center"],[1,"content-card"],["position","start","opened","true","mode","side","persoInfoMatSidenavHelper","chat-left-sidenav","mat-is-locked-open","gt-md",1,"sidenav"],[4,"ngIf"],["position","end","opened","false","mode","over","persoInfoMatSidenavHelper","chat-right-sidenav",1,"sidenav"]],template:function(t,e){1&t&&(r.cc(0,"div",0),r.Xb(1,"div",1),r.cc(2,"div",2),r.cc(3,"div",3),r.cc(4,"mat-sidenav-container"),r.cc(5,"mat-sidenav",4),r.Xb(6,"chat-left-sidenav"),r.bc(),r.Yc(7,mt,1,0,"chat-start",5),r.Yc(8,pt,1,0,"chat-view",5),r.cc(9,"mat-sidenav",6),r.Xb(10,"chat-right-sidenav"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t&&(r.Hb(7),r.zc("ngIf",!e.selectedChat),r.Hb(1),r.zc("ngIf",e.selectedChat))},directives:[u.b,u.a,p,Z,C.u,ct,rt,ft],styles:["#chat{display:flex;flex:1}#chat .center{padding:32px!important;max-width:1400px;margin:0 auto}@media (max-width:1279px){#chat .center{padding:0!important}}#chat .center .content-card{display:flex;flex:1;position:relative;background:url(/assets/images/patterns/rain-grey.png) repeat}#chat .center .content-card .mat-sidenav-container{display:flex;flex:1;width:100%;background:transparent}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content,#chat .center .content-card .mat-sidenav-container>.mat-sidenav-content{display:flex;flex:1 1 auto;min-height:100%;height:auto}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content{max-width:100%}#chat .center .content-card .mat-sidenav-container mat-sidenav{display:flex;flex-direction:column;width:400px;max-width:90%;box-shadow:0 0 1px rgba(0,0,0,.37);overflow:hidden}"],encapsulation:2,data:{animation:d.a}}),t})();var Ct=n("dNgK");n.d(e,"ChatModule",(function(){return Mt}));const _t=[{path:"**",component:vt,children:[],resolve:{chat:g}}];let Mt=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},providers:[g],imports:[[c.j.forChild(_t),x.c,G.b,Ct.b,j.d,O.b,K.c,I.d,A.b,V.c,u.c,_.b,a.a]]}),t})()}}]);