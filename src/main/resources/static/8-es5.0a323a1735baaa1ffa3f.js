function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],c=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(c=(i=s.next()).done)&&(e.push(i.value),!n||e.length!==n);c=!0);}catch(r){a=!0,o=r}finally{try{c||null==s.return||s.return()}finally{if(a)throw o}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var c=n[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6dIM":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var c=e("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,n,e){var c=t.find((function(t){return void 0!==t.id&&t.id===n}));if(c)return c[e]}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=c.Vb({name:"getById",type:t,pure:!1}),t}()},nImp:function(t,n,e){"use strict";e.r(n);var c,a,o,i,s,r,l=e("tyNb"),u=e("0BIi"),h=e("2Vo4"),g=e("XNiG"),d=e("0Zs5"),b=e("fXoL"),f=e("tk/3"),v=((c=function(){function t(n){_classCallCheck(this,t),this._httpClient=n,this.onChatSelected=new h.a(null),this.onContactSelected=new h.a(null),this.onChatsUpdated=new g.a,this.onUserUpdated=new g.a,this.onLeftSidenavViewChanged=new g.a,this.onRightSidenavViewChanged=new g.a}return _createClass(t,[{key:"resolve",value:function(t,n){var e=this;return new Promise((function(t,n){Promise.all([e.getContacts(),e.getChats(),e.getUser()]).then((function(n){var c=_slicedToArray(n,3),a=c[0],o=c[1],i=c[2];e.contacts=a,e.chats=o,e.user=i,t()}),n)}))}},{key:"getChat",value:function(t){var n=this,e=this.user.chatList.find((function(n){return n.contactId===t}));if(e)return new Promise((function(c,a){n._httpClient.get("api/chat-chats/"+e.id).subscribe((function(e){var c=e,a=n.contacts.find((function(n){return n.id===t}));n.onChatSelected.next(Object.assign({},{chatId:c.id,dialog:c.dialog,contact:a}))}),a)}));this.createNewChat(t).then((function(e){n.getChat(t)}))}},{key:"createNewChat",value:function(t){var n=this;return new Promise((function(e,c){var a=n.contacts.find((function(n){return n.id===t})),o=d.a.generateGUID(),i={id:o,dialog:[]};n.user.chatList.push({contactId:t,id:o,lastMessageTime:"2017-02-18T10:30:18.931Z",name:a.name,unread:null}),n._httpClient.post("api/chat-chats",Object.assign({},i)).subscribe((function(t){n._httpClient.post("api/chat-user/"+n.user.id,n.user).subscribe((function(t){n.getUser().then((function(t){n.onUserUpdated.next(t),e(t)}))}))}),c)}))}},{key:"selectContact",value:function(t){this.onContactSelected.next(t)}},{key:"setUserStatus",value:function(t){this.user.status=t}},{key:"updateUserData",value:function(t){var n=this;this._httpClient.post("api/chat-user/"+this.user.id,t).subscribe((function(e){n.user=t}))}},{key:"updateDialog",value:function(t,n){var e=this;return new Promise((function(c,a){e._httpClient.post("api/chat-chats/"+t,{id:t,dialog:n}).subscribe((function(t){c(t)}),a)}))}},{key:"getContacts",value:function(){var t=this;return new Promise((function(n,e){t._httpClient.get("api/chat-contacts").subscribe((function(t){n(t)}),e)}))}},{key:"getChats",value:function(){var t=this;return new Promise((function(n,e){t._httpClient.get("api/chat-chats").subscribe((function(t){n(t)}),e)}))}},{key:"getUser",value:function(){var t=this;return new Promise((function(n,e){t._httpClient.get("api/chat-user").subscribe((function(t){n(t[0])}),e)}))}}]),t}()).\u0275fac=function(t){return new(t||c)(b.kc(f.c))},c.\u0275prov=b.Sb({token:c,factory:c.\u0275fac}),c),p=e("1G5W"),m=e("HY3y"),C=e("XhcP"),_=e("AKUa"),M=((a=function(){function t(){_classCallCheck(this,t),this.sidenavInstances=[]}return _createClass(t,[{key:"setSidenav",value:function(t,n){this.sidenavInstances[t]=n}},{key:"getSidenav",value:function(t){return this.sidenavInstances[t]}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=b.Sb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),O=e("pD6V"),P=((i=function(){function t(n,e,c,a){_classCallCheck(this,t),this.persoInfoMatchMediaService=n,this.persoInfoMatSidenavHelperService=e,this._matSidenav=c,this._MediaObserver=a,this.isLockedOpen=!0,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.persoInfoMatSidenavHelperService.setSidenav(this.id,this._matSidenav),this._MediaObserver.isActive(this.matIsLockedOpenBreakpoint)?(this.isLockedOpen=!0,this._matSidenav.mode="side",this._matSidenav.toggle(!0)):(this.isLockedOpen=!1,this._matSidenav.mode="over",this._matSidenav.toggle(!1)),this.persoInfoMatchMediaService.onMediaChange.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(){t._MediaObserver.isActive(t.matIsLockedOpenBreakpoint)?(t.isLockedOpen=!0,t._matSidenav.mode="side",t._matSidenav.toggle(!0)):(t.isLockedOpen=!1,t._matSidenav.mode="over",t._matSidenav.toggle(!1))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||i)(b.Wb(_.a),b.Wb(M),b.Wb(C.a),b.Wb(O.g))},i.\u0275dir=b.Rb({type:i,selectors:[["","persoInfoMatSidenavHelper",""]],hostVars:2,hostBindings:function(t,n){2&t&&b.Mb("mat-is-locked-open",n.isLockedOpen)},inputs:{id:["persoInfoMatSidenavHelper","id"],matIsLockedOpenBreakpoint:["mat-is-locked-open","matIsLockedOpenBreakpoint"]}}),i),A=((o=function(){function t(n){_classCallCheck(this,t),this.persoInfoMatSidenavHelperService=n}return _createClass(t,[{key:"onClick",value:function(){this.persoInfoMatSidenavHelperService.getSidenav(this.id).toggle()}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Wb(M))},o.\u0275dir=b.Rb({type:o,selectors:[["","persoInfoMatSidenavToggler",""]],hostBindings:function(t,n){1&t&&b.oc("click",(function(){return n.onClick()}))},inputs:{id:["persoInfoMatSidenavToggler","id"]}}),o),x=e("ofXK"),w=e("/t3+"),y=e("XiUz"),k=e("NFeN"),S=e("znSr"),I=e("STbY"),L=e("bTqV"),z=e("3Pt+"),H=e("cpli"),F=((s=function(){function t(n,e,c){_classCallCheck(this,t),this._elementRef=n,this._templateRef=e,this._viewContainerRef=c,this.isCreated=!1}return _createClass(t,[{key:"ngAfterContentChecked",value:function(){var t=this;document.body.contains(this._elementRef.nativeElement)&&!this.isCreated?(setTimeout((function(){t._viewContainerRef.createEmbeddedView(t._templateRef)}),300),this.isCreated=!0):this.isCreated&&!document.body.contains(this._elementRef.nativeElement)&&(this._viewContainerRef.clear(),this.isCreated=!1)}}]),t}()).\u0275fac=function(t){return new(t||s)(b.Wb(b.l),b.Wb(b.P),b.Wb(b.S))},s.\u0275dir=b.Rb({type:s,selectors:[["","persoInfoIfOnDom",""]]}),s),T=e("MutI"),U=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,n){return d.a.filterArrayByString(t,n)}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275pipe=b.Vb({name:"filter",type:r,pure:!0}),r),X=e("6dIM");function B(t,n){1&t&&(b.cc(0,"div",26),b.ad(1," Chats "),b.bc())}function D(t,n){if(1&t&&(b.cc(0,"div",37),b.ad(1),b.bc()),2&t){var e=b.sc().$implicit;b.Hb(1),b.bd(e.unread)}}var N=function(){return{y:"100%"}},R=function(t){return{value:"*",params:t}};function Q(t,n){if(1&t){var e=b.dc();b.cc(0,"button",27),b.oc("click",(function(){b.Qc(e);var t=n.$implicit;return b.sc(2).getChat(t.contactId)})),b.cc(1,"div",8),b.cc(2,"div",28),b.Xb(3,"img",29),b.tc(4,"getById"),b.tc(5,"getById"),b.Xb(6,"mat-icon",30),b.tc(7,"getById"),b.bc(),b.cc(8,"div",31),b.cc(9,"div",32),b.cc(10,"div",33),b.ad(11),b.tc(12,"getById"),b.bc(),b.bc(),b.cc(13,"div",34),b.cc(14,"div",35),b.ad(15),b.tc(16,"date"),b.bc(),b.Yc(17,D,2,1,"div",36),b.bc(),b.bc(),b.bc(),b.bc()}if(2&t){var c=n.$implicit,a=b.sc(2);b.zc("@animate",b.Dc(26,R,b.Cc(25,N))),b.Hb(3),b.Ac("alt",b.wc(5,11,a.contacts,c.contactId,"name")),b.zc("src",b.wc(4,7,a.contacts,c.contactId,"avatar"),b.Sc),b.Hb(3),b.zc("ngClass",b.wc(7,15,a.contacts,c.contactId,"status")),b.Hb(5),b.bd(b.wc(12,19,a.contacts,c.contactId,"name")),b.Hb(4),b.cd(" ",b.uc(16,23,c.lastMessageTime)," "),b.Hb(2),b.zc("ngIf",c.unread)}}function W(t,n){1&t&&(b.cc(0,"div",26),b.ad(1," Contacts "),b.bc())}function Y(t,n){if(1&t){var e=b.dc();b.cc(0,"button",38),b.oc("click",(function(){b.Qc(e);var t=n.$implicit;return b.sc(2).getChat(t.id)})),b.cc(1,"div",8),b.cc(2,"div",39),b.Xb(3,"img",40),b.Xb(4,"mat-icon",30),b.bc(),b.cc(5,"div",41),b.cc(6,"div",33),b.ad(7),b.bc(),b.cc(8,"p",42),b.ad(9),b.bc(),b.bc(),b.bc(),b.bc()}if(2&t){var c=n.$implicit;b.zc("@animate",b.Dc(7,R,b.Cc(6,N))),b.Hb(3),b.Ac("src",c.avatar,b.Sc),b.Ac("alt",c.name),b.Hb(1),b.zc("ngClass",c.status),b.Hb(3),b.bd(c.name),b.Hb(2),b.bd(c.mood)}}function j(t,n){1&t&&(b.cc(0,"div",43),b.ad(1," No results.. "),b.bc())}var G=function(){return{value:"50"}};function K(t,n){if(1&t&&(b.cc(0,"div"),b.cc(1,"div",20),b.Yc(2,B,2,0,"div",21),b.tc(3,"filter"),b.Yc(4,Q,18,28,"button",22),b.tc(5,"filter"),b.bc(),b.cc(6,"div",23),b.Yc(7,W,2,0,"div",21),b.tc(8,"filter"),b.Yc(9,Y,10,9,"button",24),b.tc(10,"filter"),b.bc(),b.Yc(11,j,2,0,"div",25),b.tc(12,"filter"),b.bc()),2&t){var e=b.sc();b.zc("@animateStagger",b.Cc(21,G)),b.Hb(2),b.zc("ngIf",b.vc(3,6,e.user.chatList,e.searchText).length>0),b.Hb(2),b.zc("ngForOf",b.vc(5,9,e.user.chatList,e.searchText)),b.Hb(3),b.zc("ngIf",b.vc(8,12,e.contacts,e.searchText).length>0),b.Hb(2),b.zc("ngForOf",b.vc(10,15,e.contacts,e.searchText)),b.Hb(2),b.zc("ngIf",0===b.vc(12,18,e.contacts,e.searchText).length)}}var V,E,J=((V=function(){function t(n,e,c){_classCallCheck(this,t),this._chatService=n,this._persoInfoMatSidenavHelperService=e,this._MediaObserver=c,this.chatSearch={name:""},this.searchText="",this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.chats=this._chatService.chats,this.contacts=this._chatService.contacts,this._chatService.onChatsUpdated.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.chats=n})),this._chatService.onUserUpdated.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.user=n}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getChat",value:function(t){this._chatService.getChat(t),this._MediaObserver.isActive("gt-md")||this._persoInfoMatSidenavHelperService.getSidenav("chat-left-sidenav").toggle()}},{key:"setUserStatus",value:function(t){this._chatService.setUserStatus(t)}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}},{key:"logout",value:function(){console.log("logout triggered")}}]),t}()).\u0275fac=function(t){return new(t||V)(b.Wb(v),b.Wb(M),b.Wb(O.g))},V.\u0275cmp=b.Qb({type:V,selectors:[["chat-chats-sidenav"]],decls:46,vars:6,consts:[[1,"sidenav-header"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt","click"],[1,"s-16","status",3,"ngClass","matMenuTriggerFor"],["id","user-status-menu"],["userStatusMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"s-16","status","online"],[1,"s-16","status","away"],[1,"s-16","status","do-not-disturb"],[1,"s-16","status","offline"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["userMenu","matMenu"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["type","text","placeholder","Search or start new chat","fxFlex","",3,"ngModel","ngModelChange"],["persoInfoPerfectScrollbar","","fxFlex","",1,"sidenav-content"],[4,"persoInfoIfOnDom"],["fxLayout","column",1,"chat-list"],["matSubheader","",4,"ngIf"],["mat-button","","class","contact","ngClass","{'unread':contact.unread}",3,"click",4,"ngFor","ngForOf"],["fxLayout","column",1,"contact-list"],["mat-button","","class","contact",3,"click",4,"ngFor","ngForOf"],["class","no-results-message",4,"ngIf"],["matSubheader",""],["mat-button","","ngClass","{'unread':contact.unread}",1,"contact",3,"click"],["fxFlex","0 1 auto","fxLayoutAlign","center center",1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],["fxLayout","row","fxFlex",""],["fxFlex","","fxLayout","column","fxLayoutAlign","center start",1,""],[1,"contact-name"],["fxLayout","column","fxLayoutAlign","center end"],[1,"contact-last-message-time"],["class","unread-message-count mat-accent-bg",4,"ngIf"],[1,"unread-message-count","mat-accent-bg"],["mat-button","",1,"contact",3,"click"],["fxFlex","0 1 auto",1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt"],["fxLayout","column","fxLayoutAlign","center start",1,""],[1,"contact-mood"],[1,"no-results-message"]],template:function(t,n){if(1&t&&(b.cc(0,"div",0),b.cc(1,"mat-toolbar"),b.cc(2,"mat-toolbar-row",1),b.cc(3,"div",2),b.cc(4,"img",3),b.oc("click",(function(){return n.changeLeftSidenavView("user")})),b.bc(),b.Xb(5,"mat-icon",4),b.cc(6,"mat-menu",5,6),b.cc(8,"button",7),b.oc("click",(function(){return n.setUserStatus("online")})),b.cc(9,"div",8),b.Xb(10,"mat-icon",9),b.cc(11,"span"),b.ad(12,"Online"),b.bc(),b.bc(),b.bc(),b.cc(13,"button",7),b.oc("click",(function(){return n.setUserStatus("away")})),b.cc(14,"div",8),b.Xb(15,"mat-icon",10),b.cc(16,"span"),b.ad(17,"Away"),b.bc(),b.bc(),b.bc(),b.cc(18,"button",7),b.oc("click",(function(){return n.setUserStatus("do-not-disturb")})),b.cc(19,"div",8),b.Xb(20,"mat-icon",11),b.cc(21,"span"),b.ad(22,"Do not disturb"),b.bc(),b.bc(),b.bc(),b.cc(23,"button",7),b.oc("click",(function(){return n.setUserStatus("offline")})),b.cc(24,"div",8),b.Xb(25,"mat-icon",12),b.cc(26,"span"),b.ad(27,"Offline"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(28,"div"),b.cc(29,"button",13),b.cc(30,"mat-icon"),b.ad(31,"more_vert"),b.bc(),b.bc(),b.cc(32,"mat-menu",null,14),b.cc(34,"button",7),b.oc("click",(function(){return n.changeLeftSidenavView("user")})),b.ad(35," Profile "),b.bc(),b.cc(36,"button",7),b.oc("click",(function(){return n.logout()})),b.ad(37," Logout "),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(38,"mat-toolbar-row"),b.cc(39,"div",15),b.cc(40,"div",16),b.cc(41,"mat-icon"),b.ad(42,"search"),b.bc(),b.cc(43,"input",17),b.oc("ngModelChange",(function(t){return n.searchText=t})),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(44,"div",18),b.Yc(45,K,13,22,"div",19),b.bc()),2&t){var e=b.Mc(7),c=b.Mc(33);b.Hb(4),b.Ac("src",n.user.avatar,b.Sc),b.Ac("alt",n.user.name),b.Hb(1),b.zc("ngClass",n.user.status)("matMenuTriggerFor",e),b.Hb(24),b.zc("matMenuTriggerFor",c),b.Hb(14),b.zc("ngModel",n.searchText)}},directives:[w.a,w.c,y.e,y.d,k.a,x.r,S.a,I.c,I.d,I.a,L.b,y.b,z.b,z.o,z.r,H.a,F,x.u,x.t,T.e],pipes:[U,X.a,x.f],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.08)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:8px;background:#fff;font-size:13px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:12px;height:36px;color:rgba(0,0,0,.54);border:none}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{padding-left:16px;font-size:20px;font-weight:300;height:88px;line-height:88px;color:#039be5}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{white-space:normal;text-align:left;letter-spacing:.01em;min-height:88px;border-bottom:1px solid rgba(0,0,0,.12);padding:16px;font-weight:400}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:16px;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-last-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-last-message[_ngcontent-%COMP%]{line-height:1.6em;margin:0;font-weight:500;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-mood[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .contact-mood[_ngcontent-%COMP%]{line-height:normal;margin-top:0}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .unread-message-count[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   .unread-message-count[_ngcontent-%COMP%]{border-radius:50%;text-align:center;width:24px;height:24px;line-height:24px}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .no-results-message[_ngcontent-%COMP%]{position:absolute;width:100%;height:88px;padding:16px;background:#fff;font-size:15px;font-weight:400}"],data:{animation:m.a}}),V),q=e("Kj3r"),Z=e("/uUt"),$=e("Wp6s"),tt=e("kmnG"),nt=e("qFsG"),et=e("QibW"),ct=((E=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.userForm=new z.g({mood:new z.d(this.user.mood),status:new z.d(this.user.status)}),this.userForm.valueChanges.pipe(Object(p.a)(this._unsubscribeAll),Object(q.a)(500),Object(Z.a)()).subscribe((function(n){t.user.mood=n.mood,t.user.status=n.status,t._chatService.updateUserData(t.user)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||E)(b.Wb(v))},E.\u0275cmp=b.Qb({type:E,selectors:[["chat-user-sidenav"]],decls:36,vars:4,consts:[[1,"sidenav-header"],[1,"mat-accent-bg"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","aria-label","back",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","user-avatar","huge",3,"src","alt"],[1,"user-name","my-8"],["fxFlex","",1,"sidenav-content","p-16"],["fxLayout","column",3,"formGroup"],["fxFlex","0 1 auto",1,"mb-24"],["matInput","","placeholder","Mood","name","mood","formControlName","mood","rows","3"],["formControlName","status","fxLayout","column"],["value","online",1,"py-8"],["fxLayout","row","fxLayoutAlign","start center"],[1,"status","online","mr-8"],[1,"mat-h4","m-0"],["value","away",1,"py-8"],[1,"status","away","mr-8"],["value","do-not-disturb",1,"py-8"],[1,"status","do-not-disturb","mr-8"],["value","offline",1,"py-8"],[1,"status","offline","mr-8"]],template:function(t,n){1&t&&(b.cc(0,"div",0),b.cc(1,"mat-toolbar",1),b.cc(2,"mat-toolbar-row",2),b.cc(3,"button",3),b.oc("click",(function(){return n.changeLeftSidenavView("chats")})),b.cc(4,"mat-icon"),b.ad(5,"arrow_back"),b.bc(),b.bc(),b.bc(),b.cc(6,"mat-toolbar-row",4),b.Xb(7,"img",5),b.cc(8,"div",6),b.ad(9),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(10,"div",7),b.cc(11,"mat-card"),b.cc(12,"form",8),b.cc(13,"mat-form-field",9),b.Xb(14,"textarea",10),b.bc(),b.cc(15,"mat-radio-group",11),b.cc(16,"mat-radio-button",12),b.cc(17,"div",13),b.Xb(18,"mat-icon",14),b.cc(19,"span",15),b.ad(20,"Online"),b.bc(),b.bc(),b.bc(),b.cc(21,"mat-radio-button",16),b.cc(22,"div",13),b.Xb(23,"mat-icon",17),b.cc(24,"span",15),b.ad(25,"Away"),b.bc(),b.bc(),b.bc(),b.cc(26,"mat-radio-button",18),b.cc(27,"div",13),b.Xb(28,"mat-icon",19),b.cc(29,"span",15),b.ad(30,"Do not disturb"),b.bc(),b.bc(),b.bc(),b.cc(31,"mat-radio-button",20),b.cc(32,"div",13),b.Xb(33,"mat-icon",21),b.cc(34,"span",15),b.ad(35,"Offline"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc()),2&t&&(b.Hb(7),b.Ac("alt",n.user.name),b.zc("src",n.user.avatar,b.Sc),b.Hb(2),b.bd(n.user.name),b.Hb(3),b.zc("formGroup",n.userForm))},directives:[w.a,w.c,y.e,y.d,L.b,k.a,y.b,$.a,z.x,z.p,z.h,tt.b,nt.b,z.b,z.o,z.f,et.b,et.a],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:240px}@media (max-width:1279px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:180px}}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{background:#f5f5f5}"]}),E);function at(t,n){1&t&&b.Xb(0,"chat-chats-sidenav",3),2&t&&b.zc("@slideInRight",void 0)}function ot(t,n){1&t&&b.Xb(0,"chat-user-sidenav",4),2&t&&b.zc("@slideInLeft",void 0)}var it,st=((it=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this.view="chats",this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onLeftSidenavViewChanged.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.view=n}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||it)(b.Wb(v))},it.\u0275cmp=b.Qb({type:it,selectors:[["chat-left-sidenav"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch"],["class","view",4,"ngSwitchCase"],["class","view","persoInfoPerfectScrollbar","",4,"ngSwitchCase"],[1,"view"],["persoInfoPerfectScrollbar","",1,"view"]],template:function(t,n){1&t&&(b.cc(0,"div",0),b.Yc(1,at,1,1,"chat-chats-sidenav",1),b.Yc(2,ot,1,1,"chat-user-sidenav",2),b.bc()),2&t&&(b.zc("ngSwitch",n.view),b.Hb(1),b.zc("ngSwitchCase","chats"),b.Hb(1),b.zc("ngSwitchCase","user"))},directives:[x.y,x.z,J,ct,H.a],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],data:{animation:m.a}}),it);function rt(t,n){if(1&t&&(b.cc(0,"div",2),b.cc(1,"mat-toolbar",3),b.cc(2,"mat-toolbar-row",4),b.cc(3,"div"),b.ad(4,"Contact Info"),b.bc(),b.cc(5,"button",5),b.cc(6,"mat-icon"),b.ad(7,"close"),b.bc(),b.bc(),b.bc(),b.cc(8,"mat-toolbar-row",6),b.Xb(9,"img",7),b.cc(10,"div",8),b.ad(11),b.bc(),b.bc(),b.bc(),b.bc()),2&t){var e=b.sc();b.Hb(9),b.Ac("alt",e.contact.name),b.zc("src",e.contact.avatar,b.Sc),b.Hb(2),b.bd(e.contact.name)}}function lt(t,n){if(1&t&&(b.cc(0,"div",9),b.cc(1,"mat-card"),b.cc(2,"mat-form-field",10),b.cc(3,"textarea",11),b.ad(4,"            "),b.bc(),b.bc(),b.bc(),b.bc()),2&t){var e=b.sc();b.Hb(3),b.zc("value",e.contact.mood)}}var ut,ht=((ut=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onContactSelected.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.contact=n}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||ut)(b.Wb(v))},ut.\u0275cmp=b.Qb({type:ut,selectors:[["chat-contact-sidenav"]],decls:2,vars:2,consts:[["class","sidenav-header",4,"ngIf"],["class","sidenav-content p-16","fxFlex","",4,"ngIf"],[1,"sidenav-header"],[1,"mat-accent-bg"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","persoInfoMatSidenavToggler","chat-right-sidenav","aria-label","close"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","contact-avatar","huge",3,"src","alt"],[1,"contact-name","my-8"],["fxFlex","",1,"sidenav-content","p-16"],[1,"w-100-p"],["matInput","","placeholder","Mood","name","mood","rows","3","disabled","",3,"value"]],template:function(t,n){1&t&&(b.Yc(0,rt,12,3,"div",0),b.Yc(1,lt,5,1,"div",1)),2&t&&(b.zc("ngIf",n.contact),b.Hb(1),b.zc("ngIf",n.contact))},directives:[x.u,w.a,w.c,y.e,y.d,L.b,A,k.a,y.b,$.a,tt.b,nt.b],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:240px}@media (max-width:1279px){[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .toolbar-bottom[_ngcontent-%COMP%]{height:180px}}[_nghost-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{background:#f5f5f5}"]}),ut);function gt(t,n){1&t&&b.Xb(0,"chat-contact-sidenav",2),2&t&&b.zc("@slideInRight",void 0)}var dt,bt,ft=((dt=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this.view="contact",this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onRightSidenavViewChanged.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.view=n}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||dt)(b.Wb(v))},dt.\u0275cmp=b.Qb({type:dt,selectors:[["chat-right-sidenav"]],decls:2,vars:2,consts:[[1,"views",3,"ngSwitch"],["class","view","persoInfoPerfectScrollbar","",4,"ngSwitchCase"],["persoInfoPerfectScrollbar","",1,"view"]],template:function(t,n){1&t&&(b.cc(0,"div",0),b.Yc(1,gt,1,1,"chat-contact-sidenav",1),b.bc()),2&t&&(b.zc("ngSwitch",n.view),b.Hb(1),b.zc("ngSwitchCase","contact"))},directives:[x.y,x.z,ht,H.a],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],data:{animation:m.a}}),dt),vt=function(){return{delay:"50ms",scale:"0.2"}},pt=function(t){return{value:"*",params:t}},mt=function(){return{delay:"100ms",y:"25px"}},Ct=function(){return{delay:"200ms",y:"50px"}},_t=((bt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||bt)},bt.\u0275cmp=b.Qb({type:bt,selectors:[["chat-start"]],decls:10,vars:12,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"big-circle","mat-elevation-z1","app-logo"],[1,"s-64","s-mat-128","mat-accent"],[1,"app-title","my-24"],["fxHide","","fxShow.gt-md","",1,"app-message"],["mat-raised-button","","fxHide.gt-md","","persoInfoMatSidenavToggler","chat-left-sidenav"]],template:function(t,n){1&t&&(b.cc(0,"div",0),b.cc(1,"div",1),b.cc(2,"mat-icon",2),b.ad(3,"chat"),b.bc(),b.bc(),b.cc(4,"span",3),b.ad(5,"Chat App"),b.bc(),b.cc(6,"span",4),b.ad(7," Select contact to start the chat!.. "),b.bc(),b.cc(8,"button",5),b.ad(9," Select contact to start the chat!.. "),b.bc(),b.bc()),2&t&&(b.Hb(1),b.zc("@animate",b.Dc(4,pt,b.Cc(3,vt))),b.Hb(3),b.zc("@animate",b.Dc(7,pt,b.Cc(6,mt))),b.Hb(2),b.zc("@animate",b.Dc(10,pt,b.Cc(9,Ct))))},directives:[y.b,y.e,y.d,k.a,S.b,L.b,A],styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%], [_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{background:linear-gradient(180deg,hsla(0,0%,100%,.8) 0,hsla(0,0%,100%,.6) 20%,hsla(0,0%,100%,.8))}[_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{border-radius:50%;width:300px;height:300px;line-height:300px;text-align:center}@media (max-width:959px){[_nghost-%COMP%]   .big-circle[_ngcontent-%COMP%]{width:160px;height:160px;line-height:160px}}[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:500;font-size:32px}[_nghost-%COMP%]   .secondary-text[_ngcontent-%COMP%]{font-size:16px}"],data:{animation:m.a}}),bt),Mt=["replyForm"],Ot=["replyInput"];function Pt(t,n){if(1&t&&b.Xb(0,"img",7),2&t){var e=b.sc(2);b.Ac("src",e.contact.avatar,b.Sc),b.Ac("alt",e.contact.name)}}function At(t,n){if(1&t&&b.Xb(0,"img",29),2&t){var e=b.sc(2);b.Ac("src",e.user.avatar,b.Sc)}}var xt=function(t){return{user:t}};function wt(t,n){if(1&t&&(b.cc(0,"div",23),b.Yc(1,Pt,1,2,"img",24),b.Yc(2,At,1,1,"img",25),b.cc(3,"div",26),b.cc(4,"div",27),b.ad(5),b.bc(),b.cc(6,"div",28),b.ad(7),b.tc(8,"date"),b.bc(),b.bc(),b.bc()),2&t){var e=n.$implicit,c=b.sc();b.zc("ngClass",b.Dc(8,xt,e.who===c.user.id)),b.Hb(1),b.zc("ngIf",e.who===c.contact.id),b.Hb(1),b.zc("ngIf",e.who===c.user.id),b.Hb(3),b.bd(e.message),b.Hb(2),b.bd(b.vc(8,5,e.time,"medium"))}}var yt,kt=((yt=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this._chatService.onChatSelected.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){n&&(t.selectedChat=n,t.contact=n.contact,t.dialog=n.dialog,t.readyToReply())}))}},{key:"ngAfterViewInit",value:function(){this.replyInput=this.replyInputField.first.nativeElement,this.readyToReply()}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"selectContact",value:function(){this._chatService.selectContact(this.contact)}},{key:"readyToReply",value:function(){var t=this;setTimeout((function(){t.replyForm.reset(),t.focusReplyInput(),t.scrollToBottom()}))}},{key:"focusReplyInput",value:function(){var t=this;setTimeout((function(){t.replyInput.focus()}))}},{key:"scrollToBottom",value:function(t){var n=this;t=t||400,this.directiveScroll&&(this.directiveScroll.update(),setTimeout((function(){n.directiveScroll.scrollToBottom(0,t)})))}},{key:"reply",value:function(){var t=this,n={who:this.user.id,message:this.replyForm.form.value.message,time:(new Date).toISOString()};this.dialog.push(n),this._chatService.updateDialog(this.selectedChat.chatId,this.dialog).then((function(n){t.readyToReply()}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(b.Wb(v))},yt.\u0275cmp=b.Qb({type:yt,selectors:[["chat-view"]],viewQuery:function(t,n){var e;1&t&&(b.fd(H.a,!0),b.fd(Mt,!0),b.fd(Ot,!0)),2&t&&(b.Lc(e=b.pc())&&(n.directiveScroll=e.first),b.Lc(e=b.pc())&&(n.replyForm=e.first),b.Lc(e=b.pc())&&(n.replyInputField=e))},decls:33,vars:6,consts:[["fxFlex","","fxLayout","column",1,"chat"],[1,"chat-toolbar"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-md","","persoInfoMatSidenavToggler","chat-left-sidenav","aria-label","chats button",1,"responsive-chats-button","mr-16"],["fxLayout","row","fxLayoutAlign","start center","persoInfoMatSidenavToggler","chat-right-sidenav",1,"chat-contact",3,"click"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],[1,"chat-contact-name"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["contactMenu","matMenu"],["mat-menu-item","","persoInfoMatSidenavToggler","chat-right-sidenav",3,"click"],["id","chat-content","fxFlex","","persoInfoPerfectScrollbar",""],[1,"chat-messages"],["fxLayout","row","class","message-row",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"chat-footer"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"reply-form",3,"ngSubmit","keyup.enter"],["replyForm","ngForm"],["fxFlex","","floatLabel","never"],["matInput","","placeholder","Type and hit enter to send message","ngModel","","name","message"],["replyInput",""],["mat-fab","","type","submit","aria-label","Send message"],["fxLayout","row",1,"message-row",3,"ngClass"],["class","avatar",3,"src","alt",4,"ngIf"],["class","avatar",3,"src",4,"ngIf"],[1,"bubble"],[1,"message"],[1,"time","secondary-text"],[1,"avatar",3,"src"]],template:function(t,n){if(1&t&&(b.cc(0,"div",0),b.cc(1,"mat-toolbar",1),b.cc(2,"div",2),b.cc(3,"div",3),b.cc(4,"button",4),b.cc(5,"mat-icon"),b.ad(6,"chat"),b.bc(),b.bc(),b.cc(7,"div",5),b.oc("click",(function(){return n.selectContact()})),b.cc(8,"div",6),b.Xb(9,"img",7),b.Xb(10,"mat-icon",8),b.bc(),b.cc(11,"div",9),b.ad(12),b.bc(),b.bc(),b.bc(),b.cc(13,"div"),b.cc(14,"button",10),b.cc(15,"mat-icon"),b.ad(16,"more_vert"),b.bc(),b.bc(),b.cc(17,"mat-menu",null,11),b.cc(19,"button",12),b.oc("click",(function(){return n.selectContact()})),b.ad(20," Contact Info "),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(21,"div",13),b.cc(22,"div",14),b.Yc(23,wt,9,10,"div",15),b.bc(),b.bc(),b.cc(24,"div",16),b.cc(25,"form",17,18),b.oc("ngSubmit",(function(){return n.reply()}))("keyup.enter",(function(){return n.reply()})),b.cc(27,"mat-form-field",19),b.Xb(28,"textarea",20,21),b.bc(),b.cc(30,"button",22),b.cc(31,"mat-icon"),b.ad(32,"send"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc()),2&t){var e=b.Mc(18);b.Hb(9),b.Ac("alt",n.contact.name),b.zc("src",n.contact.avatar,b.Sc),b.Hb(1),b.zc("ngClass",n.contact.status),b.Hb(2),b.cd(" ",n.contact.name," "),b.Hb(2),b.zc("matMenuTriggerFor",e),b.Hb(9),b.zc("ngForOf",n.dialog)}},directives:[y.b,y.e,w.a,y.d,L.b,S.b,A,k.a,x.r,S.a,I.c,I.d,I.a,H.a,x.t,z.x,z.p,z.q,tt.b,nt.b,z.b,z.o,z.r,x.u],pipes:[x.f],styles:['[_nghost-%COMP%]{display:flex;flex:1 0 auto;background:linear-gradient(180deg,hsla(0,0%,100%,.8) 0,hsla(0,0%,100%,.6) 20%,hsla(0,0%,100%,.8));overflow:hidden;max-width:100%}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]{min-height:64px;background-color:#f3f4f5;color:rgba(0,0,0,.87);border-bottom:1px solid rgba(0,0,0,.08)}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .responsive-chats-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .chat-contact[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-toolbar[_ngcontent-%COMP%]   .chat-contact[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]{background:transparent;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]{padding:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{position:relative;padding:6px 7px 8px 9px;background-color:#fff;box-shadow:0 1px .5px rgba(0,0,0,.13);border-radius:6px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAMAAADp2asXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADGUExURQAAAP////b29vn5+f///wAAAP///wAAAAAAAP///9ra2v////j4+PHx8fv7++Hh4fHx8f////////////////39/QAAAP////////z8/P////39/f39/fz8/P////////////z8/P////////////z8/P////////////v7+/Hx8f///9bW1vz8/K2trf////39/f39/WJiYgAAAExMTFtbWwAAAN3d3cjIyPr6+vX19QAAAO7u7vz8/NTU1Ofn5zMzM////zGPlXsAAABBdFJOUwAcm/kREh4CCDWL1SneR6TfAQffhMYK/A5nRrLWfRc5DW2ih5f+19Kn+9v4g/1LCJuXHwQUKgahcXS6DNnlDMMKKzPoTgAAAKBJREFUKM+V08USwmAQA+C/0NIWd3d3d8/7vxTMcIPkQK7f7CG7s8bQAOY/SCuwFYQU1P+eiCqIK2gpWCmoCrAgoKQgJ8CHgIqAMjg0MxxSQ3DogEMWFBZtUPAHYGB1CyDQWE6AH7BrfXzlAxGAQhECTGAmwN1Okz0Gb/LW4fEItIfrOfNELMh3tck7u+PhcT2zQ7l77/K8iY8yJwV3BeYFqpc/uSyPGdAAAAAASUVORK5CYII=);content:"";position:absolute;left:-11px;bottom:3px;width:12px;height:19px;background-position:50% 50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:11px;margin-top:8px;text-align:right}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.contact[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 16px 0 0}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{order:2;margin:0 0 0 16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{margin-left:auto;background-color:#e8f5e9;border:1px solid #dfebe0;order:1}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   #chat-content[_ngcontent-%COMP%]   .message-row.user[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:before{right:-11px;left:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAMAAADp2asXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD2UExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRsXAAAANzwzNPmxNrtyau5oIWRedDkwNntyczgwdfpyJ+/n97wzsLWtNjsytvwzczfvtPmxau6nNjqxtrtyio1KtzwzNjryAAAANzwzgAAANzwzK7Aor/Us9Lnw8vevAAAAMzevtbpxrvMrX+IdwAAAEROOi45Lr3MrZGjf9LoxX+MctnqydLkwhgYGMzfv9vuyQAAANzwzNvuy9zxy7vMu7XGqNvtzKKykwAAANruzKq6nLnMriQkGMXXuL3PsNjsySgzKAAAANLkw83fvd3vy9z4xtzwzRpFmIEAAABQdFJOUwAXChEGBAMBAgwhDvJ7k0YqMc0Zmwj6apf2kjU0+dkw/swh/CP9j2Wr2gndvaYeBRoxQg6gUPt/FaHJGdTj9A9k7XQLeE6iFcN12xkSt9r4NKizowAAAMFJREFUKM+V0sdywlAMBVDbMX7PQCihQ+iQ0HsJvfem/P/PwBIzugu0PXNnNNJVyPmhsIPhhoB2COwIGuLdhAcl3AhCBoBoHUC6BCBbA0C/EkBFB5D/FjxQwQYg1RI8UKINgDoSAPUlAPqUAMgfAEBfXsEDBV0+Hogi4Zhg4THj9YwHoqEBYOrgYTI3GVgMNn8r+Qq94k9yZNosW/3Hy9VuTjWfHkOX6367bGZUU7de66ieHZrO1OGg8Z1WTgYAFLgD5S1PCkzo1B0AAAAASUVORK5CYII=)}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]{min-height:72px;max-height:96px;background-color:#f3f4f5;color:rgba(0,0,0,.87);border-top:1px solid rgba(0,0,0,.08);padding:8px 8px 8px 16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:0;padding-right:16px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{max-height:80px;transition:height .2s ease;overflow:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea.grow[_ngcontent-%COMP%]{height:80px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-errors-spacer[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-footer[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin:0}']}),yt);function St(t,n){1&t&&b.Xb(0,"chat-start")}function It(t,n){1&t&&b.Xb(0,"chat-view")}var Lt,zt=((Lt=function(){function t(n){_classCallCheck(this,t),this._chatService=n,this._unsubscribeAll=new g.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onChatSelected.pipe(Object(p.a)(this._unsubscribeAll)).subscribe((function(n){t.selectedChat=n}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||Lt)(b.Wb(v))},Lt.\u0275cmp=b.Qb({type:Lt,selectors:[["chat"]],decls:11,vars:2,consts:[["id","chat",1,"page-layout","carded","fullwidth"],[1,"top-bg","mat-accent-bg"],[1,"center"],[1,"content-card"],["position","start","opened","true","mode","side","persoInfoMatSidenavHelper","chat-left-sidenav","mat-is-locked-open","gt-md",1,"sidenav"],[4,"ngIf"],["position","end","opened","false","mode","over","persoInfoMatSidenavHelper","chat-right-sidenav",1,"sidenav"]],template:function(t,n){1&t&&(b.cc(0,"div",0),b.Xb(1,"div",1),b.cc(2,"div",2),b.cc(3,"div",3),b.cc(4,"mat-sidenav-container"),b.cc(5,"mat-sidenav",4),b.Xb(6,"chat-left-sidenav"),b.bc(),b.Yc(7,St,1,0,"chat-start",5),b.Yc(8,It,1,0,"chat-view",5),b.cc(9,"mat-sidenav",6),b.Xb(10,"chat-right-sidenav"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc()),2&t&&(b.Hb(7),b.zc("ngIf",!n.selectedChat),b.Hb(1),b.zc("ngIf",n.selectedChat))},directives:[C.b,C.a,P,st,x.u,ft,_t,kt],styles:["#chat{display:flex;flex:1}#chat .center{padding:32px!important;max-width:1400px;margin:0 auto}@media (max-width:1279px){#chat .center{padding:0!important}}#chat .center .content-card{display:flex;flex:1;position:relative;background:url(/assets/images/patterns/rain-grey.png) repeat}#chat .center .content-card .mat-sidenav-container{display:flex;flex:1;width:100%;background:transparent}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content,#chat .center .content-card .mat-sidenav-container>.mat-sidenav-content{display:flex;flex:1 1 auto;min-height:100%;height:auto}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content{max-width:100%}#chat .center .content-card .mat-sidenav-container mat-sidenav{display:flex;flex-direction:column;width:400px;max-width:90%;box-shadow:0 0 1px rgba(0,0,0,.37);overflow:hidden}"],encapsulation:2,data:{animation:m.a}}),Lt),Ht=e("dNgK");e.d(n,"ChatModule",(function(){return Ut}));var Ft,Tt=[{path:"**",component:zt,children:[],resolve:{chat:v}}],Ut=((Ft=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ub({type:Ft}),Ft.\u0275inj=b.Tb({factory:function(t){return new(t||Ft)},providers:[v],imports:[[l.j.forChild(Tt),L.c,$.b,Ht.b,tt.d,k.b,nt.c,T.d,I.b,et.c,C.c,w.b,u.a]]}),Ft)}}]);