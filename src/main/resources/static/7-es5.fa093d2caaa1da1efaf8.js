function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){a=!0,r=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1tvX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adapterFactory=function(e){return{addDays:function(t,n){return e(t).add(n,"days").toDate()},addHours:function(t,n){return e(t).add(n,"hours").toDate()},addMinutes:function(t,n){return e(t).add(n,"minutes").toDate()},addSeconds:function(t,n){return e(t).add(n,"seconds").toDate()},differenceInDays:function(t,n){return e(t).diff(e(n),"days")},differenceInMinutes:function(t,n){return e(t).diff(e(n),"minutes")},differenceInSeconds:function(t,n){return e(t).diff(e(n),"seconds")},endOfDay:function(t){return e(t).endOf("day").toDate()},endOfMonth:function(t){return e(t).endOf("month").toDate()},endOfWeek:function(t){return e(t).endOf("week").toDate()},getDay:function(t){return e(t).day()},getMonth:function(t){return e(t).month()},isSameDay:function(t,n){return e(t).isSame(e(n),"day")},isSameMonth:function(t,n){return e(t).isSame(e(n),"month")},isSameSecond:function(t,n){return e(t).isSame(e(n),"second")},max:function(t){return e.max(t.map((function(t){return e(t)}))).toDate()},setHours:function(t,n){return e(t).hours(n).toDate()},setMinutes:function(t,n){return e(t).minutes(n).toDate()},startOfDay:function(t){return e(t).startOf("day").toDate()},startOfMinute:function(t){return e(t).startOf("minute").toDate()},startOfMonth:function(t){return e(t).startOf("month").toDate()},startOfWeek:function(t){return e(t).startOf("week").toDate()},getHours:function(t){return e(t).hours()},getMinutes:function(t){return e(t).minutes()}}}},"6yRa":function(e,t,n){"use strict";var i=n("OJSY");e.exports=function(e,t){var n=i.boolean((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var i=t.target&&t.target.ownerDocument||document,a=i.documentElement,r=i.body;e.pageX=t.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}},GG7J:function(e,t,n){"use strict";n.r(t);var i=n("tyNb"),a=n("fXoL"),r=n("ofXK"),o=["hueSlider"],c=["alphaSlider"],l=["dialogPopup"];function s(e,t){if(1&e&&a.Xb(0,"div"),2&e){var n=a.sc();a.Kb("arrow arrow-",n.cpPosition,""),a.Xc("top",n.arrowTop,"px")}}function d(e,t){if(1&e){var n=a.dc();a.cc(0,"button",22),a.oc("click",(function(e){a.Qc(n);var t=a.sc();return t.onAddPresetColor(e,t.selectedColor)})),a.ad(1),a.bc()}if(2&e){var i=a.sc();a.Jb(i.cpAddColorButtonClass),a.zc("disabled",i.cpPresetColors&&i.cpPresetColors.length>=i.cpMaxPresetColorsLength),a.Hb(1),a.cd(" ",i.cpAddColorButtonText," ")}}function u(e,t){1&e&&a.Xb(0,"div",23)}function p(e,t){if(1&e){var n=a.dc();a.cc(0,"input",30),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc(2).onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc(2).onAlphaInput(e)})),a.bc()}if(2&e){var i=a.sc(2);a.zc("rg",1)("value",null==i.hslaText?null:i.hslaText.a)}}function h(e,t){1&e&&(a.cc(0,"div"),a.ad(1,"A"),a.bc())}function v(e,t){if(1&e){var n=a.dc();a.cc(0,"div",24),a.cc(1,"div",25),a.cc(2,"input",26),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onHueInput(e)})),a.bc(),a.cc(3,"input",27),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onSaturationInput(e)})),a.bc(),a.cc(4,"input",27),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onLightnessInput(e)})),a.bc(),a.Yc(5,p,1,2,"input",28),a.bc(),a.cc(6,"div",25),a.cc(7,"div"),a.ad(8,"H"),a.bc(),a.cc(9,"div"),a.ad(10,"S"),a.bc(),a.cc(11,"div"),a.ad(12,"L"),a.bc(),a.Yc(13,h,2,0,"div",29),a.bc(),a.bc()}if(2&e){var i=a.sc();a.Xc("display",2!==i.format?"none":"block"),a.Hb(2),a.zc("rg",360)("value",null==i.hslaText?null:i.hslaText.h),a.Hb(1),a.zc("rg",100)("value",null==i.hslaText?null:i.hslaText.s),a.Hb(1),a.zc("rg",100)("value",null==i.hslaText?null:i.hslaText.l),a.Hb(1),a.zc("ngIf","disabled"!==i.cpAlphaChannel),a.Hb(8),a.zc("ngIf","disabled"!==i.cpAlphaChannel)}}function f(e,t){if(1&e){var n=a.dc();a.cc(0,"input",30),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc(2).onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc(2).onAlphaInput(e)})),a.bc()}if(2&e){var i=a.sc(2);a.zc("rg",1)("value",null==i.rgbaText?null:i.rgbaText.a)}}function g(e,t){1&e&&(a.cc(0,"div"),a.ad(1,"A"),a.bc())}function m(e,t){if(1&e){var n=a.dc();a.cc(0,"div",31),a.cc(1,"div",25),a.cc(2,"input",32),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onRedInput(e)})),a.bc(),a.cc(3,"input",32),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onGreenInput(e)})),a.bc(),a.cc(4,"input",32),a.oc("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onBlueInput(e)})),a.bc(),a.Yc(5,f,1,2,"input",28),a.bc(),a.cc(6,"div",25),a.cc(7,"div"),a.ad(8,"R"),a.bc(),a.cc(9,"div"),a.ad(10,"G"),a.bc(),a.cc(11,"div"),a.ad(12,"B"),a.bc(),a.Yc(13,g,2,0,"div",29),a.bc(),a.bc()}if(2&e){var i=a.sc();a.Xc("display",1!==i.format?"none":"block"),a.Hb(2),a.zc("rg",255)("value",null==i.rgbaText?null:i.rgbaText.r),a.Hb(1),a.zc("rg",255)("value",null==i.rgbaText?null:i.rgbaText.g),a.Hb(1),a.zc("rg",255)("value",null==i.rgbaText?null:i.rgbaText.b),a.Hb(1),a.zc("ngIf","disabled"!==i.cpAlphaChannel),a.Hb(8),a.zc("ngIf","disabled"!==i.cpAlphaChannel)}}function y(e,t){if(1&e){var n=a.dc();a.cc(0,"div",33),a.cc(1,"div",25),a.cc(2,"input",34),a.oc("blur",(function(){return a.Qc(n),a.sc().onHexInput(null)}))("keyup.enter",(function(e){return a.Qc(n),a.sc().onAcceptColor(e)}))("newValue",(function(e){return a.Qc(n),a.sc().onHexInput(e)})),a.bc(),a.bc(),a.cc(3,"div",25),a.cc(4,"div"),a.ad(5,"Hex"),a.bc(),a.bc(),a.bc()}if(2&e){var i=a.sc();a.Xc("display",0!==i.format?"none":"block"),a.Hb(2),a.zc("value",i.hexText)}}function b(e,t){if(1&e){var n=a.dc();a.cc(0,"div",35),a.oc("click",(function(){return a.Qc(n),a.sc().onFormatToggle()})),a.bc()}}function w(e,t){if(1&e){var n=a.dc();a.cc(0,"span",42),a.oc("click",(function(e){a.Qc(n);var t=a.sc().$implicit;return a.sc(3).onRemovePresetColor(e,t)})),a.bc()}if(2&e){var i=a.sc(4);a.Jb(i.cpRemoveColorButtonClass)}}function k(e,t){if(1&e){var n=a.dc();a.cc(0,"div",40),a.oc("click",(function(){a.Qc(n);var e=t.$implicit;return a.sc(3).setColorFromString(e)})),a.Yc(1,w,1,3,"span",41),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(3);a.Xc("background-color",i),a.Hb(1),a.zc("ngIf",r.cpAddColorButton)}}function C(e,t){if(1&e&&(a.cc(0,"div"),a.Yc(1,k,2,3,"div",39),a.bc()),2&e){var n=a.sc(2);a.Hb(1),a.zc("ngForOf",n.cpPresetColors)}}function D(e,t){if(1&e&&(a.cc(0,"div"),a.ad(1),a.bc()),2&e){var n=a.sc(2);a.Jb(n.cpPresetEmptyMessageClass),a.Hb(1),a.bd(n.cpPresetEmptyMessage)}}function x(e,t){if(1&e&&(a.cc(0,"div",36),a.Xb(1,"hr"),a.cc(2,"div",37),a.ad(3),a.bc(),a.Yc(4,C,2,1,"div",29),a.Yc(5,D,2,4,"div",38),a.bc()),2&e){var n=a.sc();a.Hb(3),a.bd(n.cpPresetLabel),a.Hb(1),a.zc("ngIf",null==n.cpPresetColors?null:n.cpPresetColors.length),a.Hb(1),a.zc("ngIf",!(null!=n.cpPresetColors&&n.cpPresetColors.length)&&n.cpAddColorButton)}}function E(e,t){if(1&e){var n=a.dc();a.cc(0,"button",45),a.oc("click",(function(e){return a.Qc(n),a.sc(2).onCancelColor(e)})),a.ad(1),a.bc()}if(2&e){var i=a.sc(2);a.Jb(i.cpCancelButtonClass),a.Hb(1),a.bd(i.cpCancelButtonText)}}function A(e,t){if(1&e){var n=a.dc();a.cc(0,"button",45),a.oc("click",(function(e){return a.Qc(n),a.sc(2).onAcceptColor(e)})),a.ad(1),a.bc()}if(2&e){var i=a.sc(2);a.Jb(i.cpOKButtonClass),a.Hb(1),a.bd(i.cpOKButtonText)}}function T(e,t){if(1&e&&(a.cc(0,"div",43),a.Yc(1,E,2,4,"button",44),a.Yc(2,A,2,4,"button",44),a.bc()),2&e){var n=a.sc();a.Hb(1),a.zc("ngIf",n.cpCancelButton),a.Hb(1),a.zc("ngIf",n.cpOKButton)}}var S=function(e,t,n,i){this.c=e,this.m=t,this.y=n,this.k=i},O=function(e,t,n,i){this.h=e,this.s=t,this.l=n,this.a=i},z=function(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i},M=function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i},R=function(){function e(){this.newValue=new a.o}return e.prototype.inputChange=function(e){var t=e.target.value;if(void 0===this.rg)this.newValue.emit(t);else{var n=parseFloat(t);!isNaN(n)&&n>=0&&n<=this.rg&&this.newValue.emit({v:n,rg:this.rg})}},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Rb({type:e,selectors:[["","text",""]],hostBindings:function(e,t){1&e&&a.oc("input",(function(e){return t.inputChange(e)}))},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),e}(),H=function(){function e(e){var t=this;this.elRef=e,this.dragEnd=new a.o,this.dragStart=new a.o,this.newValue=new a.o,this.listenerMove=function(e){return t.move(e)},this.listenerStop=function(){return t.stop()}}return e.prototype.mouseDown=function(e){this.start(e)},e.prototype.touchStart=function(e){this.start(e)},e.prototype.move=function(e){e.preventDefault(),this.setCursor(e)},e.prototype.start=function(e){this.setCursor(e),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},e.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},e.prototype.getX=function(e){var t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-t.left-window.pageXOffset},e.prototype.getY=function(e){var t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-t.top-window.pageYOffset},e.prototype.setCursor=function(e){var t=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,i=Math.max(0,Math.min(this.getX(e),t)),a=Math.max(0,Math.min(this.getY(e),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:i/t,v:1-a/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:a/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:i/t,rgX:this.rgX})},e.\u0275fac=function(t){return new(t||e)(a.Wb(a.l))},e.\u0275dir=a.Rb({type:e,selectors:[["","slider",""]],hostBindings:function(e,t){1&e&&a.oc("mousedown",(function(e){return t.mouseDown(e)}))("touchstart",(function(e){return t.touchStart(e)}))},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),e}(),I=function(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i},B=function(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i},W=function(){function e(){this.active=null}return e.prototype.setActive=function(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e},e.prototype.hsva2hsla=function(e){var t=e.h,n=e.s,i=e.v,a=e.a;if(0===i)return new O(t,0,0,a);if(0===n&&1===i)return new O(t,1,1,a);var r=i*(2-n)/2;return new O(t,i*n/(1-Math.abs(2*r-1)),r,a)},e.prototype.hsla2hsva=function(e){var t=Math.min(e.h,1),n=Math.min(e.s,1),i=Math.min(e.l,1),a=Math.min(e.a,1);if(0===i)return new z(t,0,0,a);var r=i+n*(1-Math.abs(2*i-1))/2;return new z(t,2*(r-i)/r,r,a)},e.prototype.hsvaToRgba=function(e){var t,n,i,a=e.h,r=e.s,o=e.v,c=e.a,l=Math.floor(6*a),s=6*a-l,d=o*(1-r),u=o*(1-s*r),p=o*(1-(1-s)*r);switch(l%6){case 0:t=o,n=p,i=d;break;case 1:t=u,n=o,i=d;break;case 2:t=d,n=o,i=p;break;case 3:t=d,n=u,i=o;break;case 4:t=p,n=d,i=o;break;case 5:t=o,n=d,i=u;break;default:t=0,n=0,i=0}return new M(t,n,i,c)},e.prototype.rgbaToCmyk=function(e){var t=1-Math.max(e.r,e.g,e.b);return 1===t?new S(0,0,0,1):new S((1-e.r-t)/(1-t),(1-e.g-t)/(1-t),(1-e.b-t)/(1-t),t)},e.prototype.rgbaToHsva=function(e){var t,n,i=Math.min(e.r,1),a=Math.min(e.g,1),r=Math.min(e.b,1),o=Math.min(e.a,1),c=Math.max(i,a,r),l=Math.min(i,a,r),s=c,d=c-l;if(n=0===c?0:d/c,c===l)t=0;else{switch(c){case i:t=(a-r)/d+(a<r?6:0);break;case a:t=(r-i)/d+2;break;case r:t=(i-a)/d+4;break;default:t=0}t/=6}return new z(t,n,s,o)},e.prototype.rgbaToHex=function(e,t){var n="#"+(1<<24|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return t&&(n+=(256|Math.round(255*e.a)).toString(16).substr(1)),n},e.prototype.denormalizeRGBA=function(e){return new M(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)},e.prototype.stringToHsva=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!1);var n=null;e=(e||"").toLowerCase();var i=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new M(parseInt(e[2],10)/255,parseInt(e[3],10)/255,parseInt(e[4],10)/255,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new O(parseInt(e[2],10)/360,parseInt(e[3],10)/100,parseInt(e[4],10)/100,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}}];for(var a in i.push(t?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(e){return new M(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,parseInt(e[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(e){return new M(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,1)}}),i.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(e){return new M(parseInt(e[1]+e[1],16)/255,parseInt(e[2]+e[2],16)/255,parseInt(e[3]+e[3],16)/255,1)}}),i)if(i.hasOwnProperty(a)){var r=i[a],o=r.re.exec(e),c=o&&r.parse(o);if(c)return c instanceof M?n=this.rgbaToHsva(c):c instanceof O&&(n=this.hsla2hsva(c)),n}return n},e.prototype.outputFormat=function(e,t,n){switch(t){case"hsla":var i=this.hsva2hsla(e),a=new O(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100);return e.a<1||"always"===n?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":var r=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===n?"rgba("+r.r+","+r.g+","+r.b+","+Math.round(100*r.a)/100+")":"rgb("+r.r+","+r.g+","+r.b+")";default:var o="always"===n||"hex8"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),o)}},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Sb({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),P=function(){function e(e,t,n){this.elRef=e,this.cdRef=t,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.useRootViewContainer=!1}return e.prototype.handleEsc=function(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)},e.prototype.handleEnter=function(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)},e.prototype.ngOnInit=function(){var e=this;this.slider=new I(0,0,0,0),this.sliderDimMax=new B(this.hueSlider.nativeElement.offsetWidth,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth),this.format="rgba"===this.cpOutputFormat?1:"hsla"===this.cpOutputFormat?2:0,this.listenerMouseDown=function(t){e.onMouseDown(t)},this.listenerResize=function(){e.onResize()},this.openDialog(this.initialColor,!1)},e.prototype.ngOnDestroy=function(){this.closeDialog()},e.prototype.ngAfterViewInit=function(){230!==this.cpWidth&&(this.sliderDimMax=new B(this.hueSlider.nativeElement.offsetWidth,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth),this.updateColorPicker(!1),this.cdRef.detectChanges())},e.prototype.openDialog=function(e,t){void 0===t&&(t=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,t),this.openColorPicker()},e.prototype.closeDialog=function(){this.closeColorPicker()},e.prototype.setupDialog=function(e,t,n,i,a,r,o,c,l,s,d,u,p,h,v,f,g,m,y,b,w,k,C,D,x,E,A,T,S,O,z){this.setInitialColor(n),this.isIE10=10===function(){var e="";"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase());var t=e.indexOf("msie ");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=t,this.cpDisableInput=s,this.cpAlphaChannel=c,this.cpOutputFormat=l,this.cpDialogDisplay=r,this.cpIgnoredElements=d,this.cpSaveClickOutside=u,this.useRootViewContainer=p,this.width=this.cpWidth=parseInt(i,10),this.height=this.cpHeight=parseInt(a,10),this.cpPosition=h,this.cpPositionOffset=parseInt(v,10),this.cpOKButton=k,this.cpOKButtonText=D,this.cpOKButtonClass=C,this.cpCancelButton=x,this.cpCancelButtonText=A,this.cpCancelButtonClass=E,this.fallbackColor=o||"#fff",this.setPresetConfig(g,m),this.cpMaxPresetColorsLength=y,this.cpPresetEmptyMessage=b,this.cpPresetEmptyMessageClass=w,this.cpAddColorButton=T,this.cpAddColorButtonText=O,this.cpAddColorButtonClass=S,this.cpRemoveColorButtonClass=z,f||(this.dialogArrowOffset=0),"inline"===r&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===l&&"always"!==c&&"hex8"!==c&&(this.cpAlphaChannel="disabled")},e.prototype.setInitialColor=function(e){this.initialColor=e},e.prototype.setPresetConfig=function(e,t){this.cpPresetLabel=e,this.cpPresetColors=t},e.prototype.setColorFromString=function(e,t,n){var i;void 0===t&&(t=!0),void 0===n&&(n=!0),("always"===this.cpAlphaChannel||"hex8"===this.cpAlphaChannel)&&((i=this.service.stringToHsva(e,!0))||this.hsva)||(i=this.service.stringToHsva(e,!1)),i||this.hsva||(i=this.service.stringToHsva(this.fallbackColor,!1)),i&&(this.hsva=i,this.sliderH=this.hsva.h,this.updateColorPicker(t,n))},e.prototype.onResize=function(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()},e.prototype.onDragEnd=function(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})},e.prototype.onDragStart=function(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})},e.prototype.onMouseDown=function(e){this.isIE10||"popup"!==this.cpDialogDisplay||e.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,e.target)||this.isDescendant(this.directiveElementRef.nativeElement,e.target)||0!==this.cpIgnoredElements.filter((function(t){return t===e.target})).length||(this.cpSaveClickOutside||(this.setColorFromString(this.initialColor,!1),this.directiveInstance.colorChanged(this.initialColor)),this.closeColorPicker())},e.prototype.onAcceptColor=function(e){e.stopPropagation(),"popup"===this.cpDialogDisplay&&this.closeColorPicker(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor)},e.prototype.onCancelColor=function(e){e.stopPropagation(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},e.prototype.onFormatToggle=function(){this.format=(this.format+1)%3},e.prototype.onColorChange=function(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},e.prototype.onHueChange=function(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},e.prototype.onAlphaChange=function(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},e.prototype.onHexInput=function(e){null===e?this.updateColorPicker():(e&&"#"!==e[0]&&(e="#"+e),this.setColorFromString(e,!0,!1),this.directiveInstance.inputChanged({input:"hex",value:e,color:this.outputColor}))},e.prototype.onRedInput=function(e){var t=this.service.hsvaToRgba(this.hsva);t.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"red",value:t.r,color:this.outputColor})},e.prototype.onBlueInput=function(e){var t=this.service.hsvaToRgba(this.hsva);t.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"blue",value:t.b,color:this.outputColor})},e.prototype.onGreenInput=function(e){var t=this.service.hsvaToRgba(this.hsva);t.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"green",value:t.g,color:this.outputColor})},e.prototype.onAlphaInput=function(e){this.hsva.a=e.v/e.rg,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"alpha",value:this.hsva.a,color:this.outputColor})},e.prototype.onHueInput=function(e){this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"hue",value:this.hsva.h,color:this.outputColor})},e.prototype.onLightnessInput=function(e){var t=this.service.hsva2hsla(this.hsva);t.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"lightness",value:t.l,color:this.outputColor})},e.prototype.onSaturationInput=function(e){var t=this.service.hsva2hsla(this.hsva);t.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.inputChanged({input:"saturation",value:t.s,color:this.outputColor})},e.prototype.onAddPresetColor=function(e,t){e.stopPropagation(),this.cpPresetColors.filter((function(e){return e===t})).length||(this.cpPresetColors=this.cpPresetColors.concat(t),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},e.prototype.onRemovePresetColor=function(e,t){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter((function(e){return e!==t})),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},e.prototype.openColorPicker=function(){var e=this;this.show||(this.show=!0,this.hidden=!0,setTimeout((function(){e.hidden=!1,e.setDialogPosition(),e.cdRef.detectChanges()}),0),this.directiveInstance.stateChanged(!0),this.isIE10||document.addEventListener("mousedown",this.listenerMouseDown),window.addEventListener("resize",this.listenerResize))},e.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||document.removeEventListener("mousedown",this.listenerMouseDown),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},e.prototype.updateColorPicker=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),this.sliderDimMax){var n=this.outputColor,i=this.service.hsva2hsla(this.hsva),a=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),r=this.service.denormalizeRGBA(this.service.hsvaToRgba(new z(this.sliderH||this.hsva.h,1,1,1)));t&&(this.hslaText=new O(Math.round(360*i.h),Math.round(100*i.s),Math.round(100*i.l),Math.round(100*i.a)/100),this.rgbaText=new M(a.r,a.g,a.b,Math.round(100*a.a)/100),this.hexText=this.service.rgbaToHex(a,"always"===this.cpAlphaChannel||"hex8"===this.cpAlphaChannel)),this.hueSliderColor="rgb("+r.r+","+r.g+","+r.b+")",this.alphaSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.slider=new I((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&n!==this.outputColor&&this.directiveInstance.colorChanged(this.outputColor)}},e.prototype.setDialogPosition=function(){if("inline"===this.cpDialogDisplay)this.position="relative";else{for(var e="static",t="",n=void 0,i=null,a=null,r=this.directiveElementRef.nativeElement.parentNode,o=this.dialogElement.nativeElement.offsetHeight;null!==r&&"HTML"!==r.tagName;){if("static"!==(e=(n=window.getComputedStyle(r)).getPropertyValue("position"))&&null===i&&(i=r),(t=n.getPropertyValue("transform"))&&"none"!==t&&null===a&&(a=r),"fixed"===e){i=a;break}r=r.parentNode}var c=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&!i)this.top=c.top,this.left=c.left;else{null===i&&(i=r);var l=this.createDialogBox(i,"fixed"!==e);this.top=c.top-l.top,this.left=c.left-l.left}"fixed"===e&&(this.position="fixed"),"left"===this.cpPosition?(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):"top"===this.cpPosition?(this.arrowTop=o-1,this.top-=o+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):"bottom"===this.cpPosition?(this.top+=c.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=c.width+this.dialogArrowSize-2)}},e.prototype.isDescendant=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},e.prototype.createDialogBox=function(e,t){return{top:e.getBoundingClientRect().top+(t?window.pageYOffset:0),left:e.getBoundingClientRect().left+(t?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}},e.\u0275fac=function(t){return new(t||e)(a.Wb(a.l),a.Wb(a.h),a.Wb(W))},e.\u0275cmp=a.Qb({type:e,selectors:[["color-picker"]],viewQuery:function(e,t){var n;1&e&&(a.fd(o,!0),a.fd(c,!0),a.fd(l,!0)),2&e&&(a.Lc(n=a.pc())&&(t.hueSlider=n.first),a.Lc(n=a.pc())&&(t.alphaSlider=n.first),a.Lc(n=a.pc())&&(t.dialogElement=n.first))},hostBindings:function(e,t){1&e&&a.oc("keyup.esc",(function(e){return t.handleEsc(e)}),!1,a.Oc)("keyup.enter",(function(e){return t.handleEnter(e)}),!1,a.Oc)},decls:24,vars:41,consts:[[1,"color-picker"],["dialogPopup",""],[3,"class","top",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],[1,"cursor"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"display",4,"ngIf"],["class","type-policy",3,"click",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],[3,"disabled","click"],[2,"height","16px"],[1,"hsla-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"type-policy",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"]],template:function(e,t){1&e&&(a.cc(0,"div",0,1),a.Yc(2,s,1,5,"div",2),a.cc(3,"div",3),a.oc("newValue",(function(e){return t.onColorChange(e)}))("dragStart",(function(){return t.onDragStart("saturation-lightness")}))("dragEnd",(function(){return t.onDragEnd("saturation-lightness")})),a.Xb(4,"div",4),a.bc(),a.cc(5,"div",5),a.cc(6,"div",6),a.Xb(7,"div",7),a.Xb(8,"div",8),a.Yc(9,d,2,5,"button",9),a.bc(),a.cc(10,"div",10),a.Yc(11,u,1,0,"div",11),a.cc(12,"div",12,13),a.oc("newValue",(function(e){return t.onHueChange(e)}))("dragStart",(function(){return t.onDragStart("hue")}))("dragEnd",(function(){return t.onDragEnd("hue")})),a.Xb(14,"div",4),a.bc(),a.cc(15,"div",14,15),a.oc("newValue",(function(e){return t.onAlphaChange(e)}))("dragStart",(function(){return t.onDragStart("alpha")}))("dragEnd",(function(){return t.onDragEnd("alpha")})),a.Xb(17,"div",4),a.bc(),a.bc(),a.bc(),a.Yc(18,v,14,10,"div",16),a.Yc(19,m,14,10,"div",17),a.Yc(20,y,6,3,"div",18),a.Yc(21,b,1,0,"div",19),a.Yc(22,x,6,3,"div",20),a.Yc(23,T,3,2,"div",21),a.bc()),2&e&&(a.Xc("visibility",t.hidden||!t.show?"hidden":"visible")("top",t.top,"px")("left",t.left,"px")("position",t.position)("height",t.cpHeight,"px")("width",t.cpWidth,"px"),a.Hb(2),a.zc("ngIf","popup"==t.cpDialogDisplay),a.Hb(1),a.Xc("background-color",t.hueSliderColor),a.zc("rgX",1)("rgY",1),a.Hb(1),a.Xc("top",t.slider.v,"px")("left",t.slider.s,"px"),a.Hb(4),a.Xc("background-color",t.selectedColor),a.Hb(1),a.zc("ngIf",t.cpAddColorButton),a.Hb(2),a.zc("ngIf","disabled"===t.cpAlphaChannel),a.Hb(1),a.zc("rgX",1),a.Hb(2),a.Xc("left",t.slider.h,"px"),a.Hb(1),a.Xc("display","disabled"===t.cpAlphaChannel?"none":"block")("background-color",t.alphaSliderColor),a.zc("rgX",1),a.Hb(2),a.Xc("left",t.slider.a,"px"),a.Hb(1),a.zc("ngIf",!t.cpDisableInput),a.Hb(1),a.zc("ngIf",!t.cpDisableInput),a.Hb(1),a.zc("ngIf",!t.cpDisableInput),a.Hb(1),a.zc("ngIf",!t.cpDisableInput),a.Hb(1),a.zc("ngIf",(null==t.cpPresetColors?null:t.cpPresetColors.length)||t.cpAddColorButton),a.Hb(1),a.zc("ngIf",t.cpOKButton||t.cpCancelButton))},directives:[r.u,H,R,r.t],styles:['.color-picker {\n  position: absolute;\n  z-index: 100000;\n  width: 230px;\n  height: auto;\n  border: #777 solid 1px;\n  cursor: default;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-color: #fff; }\n  .color-picker * {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    margin: 0;\n    font-size: 11px; }\n  .color-picker input {\n    height: 26px;\n    min-width: 0;\n    font-size: 13px;\n    text-align: center;\n    color: #000; }\n    .color-picker input:invalid {\n      box-shadow: none; }\n    .color-picker input:-moz-ui-invalid {\n      box-shadow: none; }\n    .color-picker input:-moz-submit-invalid {\n      box-shadow: none; }\n    .color-picker input::-webkit-inner-spin-button, .color-picker input::-webkit-outer-spin-button {\n      margin: 0;\n      -webkit-appearance: none; }\n  .color-picker .arrow {\n    position: absolute;\n    z-index: 999999;\n    width: 0;\n    height: 0;\n    border-style: solid; }\n    .color-picker .arrow.arrow-top {\n      left: 8px;\n      border-width: 10px 5px;\n      border-color: #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); }\n    .color-picker .arrow.arrow-left {\n      top: 8px;\n      left: 100%;\n      border-width: 5px 10px;\n      border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777; }\n    .color-picker .arrow.arrow-right {\n      top: 8px;\n      left: -20px;\n      border-width: 5px 10px;\n      border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); }\n    .color-picker .arrow.arrow-bottom {\n      top: -20px;\n      left: 8px;\n      border-width: 10px 5px;\n      border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0); }\n  .color-picker .cursor {\n    position: relative;\n    width: 16px;\n    height: 16px;\n    border: #222 solid 2px;\n    border-radius: 50%;\n    cursor: default; }\n  .color-picker .box {\n    display: flex;\n    padding: 4px 8px; }\n    .color-picker .box .left {\n      position: relative;\n      padding: 16px 8px; }\n    .color-picker .box .right {\n      -webkit-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n      flex: 1 1 auto;\n      padding: 12px 8px; }\n  .color-picker .button-area {\n    padding: 0 16px 16px;\n    text-align: right; }\n  .color-picker .preset-area {\n    padding: 4px 15px; }\n    .color-picker .preset-area .preset-label {\n      overflow: hidden;\n      width: 100%;\n      padding: 4px;\n      font-size: 11px;\n      white-space: nowrap;\n      text-align: left;\n      text-overflow: ellipsis;\n      color: #555; }\n    .color-picker .preset-area .preset-color {\n      position: relative;\n      display: inline-block;\n      width: 18px;\n      height: 18px;\n      margin: 4px 6px 8px;\n      border: #a9a9a9 solid 1px;\n      border-radius: 25%;\n      cursor: pointer; }\n    .color-picker .preset-area .preset-empty-message {\n      min-height: 18px;\n      margin-top: 4px;\n      margin-bottom: 8px;\n      font-style: italic;\n      text-align: center; }\n  .color-picker .hex-text {\n    width: 100%;\n    padding: 4px 8px;\n    font-size: 11px; }\n    .color-picker .hex-text .box {\n      padding: 0 24px 8px 8px; }\n      .color-picker .hex-text .box div {\n        float: left;\n        -webkit-flex: 1 1 auto;\n        -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n        text-align: center;\n        color: #555;\n        clear: left; }\n      .color-picker .hex-text .box input {\n        -webkit-flex: 1 1 auto;\n        -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n        padding: 1px;\n        border: #a9a9a9 solid 1px; }\n  .color-picker .hsla-text,\n  .color-picker .rgba-text {\n    width: 100%;\n    padding: 4px 8px;\n    font-size: 11px; }\n    .color-picker .hsla-text .box,\n    .color-picker .rgba-text .box {\n      padding: 0 24px 8px 8px; }\n      .color-picker .hsla-text .box div,\n      .color-picker .rgba-text .box div {\n        -webkit-flex: 1 1 auto;\n        -ms-flex: 1 1 auto;\n        flex: 1 1 auto;\n        margin-right: 8px;\n        text-align: center;\n        color: #555; }\n        .color-picker .hsla-text .box div:last-child,\n        .color-picker .rgba-text .box div:last-child {\n          margin-right: 0; }\n      .color-picker .hsla-text .box input,\n      .color-picker .rgba-text .box input {\n        float: left;\n        -webkit-flex: 1;\n        -ms-flex: 1;\n        flex: 1;\n        min-width: 0;\n        padding: 1px;\n        margin: 0 8px 0 0;\n        border: #a9a9a9 solid 1px; }\n        .color-picker .hsla-text .box input:last-child,\n        .color-picker .rgba-text .box input:last-child {\n          margin-right: 0; }\n  .color-picker .hue-alpha {\n    margin-bottom: 3px; }\n  .color-picker .hue {\n    direction: ltr;\n    width: 100%;\n    height: 16px;\n    margin-bottom: 16px;\n    border: none;\n    cursor: pointer;\n    background-size: 100% 100%;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC"); }\n  .color-picker .alpha {\n    direction: ltr;\n    width: 100%;\n    height: 16px;\n    border: none;\n    cursor: pointer;\n    background-size: 100% 100%;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg=="); }\n  .color-picker .type-policy {\n    position: absolute;\n    top: 218px;\n    right: 12px;\n    width: 16px;\n    height: 24px;\n    background-size: 8px 16px;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center; }\n  .color-picker .selected-color {\n    position: absolute;\n    top: 16px;\n    left: 8px;\n    width: 40px;\n    height: 40px;\n    border: 1px solid #a9a9a9;\n    border-radius: 50%; }\n  .color-picker .selected-color-background {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC"); }\n  .color-picker .saturation-lightness {\n    direction: ltr;\n    width: 100%;\n    height: 130px;\n    border: none;\n    cursor: pointer;\n    background-size: 100% 100%;\n    background-image: url("data:image/png;base64,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"); }\n  .color-picker .cp-add-color-button-class {\n    position: absolute;\n    display: inline;\n    padding: 0;\n    margin: 3px -3px;\n    border: 0;\n    cursor: pointer;\n    background: transparent; }\n    .color-picker .cp-add-color-button-class:hover {\n      text-decoration: underline; }\n    .color-picker .cp-add-color-button-class:disabled {\n      cursor: not-allowed;\n      color: #999; }\n      .color-picker .cp-add-color-button-class:disabled:hover {\n        text-decoration: none; }\n  .color-picker .cp-remove-color-button-class {\n    position: absolute;\n    top: -5px;\n    right: -5px;\n    display: block;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    cursor: pointer;\n    text-align: center;\n    background: #fff;\n    box-shadow: 1px 1px 5px #333; }\n    .color-picker .cp-remove-color-button-class::before {\n      content: \'x\';\n      position: relative;\n      bottom: 3.5px;\n      display: inline-block;\n      font-size: 10px; }\n\n/*# sourceMappingURL=color-picker.component.css.map */'],encapsulation:2}),e}(),Y=function(){function e(e,t,n,i,r,o){this.injector=e,this.cfr=t,this.appRef=n,this.vcRef=i,this.elRef=r,this._service=o,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpDisableInput=!1,this.cpAlphaChannel="enabled",this.cpOutputFormat="hex",this.cpFallbackColor="#fff",this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="right",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new a.o(!0),this.cpToggleChange=new a.o(!0),this.cpSliderChange=new a.o(!0),this.cpSliderDragEnd=new a.o(!0),this.cpSliderDragStart=new a.o(!0),this.colorPickerOpen=new a.o(!0),this.colorPickerClose=new a.o(!0),this.colorPickerCancel=new a.o(!0),this.colorPickerSelect=new a.o(!0),this.colorPickerChange=new a.o(!1),this.cpPresetColorsChange=new a.o(!0)}return e.prototype.handleClick=function(e){this.inputFocus(e)},e.prototype.handleFocus=function(e){this.inputFocus(e)},e.prototype.handleInput=function(e){this.inputChange(e)},e.prototype.ngOnDestroy=function(){void 0!==this.cmpRef&&this.cmpRef.destroy()},e.prototype.ngOnChanges=function(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1)),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},e.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var e=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){var t=this.injector.get(this.appRef.componentTypes[0]);(e=t.vcRef||t.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var n=this.cfr.resolveComponentFactory(P),i=a.H.fromResolvedProviders([],e.parentInjector);this.cmpRef=e.createComponent(n,0,i,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}},e.prototype.closeDialog=function(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()},e.prototype.stateChanged=function(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},e.prototype.colorChanged=function(e,t){void 0===t&&(t=!0),this.ignoreChanges=t,this.colorPickerChange.emit(e)},e.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},e.prototype.colorSelected=function(e){this.colorPickerSelect.emit(e)},e.prototype.inputFocus=function(e){var t=this.elRef.nativeElement,n=this.cpIgnoredElements.filter((function(e){return e===t}));this.cpDisabled||n.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())},e.prototype.inputChange=function(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))},e.prototype.inputChanged=function(e){this.cpInputChange.emit(e)},e.prototype.sliderChanged=function(e){this.cpSliderChange.emit(e)},e.prototype.sliderDragEnd=function(e){this.cpSliderDragEnd.emit(e)},e.prototype.sliderDragStart=function(e){this.cpSliderDragStart.emit(e)},e.prototype.presetColorsChanged=function(e){this.cpPresetColorsChange.emit(e)},e.\u0275fac=function(t){return new(t||e)(a.Wb(a.t),a.Wb(a.j),a.Wb(a.g),a.Wb(a.S),a.Wb(a.l),a.Wb(W))},e.\u0275dir=a.Rb({type:e,selectors:[["","colorPicker",""]],hostBindings:function(e,t){1&e&&a.oc("click",(function(e){return t.handleClick(e)}))("focus",(function(e){return t.handleFocus(e)}))("input",(function(e){return t.handleInput(e)}))},inputs:{cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpDisableInput:"cpDisableInput",cpAlphaChannel:"cpAlphaChannel",cpOutputFormat:"cpOutputFormat",cpFallbackColor:"cpFallbackColor",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpPresetLabel:"cpPresetLabel",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",colorPicker:"colorPicker",cpPresetColors:"cpPresetColors"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[a.Fb()]}),e}(),F=function(){function e(){}return e.\u0275mod=a.Ub({type:e}),e.\u0275inj=a.Tb({factory:function(t){return new(t||e)},providers:[W],imports:[[r.c]]}),e}(),j=n("mrSG"),V=/\s+/,L=new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var a=this.offsetParent(e);n=this.offset(e,!1),a!==document.documentElement&&(i=this.offset(a,!1)),i.top+=a.clientTop,i.left+=a.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,a=window.pageXOffset-document.documentElement.clientLeft,r={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+a,right:n.right+a};return t&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},e.prototype.positionElements=function(e,t,n,i){var a=n.split("-"),r=a[0],o=void 0===r?"top":r,c=a[1],l=void 0===c?"center":c,s=i?this.offset(e,!1):this.position(e,!1),d=this.getAllStyles(t),u=parseFloat(d.marginTop),p=parseFloat(d.marginBottom),h=parseFloat(d.marginLeft),v=parseFloat(d.marginRight),f=0,g=0;switch(o){case"top":f=s.top-(t.offsetHeight+u+p);break;case"bottom":f=s.top+s.height;break;case"left":g=s.left-(t.offsetWidth+h+v);break;case"right":g=s.left+s.width}switch(l){case"top":f=s.top;break;case"bottom":f=s.top+s.height-t.offsetHeight;break;case"left":g=s.left;break;case"right":g=s.left+s.width-t.offsetWidth;break;case"center":"top"===o||"bottom"===o?g=s.left+s.width/2-t.offsetWidth/2:f=s.top+s.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(g)+"px, "+Math.round(f)+"px)";var m=t.getBoundingClientRect(),y=document.documentElement,b=window.innerHeight||y.clientHeight,w=window.innerWidth||y.clientWidth;return m.left>=0&&m.top>=0&&m.right<=w&&m.bottom<=b},e}()),X=n("XNiG"),q=n("LRne"),K=n("PqYM"),N=n("HDdC"),Q=n("2Vo4"),G=n("D0XW"),U=n("Y7HM");function Z(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var J=n("1G5W"),_=n("eIep"),$=n("JX91"),ee=n("lJxs"),te=function(){return(te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ne=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}({}),ie=[ne.SUNDAY,ne.SATURDAY];function ae(e,t){var n=t.startDate,i=t.excluded,a=t.precision;if(i.length<1)return 0;for(var r=e.getDay,o=e.addDays,c=(0,e.addSeconds)(n,t.seconds-1),l=r(n),s=r(c),d=0,u=n,p=function(){var t=r(u);i.some((function(e){return e===t}))&&(d+=function(e,t){var n=t.day,i=t.dayEnd,a=t.startDate,r=t.endDate,o=e.differenceInSeconds,c=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return o((0,e.endOfDay)(a),a)+1;if(n===i)return o(r,c(r))+1}return 86400}(e,{dayStart:l,dayEnd:s,day:t,precision:a,startDate:n,endDate:c})),u=o(u,1)};u<c;)p();return d}function re(e,t){var n=t.periodStart,i=t.periodEnd;return t.events.filter((function(t){return function(e,t){var n=t.event,i=t.periodStart,a=t.periodEnd,r=e.isSameSecond,o=n.start,c=n.end||n.start;return o>i&&o<a||c>i&&c<a||o<i&&c>a||!(!r(o,i)&&!r(o,a))||!(!r(c,i)&&!r(c,a))}(e,{event:t,periodStart:n,periodEnd:i})}))}function oe(e,t){var n=t.date,i=t.weekendDays,a=void 0===i?ie:i,r=e.isSameDay,o=e.getDay,c=(0,e.startOfDay)(new Date),l=o(n);return{date:n,day:l,isPast:n<c,isToday:r(n,c),isFuture:n>c,isWeekend:a.indexOf(l)>-1}}function ce(e,t){for(var n=t.excluded,i=void 0===n?[]:n,a=t.weekendDays,r=t.viewStart,o=void 0===r?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):r,c=t.viewEnd,l=void 0===c?e.addDays(o,7):c,s=e.addDays,d=e.getDay,u=[],p=o;p<l;)i.some((function(e){return d(p)===e}))||u.push(oe(e,{date:p,weekendDays:a})),p=s(p,1);return u}function le(e,t){var n=t.excluded,i=t.precision,a=t.absolutePositionedEvents,r=t.viewStart,o=t.viewEnd,c=t.eventsInPeriod,l=e.differenceInSeconds,s=e.differenceInDays,d=function(e,t){for(var n=t.date2,i=t.excluded,a=t.date1,r=0;a<n;)-1===i.indexOf(e.getDay(a))&&r++,a=e.addDays(a,1);return r}(e,{date1:r,date2:o,excluded:n}),u=s(o,r)+1,p=c.filter((function(e){return e.allDay})).map((function(t){var a=function(e,t){var n=t.event,i=t.startOfWeek,a=t.excluded,r=t.precision,o=e.differenceInDays,c=e.startOfDay,l=e.differenceInSeconds;if(n.start<i)return 0;var s=0;switch(r){case"days":s=86400*o(c(n.start),i);break;case"minutes":s=l(n.start,i)}return s-=ae(e,{startDate:i,seconds:s,excluded:a,precision:r}),Math.abs(s/86400)}(e,{event:t,startOfWeek:r,excluded:n,precision:i});return{event:t,offset:a,span:function(e,t){var n=t.event,i=t.offset,a=t.excluded,r=t.precision,o=t.totalDaysInView,c=e.differenceInSeconds,l=e.addDays,s=e.endOfDay,d=e.differenceInDays,u=86400,p=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(r){case"minutes":u=c(n.end,p);break;default:u=86400*d(l(s(n.end),1),p)}var h=86400*i,v=86400*o;return h+u>v&&(u=v-h),(u-=ae(e,{startDate:p,seconds:u,excluded:a,precision:r}))/86400}(e,{event:t,offset:a,startOfWeekDate:r,excluded:n,precision:i,totalDaysInView:u})}})).filter((function(e){return e.offset<d})).filter((function(e){return e.span>0})).map((function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<r,endsAfterWeek:(e.event.end||e.event.start)>o}})).sort((function(e,t){var n=l(e.event.start,t.event.start);return 0===n?l(t.event.end||t.event.start,e.event.end||e.event.start):n})),h=[],v=[];return p.forEach((function(e,t){if(-1===v.indexOf(e)){v.push(e);var n=e.span+e.offset,i=p.slice(t+1).filter((function(e){if(e.offset>=n&&n+e.span<=u&&-1===v.indexOf(e)){var t=e.offset-n;return a||(e.offset=t),n+=e.span+t,v.push(e),!0}})),r=[e].concat(i),o=r.filter((function(e){return e.event.id})).map((function(e){return e.event.id})).join("-");h.push(te({row:r},o?{id:o}:{}))}})),h}function se(e,t){var n=t.events,i=t.viewDate,a=t.hourSegments,r=t.dayStart,o=t.dayEnd,c=t.weekStartsOn,l=t.excluded,s=t.weekendDays,d=t.segmentHeight,u=t.viewStart,p=t.viewEnd,h=function(e,t){var n=t.viewDate,i=t.hourSegments,a=t.dayStart,r=t.dayEnd,o=e.setMinutes,c=e.setHours,l=e.startOfDay,s=e.startOfMinute,d=e.endOfDay,u=e.addMinutes,p=e.addHours,h=e.addDays,v=[],f=o(c(l(n),ue(a.hour)),pe(a.minute)),g=o(c(s(d(n)),ue(r.hour)),pe(r.minute)),m=60/i,y=l(n),b=d(n),w=function(e){return e};y.getTimezoneOffset()!==b.getTimezoneOffset()&&(y=h(y,1),f=h(f,1),g=h(g,1),w=function(e){return h(e,-1)});for(var k=0;k<24;k++){for(var C=[],D=0;D<i;D++){var x=u(p(y,k),D*m);x>=f&&x<g&&C.push({date:w(x),displayDate:x,isStart:0===D})}C.length>0&&v.push({segments:C})}return v}(e,{viewDate:i,hourSegments:a,dayStart:r,dayEnd:o}),v=ce(e,{viewDate:i,weekStartsOn:c,excluded:l,weekendDays:s,viewStart:u,viewEnd:p}),f=e.setHours,g=e.setMinutes,m=e.getHours,y=e.getMinutes;return v.map((function(t){var i=function(e,t){var n=t.events,i=t.viewDate,a=t.hourSegments,r=t.dayStart,o=t.dayEnd,c=t.eventWidth,l=t.segmentHeight,s=e.setMinutes,d=e.setHours,u=e.startOfDay,p=e.startOfMinute,h=e.endOfDay,v=e.differenceInMinutes,f=s(d(u(i),ue(r.hour)),pe(r.minute)),g=s(d(p(h(i)),ue(o.hour)),pe(o.minute)),m=[],y=re(e,{events:n.filter((function(e){return!e.allDay})),periodStart:f,periodEnd:g}),b=y.sort((function(e,t){return e.start.valueOf()-t.start.valueOf()})).map((function(e){var t=e.start,n=e.end||t,i=t<f,r=n>g,o=a*l/60,s=0;if(t>f){var d=t.getTimezoneOffset(),u=f.getTimezoneOffset()-d;s+=v(t,f)+u}s*=o;var p=v(r?g:n,i?f:t);e.end?p*=o:p=l;for(var h=de(m,s,s+p),y=0;h.some((function(e){return e.left===y}));)y+=c;var b={event:e,height:p,width:c,top:s,left:y,startsBeforeDay:i,endsAfterDay:r};return m.push(b),b})),w=Math.max.apply(Math,b.map((function(e){return e.left+e.width})));return{events:b,width:w,allDayEvents:re(e,{events:n.filter((function(e){return e.allDay})),periodStart:u(f),periodEnd:h(g)}),period:{events:y,start:f,end:g}}}(e,{events:n,viewDate:t.date,hourSegments:a,dayStart:r,dayEnd:o,segmentHeight:d,eventWidth:1}),c=h.map((function(e){var n=e.segments.map((function(e){var n=g(f(t.date,m(e.date)),y(e.date));return te({},e,{date:n})}));return te({},e,{segments:n})})),l=i.events.map((function(e){var t=100/function e(t,n){var i=Math.max.apply(Math,n.map((function(e){return e.left+1}))),a=t.filter((function(e){return e.left>=i})).filter((function(e){return de(n,e.top,e.top+e.height).length>0}));return a.length>0?e(t,a):i}(i.events,de(i.events,e.top,e.top+e.height));return te({},e,{left:e.left*t,width:t})}));return{hours:c,date:t.date,events:l.map((function(e){var t=de(l.filter((function(t){return t.left>e.left})),e.top,e.top+e.height);return t.length>0?te({},e,{width:Math.min.apply(Math,t.map((function(e){return e.left})))-e.left}):e}))}}))}function de(e,t,n){return e.filter((function(e){var i=e.top,a=e.top+e.height;return t<a&&a<n||t<i&&i<n||i<=t&&n<=a}))}function ue(e){return Math.max(Math.min(23,e),0)}function pe(e){return Math.max(Math.min(59,e),0)}var he,ve,fe,ge=function(e){return e.NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",e}({}),me=n("jtHE"),ye=n("VRyK"),be=n("itXk"),we=n("eNwd"),ke=n("rJ3z"),Ce=n.n(ke),De=n("pLZG"),xe=n("5+tZ"),Ee=n("w1tV"),Ae=n("IzEk"),Te=n("BFxc"),Se=n("7o/Q"),Oe=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.source=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ze(e,this.predicate,this.source))}}]),e}(),ze=function(e){function t(e,n,i){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,a.source=i,a.count=0,a.index=0,a}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.predicate?this._tryPredicate(e):this.count++}},{key:"_tryPredicate",value:function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}},{key:"_complete",value:function(){this.destination.next(this.count),this.destination.complete()}}]),t}(Se.a),Me=n("Zy1z"),Re=n("3UWI"),He=n("/uUt"),Ie=((fe=function e(){_classCallCheck(this,e),this.currentDrag=new X.a}).\u0275fac=function(e){return new(e||fe)},fe.\u0275prov=a.Sb({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe.ngInjectableDef=Object(a.W)({factory:function(){return new fe},token:fe,providedIn:"root"}),fe),Be=((ve=function(){function e(t,n,i){_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.zone=i,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30},this.cancelledScroll=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.renderer.listen(e.elementRef.nativeElement,"touchmove",(function(t){e.cancelledScroll&&t.cancelable&&t.preventDefault()}))}))}},{key:"disableScroll",value:function(){this.cancelledScroll=!0,this.renderer.setStyle(this.elementRef.nativeElement,"overflow","hidden")}},{key:"enableScroll",value:function(){this.cancelledScroll=!1,this.renderer.setStyle(this.elementRef.nativeElement,"overflow","auto")}},{key:"hasScrollbar",value:function(){return this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth>0||this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight>0}}]),e}()).\u0275fac=function(e){return new(e||ve)(a.Wb(a.l),a.Wb(a.I),a.Wb(a.C))},ve.\u0275dir=a.Rb({type:ve,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),ve),We=((he=function(){function e(t,n,i,r,o,c,l){_classCallCheck(this,e),this.element=t,this.renderer=n,this.draggableHelper=i,this.zone=r,this.vcr=o,this.scrollContainer=c,this.document=l,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.dragPointerDown=new a.o,this.dragStart=new a.o,this.ghostElementCreated=new a.o,this.dragging=new a.o,this.dragEnd=new a.o,this.pointerDown$=new X.a,this.pointerMove$=new X.a,this.pointerUp$=new X.a,this.eventListenerSubscriptions={},this.destroy$=new X.a,this.timeLongPress={timerBegin:0,timerEnd:0}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.checkEventListeners();var t=this.pointerDown$.pipe(Object(De.a)((function(){return e.canDrag()})),Object(xe.a)((function(t){t.event.stopPropagation&&!e.scrollContainer&&t.event.stopPropagation();var n=e.getScrollPosition(),i=new N.a((function(t){return e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",(function(e){return t.next(e)}))})).pipe(Object($.a)(n),Object(ee.a)((function(){return e.getScrollPosition()}))),a=new X.a,r=new me.a;e.zone.run((function(){e.dragPointerDown.next({x:0,y:0})}));var o=Object(ye.a)(e.pointerUp$,e.pointerDown$,r,e.destroy$).pipe(Object(Ee.a)()),c=Object(be.a)([e.pointerMove$,i]).pipe(Object(ee.a)((function(e){var n=_slicedToArray(e,2),i=n[0],r=n[1];return{currentDrag$:a,transformX:i.clientX-t.clientX,transformY:i.clientY-t.clientY,clientX:i.clientX,clientY:i.clientY,scrollLeft:r.left,scrollTop:r.top}})),Object(ee.a)((function(t){return e.dragSnapGrid.x&&(t.transformX=Math.round(t.transformX/e.dragSnapGrid.x)*e.dragSnapGrid.x),e.dragSnapGrid.y&&(t.transformY=Math.round(t.transformY/e.dragSnapGrid.y)*e.dragSnapGrid.y),t})),Object(ee.a)((function(t){return e.dragAxis.x||(t.transformX=0),e.dragAxis.y||(t.transformY=0),t})),Object(ee.a)((function(e){return Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})})),Object(De.a)((function(t){var n=t.x,i=t.y,a=t.transformX,r=t.transformY;return!e.validateDrag||e.validateDrag({x:n,y:i,transform:{x:a,y:r}})})),Object(J.a)(o),Object(Ee.a)()),l=c.pipe(Object(Ae.a)(1),Object(Ee.a)()),s=c.pipe(Object(Te.a)(1),Object(Ee.a)());return l.subscribe((function(t){var n=t.clientX,i=t.clientY,o=t.x,c=t.y;if(e.zone.run((function(){e.dragStart.next({cancelDrag$:r})})),e.scroller=Ce()([e.scrollContainer?e.scrollContainer.elementRef.nativeElement:e.document.defaultView],{margin:20,autoScroll:function(){return!0}}),e.renderer.addClass(e.element.nativeElement,e.dragActiveClass),e.ghostDragEnabled){var l=e.element.nativeElement.getBoundingClientRect(),d=e.element.nativeElement.cloneNode(!0);if(e.showOriginalElementWhileDragging||e.renderer.setStyle(e.element.nativeElement,"visibility","hidden"),e.ghostElementAppendTo?e.ghostElementAppendTo.appendChild(d):e.element.nativeElement.parentNode.insertBefore(d,e.element.nativeElement.nextSibling),e.ghostElement=d,document.body.style.cursor=e.dragCursor,e.setElementStyles(d,{position:"fixed",top:"".concat(l.top,"px"),left:"".concat(l.left,"px"),width:"".concat(l.width,"px"),height:"".concat(l.height,"px"),cursor:e.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),e.ghostElementTemplate){var u=e.vcr.createEmbeddedView(e.ghostElementTemplate);d.innerHTML="",u.rootNodes.filter((function(e){return e instanceof Node})).forEach((function(e){d.appendChild(e)})),s.subscribe((function(){e.vcr.remove(e.vcr.indexOf(u))}))}e.zone.run((function(){e.ghostElementCreated.emit({clientX:n-o,clientY:i-c,element:d})})),s.subscribe((function(){d.parentElement.removeChild(d),e.ghostElement=null,e.renderer.setStyle(e.element.nativeElement,"visibility","")}))}e.draggableHelper.currentDrag.next(a)})),s.pipe(Object(xe.a)((function(e){var t=r.pipe((function(e){return e.lift(new Oe(void 0,e))}),Object(Ae.a)(1),Object(ee.a)((function(t){return Object.assign({},e,{dragCancelled:t>0})})));return r.complete(),t}))).subscribe((function(t){var n=t.x,i=t.y,r=t.dragCancelled;e.scroller.destroy(),e.zone.run((function(){e.dragEnd.next({x:n,y:i,dragCancelled:r})})),e.renderer.removeClass(e.element.nativeElement,e.dragActiveClass),a.complete()})),new N.a((function(t){return e.renderer.listen("document","selectstart",(function(e){return t.next(e)}))})).pipe(Object(J.a)(Object(ye.a)(o,s))).subscribe((function(e){e.preventDefault()})),c})),Object(Ee.a)());Object(ye.a)(t.pipe(Object(Ae.a)(1),Object(ee.a)((function(e){return[,e]}))),t.pipe(Object(Me.a)())).pipe(Object(De.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return!n||n.x!==i.x||n.y!==i.y})),Object(ee.a)((function(e){var t=_slicedToArray(e,2);return t[0],t[1]})),Object(Re.a)(0,we.a)).subscribe((function(t){var n=t.x,i=t.y,a=t.currentDrag$,r=t.clientX,o=t.clientY,c=t.transformX,l=t.transformY;if(e.zone.run((function(){e.dragging.next({x:n,y:i})})),e.ghostElement){var s="translate3d(".concat(c,"px, ").concat(l,"px, 0px)");e.setElementStyles(e.ghostElement,{transform:s,"-webkit-transform":s,"-ms-transform":s,"-moz-transform":s,"-o-transform":s})}a.next({clientX:r,clientY:o,dropData:e.dropData})}))}},{key:"ngOnChanges",value:function(e){e.dragAxis&&this.checkEventListeners()}},{key:"ngOnDestroy",value:function(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}},{key:"checkEventListeners",value:function(){var e=this,t=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;t&&!n?this.zone.runOutsideAngular((function(){e.eventListenerSubscriptions.mousedown=e.renderer.listen(e.element.nativeElement,"mousedown",(function(t){e.onMouseDown(t)})),e.eventListenerSubscriptions.mouseup=e.renderer.listen("document","mouseup",(function(t){e.onMouseUp(t)})),e.eventListenerSubscriptions.touchstart=e.renderer.listen(e.element.nativeElement,"touchstart",(function(t){e.onTouchStart(t)})),e.eventListenerSubscriptions.touchend=e.renderer.listen("document","touchend",(function(t){e.onTouchEnd(t)})),e.eventListenerSubscriptions.touchcancel=e.renderer.listen("document","touchcancel",(function(t){e.onTouchEnd(t)})),e.eventListenerSubscriptions.mouseenter=e.renderer.listen(e.element.nativeElement,"mouseenter",(function(){e.onMouseEnter()})),e.eventListenerSubscriptions.mouseleave=e.renderer.listen(e.element.nativeElement,"mouseleave",(function(){e.onMouseLeave()}))})):!t&&n&&this.unsubscribeEventListeners()}},{key:"onMouseDown",value:function(e){var t=this;0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",(function(e){t.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})}))),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onMouseUp",value:function(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}},{key:"onTouchStart",value:function(e){var t,n,i,a=this;if(!this.scrollContainer)try{e.preventDefault()}catch(r){}this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&(this.timeLongPress.timerBegin=Date.now(),i=!1,t=this.scrollContainer.hasScrollbar(),n=this.getScrollPosition()),this.eventListenerSubscriptions.touchmove||(this.eventListenerSubscriptions.touchmove=this.renderer.listen("document","touchmove",(function(r){a.scrollContainer&&a.scrollContainer.activeLongPressDrag&&!i&&t&&(i=a.shouldBeginDrag(e,r,n)),a.scrollContainer&&a.scrollContainer.activeLongPressDrag&&t&&!i||a.pointerMove$.next({event:r,clientX:r.targetTouches[0].clientX,clientY:r.targetTouches[0].clientY})}))),this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}},{key:"onTouchEnd",value:function(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.scrollContainer&&this.scrollContainer.activeLongPressDrag&&this.scrollContainer.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}},{key:"onMouseEnter",value:function(){this.setCursor(this.dragCursor)}},{key:"onMouseLeave",value:function(){this.setCursor("")}},{key:"canDrag",value:function(){return this.dragAxis.x||this.dragAxis.y}},{key:"setCursor",value:function(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}},{key:"unsubscribeEventListeners",value:function(){var e=this;Object.keys(this.eventListenerSubscriptions).forEach((function(t){e.eventListenerSubscriptions[t](),delete e.eventListenerSubscriptions[t]}))}},{key:"setElementStyles",value:function(e,t){var n=this;Object.keys(t).forEach((function(i){n.renderer.setStyle(e,i,t[i])}))}},{key:"getScrollPosition",value:function(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}},{key:"shouldBeginDrag",value:function(e,t,n){var i=this.getScrollPosition(),a=Math.abs(i.top-n.top),r=Math.abs(i.left-n.left);return(Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-r+(Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-a)>this.scrollContainer.longPressConfig.delta||a>0||r>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=this.scrollContainer.longPressConfig.duration&&(this.scrollContainer.disableScroll(),!0)}}]),e}()).\u0275fac=function(e){return new(e||he)(a.Wb(a.l),a.Wb(a.I),a.Wb(Ie),a.Wb(a.C),a.Wb(a.S),a.Wb(Be,8),a.Wb(r.e))},he.\u0275dir=a.Rb({type:he,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[a.Fb()]}),he);function Pe(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}var Ye,Fe,je=((Fe=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.element=t,this.draggableHelper=n,this.zone=i,this.renderer=r,this.scrollContainer=o,this.dragEnter=new a.o,this.dragLeave=new a.o,this.dragOver=new a.o,this.drop=new a.o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe((function(t){e.renderer.addClass(e.element.nativeElement,e.dragActiveClass);var n,i,a={updateCache:!0},r=e.renderer.listen(e.scrollContainer?e.scrollContainer.elementRef.nativeElement:"window","scroll",(function(){a.updateCache=!0})),o=t.pipe(Object(ee.a)((function(t){var i=t.clientX,r=t.clientY,o=t.dropData;n=o,a.updateCache&&(a.rect=e.element.nativeElement.getBoundingClientRect(),e.scrollContainer&&(a.scrollContainerRect=e.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),a.updateCache=!1);var c=Pe(i,r,a.rect);return a.scrollContainerRect?c&&Pe(i,r,a.scrollContainerRect):c}))),c=o.pipe(Object(He.a)());c.pipe(Object(De.a)((function(e){return e}))).subscribe((function(){i=!0,e.renderer.addClass(e.element.nativeElement,e.dragOverClass),e.zone.run((function(){e.dragEnter.next({dropData:n})}))})),o.pipe(Object(De.a)((function(e){return e}))).subscribe((function(){e.zone.run((function(){e.dragOver.next({dropData:n})}))})),c.pipe(Object(Me.a)(),Object(De.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n&&!i}))).subscribe((function(){i=!1,e.renderer.removeClass(e.element.nativeElement,e.dragOverClass),e.zone.run((function(){e.dragLeave.next({dropData:n})}))})),t.subscribe({complete:function(){r(),e.renderer.removeClass(e.element.nativeElement,e.dragActiveClass),i&&(e.renderer.removeClass(e.element.nativeElement,e.dragOverClass),e.zone.run((function(){e.drop.next({dropData:n})})))}})}))}},{key:"ngOnDestroy",value:function(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Fe)(a.Wb(a.l),a.Wb(Ie),a.Wb(a.C),a.Wb(a.I),a.Wb(Be,8))},Fe.\u0275dir=a.Rb({type:Fe,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),Fe),Ve=((Ye=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:Ye}),Ye.\u0275inj=a.Tb({factory:function(e){return new(e||Ye)}}),Ye),Le=n("EY2u"),Xe=n("vkgz");function qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return Math.abs(e-t)<n}function Ke(e,t,n,i){var a={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(a.top+=i),t.bottom&&(a.bottom+=i),t.left&&(a.left+=n),t.right&&(a.right+=n),a.height=a.bottom-a.top,a.width=a.right-a.left,a}function Ne(e){var t=e.clientY,n=e.rect;return t>=n.top&&t<=n.bottom}function Qe(e){var t=e.clientX,n=e.rect;return t>=n.left&&t<=n.right}function Ge(e){var t=e.clientX,n=e.clientY,i=e.elm,a=e.allowedEdges,r=e.cursorPrecision,o=i.nativeElement.getBoundingClientRect(),c={};return a.left&&qe(t,o.left,r)&&Ne({clientY:n,rect:o})&&(c.left=!0),a.right&&qe(t,o.right,r)&&Ne({clientY:n,rect:o})&&(c.right=!0),a.top&&qe(n,o.top,r)&&Qe({clientX:t,rect:o})&&(c.top=!0),a.bottom&&qe(n,o.bottom,r)&&Qe({clientX:t,rect:o})&&(c.bottom=!0),c}var Ue=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ze(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Je(e){var t=e.edges,n=e.initialRectangle,i=e.newRectangle,a={};return Object.keys(t).forEach((function(e){a[e]=(i[e]||0)-(n[e]||0)})),a}var _e,$e,et,tt=((_e=function(){function e(t,n,i,r){_classCallCheck(this,e),this.platformId=t,this.renderer=n,this.elm=i,this.zone=r,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Ue,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new a.o,this.resizing=new a.o,this.resizeEnd=new a.o,this.mouseup=new X.a,this.mousedown=new X.a,this.mousemove=new X.a,this.destroy$=new X.a,this.resizeEdges$=new X.a,this.pointerEventListeners=nt.getInstance(n,r)}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this,n=Object(ye.a)(this.pointerEventListeners.pointerDown,this.mousedown),i=Object(ye.a)(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Object(Xe.a)((function(t){var n=t.event;e&&n.preventDefault()})),Object(Ee.a)()),a=Object(ye.a)(this.pointerEventListeners.pointerUp,this.mouseup),r=function(){e&&e.clonedNode&&(t.elm.nativeElement.parentElement.removeChild(e.clonedNode),t.renderer.setStyle(t.elm.nativeElement,"visibility","inherit"))},o=function(){return Object.assign({},Ue,t.resizeCursors)};this.resizeEdges$.pipe(Object($.a)(this.resizeEdges),Object(ee.a)((function(){return t.resizeEdges&&Object.keys(t.resizeEdges).some((function(e){return!!t.resizeEdges[e]}))})),Object(_.a)((function(e){return e?i:Le.a})),Object(Re.a)(this.mouseMoveThrottleMS),Object(J.a)(this.destroy$)).subscribe((function(n){var i=Ge({clientX:n.clientX,clientY:n.clientY,elm:t.elm,allowedEdges:t.resizeEdges,cursorPrecision:t.resizeCursorPrecision}),a=o();if(!e){var r=Ze(i,a);t.renderer.setStyle(t.elm.nativeElement,"cursor",r)}t.setElementClass(t.elm,"resize-left-hover",!0===i.left),t.setElementClass(t.elm,"resize-right-hover",!0===i.right),t.setElementClass(t.elm,"resize-top-hover",!0===i.top),t.setElementClass(t.elm,"resize-bottom-hover",!0===i.bottom)})),n.pipe(Object(xe.a)((function(r){function o(e){return{clientX:e.clientX-r.clientX,clientY:e.clientY-r.clientY}}var c=function(){var n={x:1,y:1};return e&&(t.resizeSnapGrid.left&&e.edges.left?n.x=+t.resizeSnapGrid.left:t.resizeSnapGrid.right&&e.edges.right&&(n.x=+t.resizeSnapGrid.right),t.resizeSnapGrid.top&&e.edges.top?n.y=+t.resizeSnapGrid.top:t.resizeSnapGrid.bottom&&e.edges.bottom&&(n.y=+t.resizeSnapGrid.bottom)),n};function l(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return Object(ye.a)(i.pipe(Object(Ae.a)(1)).pipe(Object(ee.a)((function(e){return[,e]}))),i.pipe(Object(Me.a)())).pipe(Object(ee.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return[n?o(n):n,o(i)]}))).pipe(Object(De.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];if(!n)return!0;var a=c(),r=l(n,a),o=l(i,a);return r.x!==o.x||r.y!==o.y}))).pipe(Object(ee.a)((function(e){var t=_slicedToArray(e,2)[1],n=c();return{clientX:Math.round(t.clientX/n.x)*n.x,clientY:Math.round(t.clientY/n.y)*n.y}}))).pipe(Object(J.a)(Object(ye.a)(a,n)))}))).pipe(Object(De.a)((function(){return!!e}))).pipe(Object(ee.a)((function(t){var n=t.clientX,i=t.clientY;return Ke(e.startingRect,e.edges,n,i)}))).pipe(Object(De.a)((function(e){return t.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0)}))).pipe(Object(De.a)((function(n){return!t.validateResize||t.validateResize({rectangle:n,edges:Je({edges:e.edges,initialRectangle:e.startingRect,newRectangle:n})})})),Object(J.a)(this.destroy$)).subscribe((function(n){e&&e.clonedNode&&(t.renderer.setStyle(e.clonedNode,"height","".concat(n.height,"px")),t.renderer.setStyle(e.clonedNode,"width","".concat(n.width,"px")),t.renderer.setStyle(e.clonedNode,"top","".concat(n.top,"px")),t.renderer.setStyle(e.clonedNode,"left","".concat(n.left,"px"))),t.zone.run((function(){t.resizing.emit({edges:Je({edges:e.edges,initialRectangle:e.startingRect,newRectangle:n}),rectangle:n})})),e.currentRect=n})),n.pipe(Object(ee.a)((function(e){var n=e.clientX,i=e.clientY;return e.edges||Ge({clientX:n,clientY:i,elm:t.elm,allowedEdges:t.resizeEdges,cursorPrecision:t.resizeCursorPrecision})}))).pipe(Object(De.a)((function(e){return Object.keys(e).length>0})),Object(J.a)(this.destroy$)).subscribe((function(n){e&&r();var i=function(e,t){var n=0,i=0,a=e.nativeElement.style,r=["transform","-ms-transform","-moz-transform","-o-transform"].map((function(e){return a[e]})).find((function(e){return!!e}));if(r&&r.includes("translate")&&(n=r.replace(/.*translate\((.*)px, (.*)px\).*/,"$1"),i=r.replace(/.*translate\((.*)px, (.*)px\).*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};var o=e.nativeElement.getBoundingClientRect();return{height:o.height,width:o.width,top:o.top-i,bottom:o.bottom-i,left:o.left-n,right:o.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}(t.elm,t.ghostElementPositioning);e={edges:n,startingRect:i,currentRect:i};var a=o(),c=Ze(e.edges,a);t.renderer.setStyle(document.body,"cursor",c),t.setElementClass(t.elm,"resize-active",!0),t.enableGhostResize&&(e.clonedNode=t.elm.nativeElement.cloneNode(!0),t.elm.nativeElement.parentElement.appendChild(e.clonedNode),t.renderer.setStyle(t.elm.nativeElement,"visibility","hidden"),t.renderer.setStyle(e.clonedNode,"position",t.ghostElementPositioning),t.renderer.setStyle(e.clonedNode,"left","".concat(e.startingRect.left,"px")),t.renderer.setStyle(e.clonedNode,"top","".concat(e.startingRect.top,"px")),t.renderer.setStyle(e.clonedNode,"height","".concat(e.startingRect.height,"px")),t.renderer.setStyle(e.clonedNode,"width","".concat(e.startingRect.width,"px")),t.renderer.setStyle(e.clonedNode,"cursor",Ze(e.edges,a)),t.renderer.addClass(e.clonedNode,"resize-ghost-element"),e.clonedNode.scrollTop=e.startingRect.scrollTop,e.clonedNode.scrollLeft=e.startingRect.scrollLeft),t.zone.run((function(){t.resizeStart.emit({edges:Je({edges:n,initialRectangle:i,newRectangle:i}),rectangle:Ke(i,{},0,0)})}))})),a.pipe(Object(J.a)(this.destroy$)).subscribe((function(){e&&(t.renderer.removeClass(t.elm.nativeElement,"resize-active"),t.renderer.setStyle(document.body,"cursor",""),t.renderer.setStyle(t.elm.nativeElement,"cursor",""),t.zone.run((function(){t.resizeEnd.emit({edges:Je({edges:e.edges,initialRectangle:e.startingRect,newRectangle:e.currentRect}),rectangle:e.currentRect})})),r(),e=null)}))}},{key:"ngOnChanges",value:function(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}},{key:"ngOnDestroy",value:function(){Object(r.O)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}},{key:"setElementClass",value:function(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}]),e}()).\u0275fac=function(e){return new(e||_e)(a.Wb(a.E),a.Wb(a.I),a.Wb(a.l),a.Wb(a.C))},_e.\u0275dir=a.Rb({type:_e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[a.Fb()]}),_e),nt=function(){function e(t,n){_classCallCheck(this,e),this.pointerDown=new N.a((function(e){var i,a;return n.runOutsideAngular((function(){i=t.listen("document","mousedown",(function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})})),a=t.listen("document","touchstart",(function(t){e.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})}))})),function(){i(),a()}})).pipe(Object(Ee.a)()),this.pointerMove=new N.a((function(e){var i,a;return n.runOutsideAngular((function(){i=t.listen("document","mousemove",(function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})})),a=t.listen("document","touchmove",(function(t){e.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})}))})),function(){i(),a()}})).pipe(Object(Ee.a)()),this.pointerUp=new N.a((function(e){var i,a,r;return n.runOutsideAngular((function(){i=t.listen("document","mouseup",(function(t){e.next({clientX:t.clientX,clientY:t.clientY,event:t})})),a=t.listen("document","touchend",(function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})),r=t.listen("document","touchcancel",(function(t){e.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}))})),function(){i(),a(),r()}})).pipe(Object(Ee.a)())}return _createClass(e,null,[{key:"getInstance",value:function(t,n){return e.instance||(e.instance=new e(t,n)),e.instance}}]),e}(),it=((et=function(){function e(t,n,i,a){_classCallCheck(this,e),this.renderer=t,this.element=n,this.zone=i,this.resizable=a,this.resizeEdges={},this.eventListeners={}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.unsubscribeEventListeners()}},{key:"onMousedown",value:function(e,t,n){var i=this;e.preventDefault(),this.zone.runOutsideAngular((function(){i.eventListeners.touchmove||(i.eventListeners.touchmove=i.renderer.listen(i.element.nativeElement,"touchmove",(function(e){i.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)}))),i.eventListeners.mousemove||(i.eventListeners.mousemove=i.renderer.listen(i.element.nativeElement,"mousemove",(function(e){i.onMousemove(e,e.clientX,e.clientY)}))),i.resizable.mousedown.next({clientX:t,clientY:n,edges:i.resizeEdges})}))}},{key:"onMouseup",value:function(e,t){var n=this;this.zone.runOutsideAngular((function(){n.unsubscribeEventListeners(),n.resizable.mouseup.next({clientX:e,clientY:t,edges:n.resizeEdges})}))}},{key:"onMousemove",value:function(e,t,n){this.resizable.mousemove.next({clientX:t,clientY:n,edges:this.resizeEdges,event:e})}},{key:"unsubscribeEventListeners",value:function(){var e=this;Object.keys(this.eventListeners).forEach((function(t){e.eventListeners[t](),delete e.eventListeners[t]}))}}]),e}()).\u0275fac=function(e){return new(e||et)(a.Wb(a.I),a.Wb(a.l),a.Wb(a.C),a.Wb(tt))},et.\u0275dir=a.Rb({type:et,selectors:[["","mwlResizeHandle",""]],hostBindings:function(e,t){1&e&&a.oc("touchstart",(function(e){return t.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}))("mousedown",(function(e){return t.onMousedown(e,e.clientX,e.clientY)}))("touchend",(function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))("touchcancel",(function(e){return t.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))("mouseup",(function(e){return t.onMouseup(e.clientX,e.clientY)}))},inputs:{resizeEdges:"resizeEdges"}}),et),at=(($e=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:$e}),$e.\u0275inj=a.Tb({factory:function(e){return new(e||$e)}}),$e),rt=n("R0Ic"),ot=function(e){return{action:e}};function ct(e,t){if(1&e){var n=a.dc();a.cc(0,"a",5),a.oc("mwlClick",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(2).event;return i.onClick({event:r,sourceEvent:e})}))("mwlKeydownEnter",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(2).event;return i.onClick({event:r,sourceEvent:e})})),a.tc(1,"calendarA11y"),a.bc()}if(2&e){var i=t.$implicit;a.zc("ngClass",i.cssClass)("innerHtml",i.label,a.Rc),a.Ib("aria-label",a.vc(1,3,a.Dc(6,ot,i),"actionButtonLabel"))}}function lt(e,t){if(1&e&&(a.cc(0,"span",3),a.Yc(1,ct,2,8,"a",4),a.bc()),2&e){var n=a.sc(),i=n.event,r=n.trackByActionId;a.Hb(1),a.zc("ngForOf",i.actions)("ngForTrackBy",r)}}function st(e,t){1&e&&a.Yc(0,lt,2,2,"span",2),2&e&&a.zc("ngIf",t.event.actions)}function dt(e,t){}var ut=function(e,t){return{event:e,trackByActionId:t}},pt=function(){return{}};function ht(e,t){if(1&e&&(a.Xb(0,"span",2),a.tc(1,"calendarEventTitle"),a.tc(2,"calendarA11y")),2&e){var n=t.event;a.zc("innerHTML",a.wc(1,2,n.title,t.view,n),a.Rc),a.Ib("aria-hidden",a.vc(2,6,a.Cc(9,pt),"hideEventTitle"))}}function vt(e,t){}var ft=function(e,t){return{event:e,view:t}};function gt(e,t){if(1&e&&(a.cc(0,"div",2),a.Xb(1,"div",3),a.Xb(2,"div",4),a.bc()),2&e){var n=t.contents;a.zc("ngClass","cal-tooltip-"+t.placement),a.Hb(2),a.zc("innerHtml",n,a.Rc)}}function mt(e,t){}var yt=function(e,t,n){return{contents:e,placement:t,event:n}},bt=function(e){return{backgroundColor:e}};function wt(e,t){if(1&e){var n=a.dc();a.cc(0,"mwl-calendar-month-cell",7),a.oc("mwlClick",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).dayClicked.emit({day:i,sourceEvent:e})}))("mwlKeydownEnter",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).dayClicked.emit({day:i,sourceEvent:e})}))("highlightDay",(function(e){return a.Qc(n),a.sc(2).toggleDayHighlight(e.event,!0)}))("unhighlightDay",(function(e){return a.Qc(n),a.sc(2).toggleDayHighlight(e.event,!1)}))("drop",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventDropped(i,e.dropData.event,e.dropData.draggedFrom)}))("eventClicked",(function(e){return a.Qc(n),a.sc(2).eventClicked.emit({event:e.event,sourceEvent:e.sourceEvent})})),a.tc(1,"calendarA11y"),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(2);a.zc("ngClass",null==i?null:i.cssClass)("day",i)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",a.Dc(15,bt,i.backgroundColor))("clickListenerDisabled",0===r.dayClicked.observers.length),a.Ib("tabindex",a.vc(1,12,a.Cc(17,pt),"monthCellTabIndex"))}}function kt(e,t){if(1&e){var n=a.dc();a.cc(0,"div"),a.cc(1,"div",4),a.Yc(2,wt,2,18,"mwl-calendar-month-cell",5),a.tc(3,"slice"),a.bc(),a.cc(4,"mwl-calendar-open-day-events",6),a.oc("eventClicked",(function(e){return a.Qc(n),a.sc().eventClicked.emit({event:e.event,sourceEvent:e.sourceEvent})}))("drop",(function(e){a.Qc(n);var t=a.sc();return t.eventDropped(t.openDay,e.dropData.event,e.dropData.draggedFrom)})),a.bc(),a.bc()}if(2&e){var i=t.$implicit,r=a.sc();a.Hb(2),a.zc("ngForOf",a.wc(3,9,r.view.days,i,i+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),a.Hb(2),a.zc("locale",r.locale)("isOpen",r.openRowIndex===i)("events",null==r.openDay?null:r.openDay.events)("date",null==r.openDay?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}function Ct(e,t){if(1&e){var n=a.dc();a.cc(0,"div",4),a.oc("click",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).columnHeaderClicked.emit({isoDayNumber:i.day,sourceEvent:e})})),a.ad(1),a.tc(2,"calendarDate"),a.bc()}if(2&e){var i=t.$implicit,r=a.sc().locale;a.Mb("cal-past",i.isPast)("cal-today",i.isToday)("cal-future",i.isFuture)("cal-weekend",i.isWeekend),a.zc("ngClass",i.cssClass),a.Hb(1),a.cd(" ",a.wc(2,10,i.date,"monthViewColumnHeader",r)," ")}}function Dt(e,t){if(1&e&&(a.cc(0,"div",2),a.Yc(1,Ct,3,14,"div",3),a.bc()),2&e){var n=t.days,i=t.trackByWeekDayHeaderDate;a.Hb(1),a.zc("ngForOf",n)("ngForTrackBy",i)}}function xt(e,t){}var Et=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function At(e,t){if(1&e&&(a.cc(0,"span",7),a.ad(1),a.bc()),2&e){var n=a.sc().day;a.Hb(1),a.bd(n.badgeTotal)}}var Tt=function(e,t){return{event:e,draggedFrom:t}},St=function(e,t){return{x:e,y:t}};function Ot(e,t){if(1&e){var n=a.dc();a.cc(0,"div",10),a.oc("mouseenter",(function(){a.Qc(n);var e=t.$implicit;return a.sc(2).highlightDay.emit({event:e})}))("mouseleave",(function(){a.Qc(n);var e=t.$implicit;return a.sc(2).unhighlightDay.emit({event:e})}))("mwlClick",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventClicked.emit({event:i,sourceEvent:e})})),a.tc(1,"calendarEventTitle"),a.tc(2,"calendarA11y"),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(2),o=r.tooltipPlacement,c=r.tooltipTemplate,l=r.tooltipAppendToBody,s=r.tooltipDelay,d=r.day,u=r.validateDrag;a.Mb("cal-draggable",i.draggable),a.zc("ngStyle",a.Dc(21,bt,null==i.color?null:i.color.primary))("ngClass",null==i?null:i.cssClass)("mwlCalendarTooltip",a.wc(1,14,i.title,"monthTooltip",i))("tooltipPlacement",o)("tooltipEvent",i)("tooltipTemplate",c)("tooltipAppendToBody",l)("tooltipDelay",s)("dropData",a.Ec(23,Tt,i,d))("dragAxis",a.Ec(26,St,i.draggable,i.draggable))("validateDrag",u),a.Ib("aria-hidden",a.vc(2,18,a.Cc(29,pt),"hideMonthCellEvents"))}}function zt(e,t){if(1&e&&(a.cc(0,"div",8),a.Yc(1,Ot,3,30,"div",9),a.bc()),2&e){var n=a.sc(),i=n.day,r=n.trackByEventId;a.Hb(1),a.zc("ngForOf",i.events)("ngForTrackBy",r)}}var Mt=function(e,t){return{day:e,locale:t}};function Rt(e,t){if(1&e&&(a.cc(0,"div",2),a.tc(1,"calendarA11y"),a.cc(2,"span",3),a.Yc(3,At,2,1,"span",4),a.cc(4,"span",5),a.ad(5),a.tc(6,"calendarDate"),a.bc(),a.bc(),a.bc(),a.Yc(7,zt,2,2,"div",6)),2&e){var n=t.day,i=t.locale;a.Ib("aria-label",a.vc(1,4,a.Ec(11,Mt,n,i),"monthCell")),a.Hb(3),a.zc("ngIf",n.badgeTotal>0),a.Hb(2),a.bd(a.wc(6,7,n.date,"monthViewDayNumber",i)),a.Hb(2),a.zc("ngIf",n.events.length>0)}}function Ht(e,t){}var It=function(e,t,n,i,a,r,o,c,l,s,d,u){return{day:e,openDay:t,locale:n,tooltipPlacement:i,highlightDay:a,unhighlightDay:r,eventClicked:o,tooltipTemplate:c,tooltipAppendToBody:l,tooltipDelay:s,trackByEventId:d,validateDrag:u}},Bt=function(e){return{event:e}},Wt=function(e,t){return{event:e,locale:t}};function Pt(e,t){if(1&e){var n=a.dc();a.cc(0,"div",7),a.Xb(1,"span",8),a.ad(2," "),a.cc(3,"mwl-calendar-event-title",9),a.oc("mwlClick",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventClicked.emit({event:i,sourceEvent:e})}))("mwlKeydownEnter",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventClicked.emit({event:i,sourceEvent:e})})),a.tc(4,"calendarA11y"),a.bc(),a.ad(5," "),a.Xb(6,"mwl-calendar-event-actions",10),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(2).validateDrag,o=a.sc();a.Mb("cal-draggable",i.draggable),a.zc("ngClass",null==i?null:i.cssClass)("dropData",a.Dc(15,Bt,i))("dragAxis",a.Ec(17,St,i.draggable,i.draggable))("validateDrag",r),a.Hb(1),a.zc("ngStyle",a.Dc(20,bt,null==i.color?null:i.color.primary)),a.Hb(2),a.zc("event",i)("customTemplate",o.eventTitleTemplate),a.Ib("aria-label",a.vc(4,12,a.Ec(22,Wt,i,o.locale),"eventDescription")),a.Hb(3),a.zc("event",i)("customTemplate",o.eventActionsTemplate)}}var Yt=function(e,t){return{date:e,locale:t}};function Ft(e,t){if(1&e&&(a.cc(0,"div",3),a.Xb(1,"span",4),a.tc(2,"calendarA11y"),a.Xb(3,"span",5),a.tc(4,"calendarA11y"),a.Yc(5,Pt,7,25,"div",6),a.bc()),2&e){var n=a.sc(),i=n.events,r=n.trackByEventId,o=a.sc();a.zc("@collapse",void 0),a.Hb(1),a.Ib("aria-label",a.vc(2,5,a.Ec(11,Yt,o.date,o.locale),"openDayEventsAlert")),a.Hb(2),a.Ib("aria-label",a.vc(4,8,a.Ec(14,Yt,o.date,o.locale),"openDayEventsLandmark")),a.Hb(2),a.zc("ngForOf",i)("ngForTrackBy",r)}}function jt(e,t){1&e&&a.Yc(0,Ft,6,17,"div",2),2&e&&a.zc("ngIf",t.isOpen)}function Vt(e,t){}var Lt=function(e,t,n,i,a){return{events:e,eventClicked:t,isOpen:n,trackByEventId:i,validateDrag:a}};function Xt(e,t){if(1&e){var n=a.dc();a.cc(0,"div",13),a.oc("drop",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventDropped(e,i.date,!0)}))("dragEnter",(function(){a.Qc(n);var e=t.$implicit;return a.sc(2).dateDragEnter(e.date)})),a.bc()}}var qt=function(){return{left:!0}};function Kt(e,t){1&e&&a.Xb(0,"div",22),2&e&&a.zc("resizeEdges",a.Cc(1,qt))}var Nt=function(){return{right:!0}};function Qt(e,t){1&e&&a.Xb(0,"div",23),2&e&&a.zc("resizeEdges",a.Cc(1,Nt))}var Gt=function(e,t){return{left:e,right:t}},Ut=function(e,t){return{event:e,calendarId:t}},Zt=function(e){return{x:e}};function Jt(e,t){if(1&e){var n=a.dc();a.cc(0,"div",17,18),a.oc("resizeStart",(function(e){a.Qc(n);var i=t.$implicit;a.sc();var r=a.Mc(1);return a.sc(2).allDayEventResizeStarted(r,i,e)}))("resizing",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(3);return r.allDayEventResizing(i,e,r.dayColumnWidth)}))("resizeEnd",(function(){a.Qc(n);var e=t.$implicit;return a.sc(3).allDayEventResizeEnded(e)}))("dragStart",(function(){a.Qc(n);var e=a.Mc(1);a.sc();var t=a.Mc(1);return a.sc(2).dragStarted(t,e)}))("dragging",(function(){return a.Qc(n),a.sc(3).allDayEventDragMove()}))("dragEnd",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(3);return r.dragEnded(i,e,r.dayColumnWidth)})),a.Yc(2,Kt,1,2,"div",19),a.cc(3,"mwl-calendar-week-view-event",20),a.oc("eventClicked",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(3).eventClicked.emit({event:i.event,sourceEvent:e.sourceEvent})})),a.bc(),a.Yc(4,Qt,1,2,"div",21),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(3);a.Xc("width",100/r.days.length*i.span,"%")("margin-left",100/r.days.length*i.offset,"%"),a.Mb("cal-draggable",i.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!i.startsBeforeWeek)("cal-ends-within-week",!i.endsAfterWeek),a.zc("ngClass",null==i.event?null:i.event.cssClass)("resizeSnapGrid",a.Ec(29,Gt,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",a.Ec(32,Ut,i.event,r.calendarId))("dragAxis",a.Ec(35,St,i.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&i.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?a.Dc(38,Zt,r.dayColumnWidth):a.Cc(40,pt))("validateDrag",r.validateDrag),a.Hb(2),a.zc("ngIf",(null==i.event?null:null==i.event.resizable?null:i.event.resizable.beforeStart)&&!i.startsBeforeWeek),a.Hb(1),a.zc("locale",r.locale)("weekEvent",i)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),a.Hb(1),a.zc("ngIf",(null==i.event?null:null==i.event.resizable?null:i.event.resizable.afterEnd)&&!i.endsAfterWeek)}}function _t(e,t){if(1&e&&(a.cc(0,"div",14,15),a.Yc(2,Jt,5,41,"div",16),a.bc()),2&e){var n=t.$implicit,i=a.sc(2);a.Hb(2),a.zc("ngForOf",n.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function $t(e,t){if(1&e){var n=a.dc();a.cc(0,"div",8,9),a.oc("dragEnter",(function(){return a.Qc(n),a.sc().dragEnter("allDay")}))("dragLeave",(function(){return a.Qc(n),a.sc().dragLeave("allDay")})),a.cc(2,"div",5),a.Xb(3,"div",10),a.Yc(4,Xt,1,0,"div",11),a.bc(),a.Yc(5,_t,3,2,"div",12),a.bc()}if(2&e){var i=a.sc();a.Hb(3),a.zc("ngTemplateOutlet",i.allDayEventsLabelTemplate),a.Hb(1),a.zc("ngForOf",i.days)("ngForTrackBy",i.trackByWeekDayHeaderDate),a.Hb(1),a.zc("ngForOf",i.view.allDayEventRows)("ngForTrackBy",i.trackById)}}function en(e,t){if(1&e&&a.Xb(0,"mwl-calendar-week-view-hour-segment",28),2&e){var n=t.$implicit,i=a.sc(3);a.Xc("height",i.hourSegmentHeight,"px"),a.zc("segment",n)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function tn(e,t){if(1&e&&(a.cc(0,"div",26),a.Yc(1,en,1,8,"mwl-calendar-week-view-hour-segment",27),a.bc()),2&e){var n=t.$implicit,i=t.odd,r=a.sc(2);a.Mb("cal-hour-odd",i),a.Hb(1),a.zc("ngForOf",n.segments)("ngForTrackBy",r.trackByHourSegment)}}function nn(e,t){if(1&e&&(a.cc(0,"div",24),a.Yc(1,tn,2,4,"div",25),a.bc()),2&e){var n=a.sc();a.Hb(1),a.zc("ngForOf",n.view.hourColumns[0].hours)("ngForTrackBy",n.trackByHour)}}var an=function(){return{left:!0,top:!0}};function rn(e,t){1&e&&a.Xb(0,"div",22),2&e&&a.zc("resizeEdges",a.Cc(1,an))}var on=function(){return{right:!0,bottom:!0}};function cn(e,t){1&e&&a.Xb(0,"div",23),2&e&&a.zc("resizeEdges",a.Cc(1,on))}var ln=function(e,t,n,i){return{left:e,right:t,top:n,bottom:i}};function sn(e,t){if(1&e){var n=a.dc();a.cc(0,"div",33,18),a.oc("resizeStart",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(2),o=a.Mc(6);return r.timeEventResizeStarted(o,i,e)}))("resizing",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).timeEventResizing(i,e)}))("resizeEnd",(function(){a.Qc(n);var e=t.$implicit;return a.sc(2).timeEventResizeEnded(e)}))("dragStart",(function(){a.Qc(n);var e=t.$implicit,i=a.Mc(1),r=a.sc(2),o=a.Mc(6);return r.dragStarted(o,i,e)}))("dragging",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).dragMove(i,e)}))("dragEnd",(function(e){a.Qc(n);var i=t.$implicit,r=a.sc(2);return r.dragEnded(i,e,r.dayColumnWidth,!0)})),a.Yc(2,rn,1,2,"div",19),a.cc(3,"mwl-calendar-week-view-event",34),a.oc("eventClicked",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(2).eventClicked.emit({event:i.event,sourceEvent:e.sourceEvent})})),a.bc(),a.Yc(4,cn,1,2,"div",21),a.bc()}if(2&e){var i=t.$implicit,r=a.sc().$implicit,o=a.sc();a.Xc("top",i.top,"px")("height",i.height,"px")("left",i.left,"%")("width",i.width,"%"),a.Mb("cal-draggable",i.event.draggable&&0===o.timeEventResizes.size)("cal-starts-within-day",!i.startsBeforeDay)("cal-ends-within-day",!i.endsAfterDay),a.zc("ngClass",i.event.cssClass)("hidden",0===i.height&&0===i.width)("resizeSnapGrid",a.Gc(38,ln,o.dayColumnWidth,o.dayColumnWidth,o.eventSnapSize||o.hourSegmentHeight,o.eventSnapSize||o.hourSegmentHeight))("validateResize",o.validateResize)("allowNegativeResizes",!0)("dropData",a.Ec(43,Ut,i.event,o.calendarId))("dragAxis",a.Ec(46,St,i.event.draggable&&0===o.timeEventResizes.size,i.event.draggable&&0===o.timeEventResizes.size))("dragSnapGrid",o.snapDraggedEvents?a.Ec(49,St,o.dayColumnWidth,o.eventSnapSize||o.hourSegmentHeight):a.Cc(52,pt))("ghostDragEnabled",!o.snapDraggedEvents)("validateDrag",o.validateDrag),a.Hb(2),a.zc("ngIf",(null==i.event?null:null==i.event.resizable?null:i.event.resizable.beforeStart)&&!i.startsBeforeDay),a.Hb(1),a.zc("locale",o.locale)("weekEvent",i)("tooltipPlacement",o.tooltipPlacement)("tooltipTemplate",o.tooltipTemplate)("tooltipAppendToBody",o.tooltipAppendToBody)("tooltipDisabled",o.dragActive||o.timeEventResizes.size>0)("tooltipDelay",o.tooltipDelay)("customTemplate",o.eventTemplate)("eventTitleTemplate",o.eventTitleTemplate)("eventActionsTemplate",o.eventActionsTemplate)("column",r)("daysInWeek",o.daysInWeek),a.Hb(1),a.zc("ngIf",(null==i.event?null:null==i.event.resizable?null:i.event.resizable.afterEnd)&&!i.endsAfterDay)}}function dn(e,t){if(1&e){var n=a.dc();a.cc(0,"mwl-calendar-week-view-hour-segment",36),a.oc("mwlClick",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(3).hourSegmentClicked.emit({date:i.date,sourceEvent:e})}))("drop",(function(e){a.Qc(n);var i=t.$implicit;return a.sc(3).eventDropped(e,i.date,!1)}))("dragEnter",(function(){a.Qc(n);var e=t.$implicit;return a.sc(3).dateDragEnter(e.date)})),a.bc()}if(2&e){var i=t.$implicit,r=a.sc(3);a.Xc("height",r.hourSegmentHeight,"px"),a.zc("segment",i)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function un(e,t){if(1&e&&(a.cc(0,"div",26),a.Yc(1,dn,1,10,"mwl-calendar-week-view-hour-segment",35),a.bc()),2&e){var n=t.$implicit,i=t.odd,r=a.sc(2);a.Mb("cal-hour-odd",i),a.Hb(1),a.zc("ngForOf",n.segments)("ngForTrackBy",r.trackByHourSegment)}}function pn(e,t){if(1&e&&(a.cc(0,"div",29),a.Xb(1,"mwl-calendar-week-view-current-time-marker",30),a.cc(2,"div",31),a.Yc(3,sn,5,53,"div",32),a.bc(),a.Yc(4,un,2,4,"div",25),a.bc()),2&e){var n=t.$implicit,i=a.sc();a.Hb(1),a.zc("columnDate",n.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),a.Hb(2),a.zc("ngForOf",n.events)("ngForTrackBy",i.trackByWeekTimeEvent),a.Hb(1),a.zc("ngForOf",n.hours)("ngForTrackBy",i.trackByHour)}}function hn(e,t){if(1&e){var n=a.dc();a.cc(0,"div",4),a.oc("mwlClick",(function(e){a.Qc(n);var i=t.$implicit;return a.sc().dayHeaderClicked.emit({day:i,sourceEvent:e})}))("drop",(function(e){a.Qc(n);var i=t.$implicit;return a.sc().eventDropped.emit({event:e.dropData.event,newStart:i.date})}))("dragEnter",(function(){a.Qc(n);var e=t.$implicit;return a.sc().dragEnter.emit({date:e.date})})),a.cc(1,"b"),a.ad(2),a.tc(3,"calendarDate"),a.bc(),a.Xb(4,"br"),a.cc(5,"span"),a.ad(6),a.tc(7,"calendarDate"),a.bc(),a.bc()}if(2&e){var i=t.$implicit,r=a.sc().locale;a.Mb("cal-past",i.isPast)("cal-today",i.isToday)("cal-future",i.isFuture)("cal-weekend",i.isWeekend),a.zc("ngClass",i.cssClass),a.Hb(2),a.bd(a.wc(3,11,i.date,"weekViewColumnHeader",r)),a.Hb(4),a.bd(a.wc(7,15,i.date,"weekViewColumnSubHeader",r))}}function vn(e,t){if(1&e&&(a.cc(0,"div",2),a.Yc(1,hn,8,19,"div",3),a.bc()),2&e){var n=t.days,i=t.trackByWeekDayHeaderDate;a.Hb(1),a.zc("ngForOf",n)("ngForTrackBy",i)}}function fn(e,t){}var gn=function(e,t,n,i,a,r){return{days:e,locale:t,dayHeaderClicked:n,eventDropped:i,dragEnter:a,trackByWeekDayHeaderDate:r}},mn=function(e,t){return{backgroundColor:e,borderColor:t}};function yn(e,t){if(1&e){var n=a.dc();a.cc(0,"div",2),a.oc("mwlClick",(function(e){return a.Qc(n),t.eventClicked.emit({sourceEvent:e})}))("mwlKeydownEnter",(function(e){return a.Qc(n),t.eventClicked.emit({sourceEvent:e})})),a.tc(1,"calendarEventTitle"),a.tc(2,"calendarA11y"),a.Xb(3,"mwl-calendar-event-actions",3),a.ad(4," "),a.Xb(5,"mwl-calendar-event-title",4),a.bc()}if(2&e){var i=t.weekEvent,r=t.tooltipPlacement,o=t.tooltipTemplate,c=t.tooltipAppendToBody,l=t.tooltipDisabled,s=t.tooltipDelay,d=t.daysInWeek,u=a.sc();a.zc("ngStyle",a.Ec(20,mn,null==i.event.color?null:i.event.color.secondary,null==i.event.color?null:i.event.color.primary))("mwlCalendarTooltip",l?"":a.wc(1,13,i.event.title,1===d?"dayTooltip":"weekTooltip",i.event))("tooltipPlacement",r)("tooltipEvent",i.event)("tooltipTemplate",o)("tooltipAppendToBody",c)("tooltipDelay",s),a.Ib("aria-label",a.vc(2,17,a.Ec(23,Wt,i.event,u.locale),"eventDescription")),a.Hb(3),a.zc("event",i.event)("customTemplate",u.eventActionsTemplate),a.Hb(2),a.zc("event",i.event)("customTemplate",u.eventTitleTemplate)("view",1===d?"day":"week")}}function bn(e,t){}var wn=function(e,t,n,i,a,r,o,c,l){return{weekEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:a,tooltipDisabled:r,tooltipDelay:o,column:c,daysInWeek:l}};function kn(e,t){if(1&e&&(a.cc(0,"div",4),a.ad(1),a.tc(2,"calendarDate"),a.bc()),2&e){var n=a.sc(),i=n.segment,r=n.daysInWeek,o=n.locale;a.Hb(1),a.cd(" ",a.wc(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",o)," ")}}function Cn(e,t){if(1&e&&(a.cc(0,"div",2),a.tc(1,"calendarA11y"),a.Yc(2,kn,3,5,"div",3),a.bc()),2&e){var n=t.segment,i=t.isTimeLabel,r=t.daysInWeek;a.Xc("height",t.segmentHeight,"px"),a.Mb("cal-hour-start",n.isStart)("cal-after-hour-start",!n.isStart),a.zc("ngClass",n.cssClass),a.Ib("aria-hidden",a.vc(1,9,a.Cc(12,pt),1===r?"hideDayHourSegment":"hideWeekHourSegment")),a.Hb(2),a.zc("ngIf",i)}}function Dn(e,t){}var xn=function(e,t,n,i,a){return{segment:e,locale:t,segmentHeight:n,isTimeLabel:i,daysInWeek:a}};function En(e,t){if(1&e&&a.Xb(0,"div",3),2&e){var n=a.sc().topPx;a.Xc("top",n,"px")}}function An(e,t){1&e&&a.Yc(0,En,1,2,"div",2),2&e&&a.zc("ngIf",t.isVisible)}function Tn(e,t){}var Sn,On,zn,Mn,Rn=function(e,t,n,i,a,r,o){return{columnDate:e,dayStartHour:t,dayStartMinute:n,dayEndHour:i,dayEndMinute:a,isVisible:r,topPx:o}},Hn=((Mn=function e(){_classCallCheck(this,e),this.trackByActionId=function(e,t){return t.id?t.id:t}}).\u0275fac=function(e){return new(e||Mn)},Mn.\u0275cmp=a.Qb({type:Mn,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,t){if(1&e&&(a.Yc(0,st,1,1,"ng-template",null,0,a.Zc),a.Yc(2,dt,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Ec(2,ut,t.event,t.trackByActionId))}},directives:function(){return[r.B,r.u,r.t,r.r,Yi,Fi]},pipes:function(){return[Li]},encapsulation:2}),Mn),In=((zn=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||zn)},zn.\u0275cmp=a.Qb({type:zn,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(a.Yc(0,ht,3,10,"ng-template",null,0,a.Zc),a.Yc(2,vt,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Ec(2,ft,t.event,t.view))}},directives:function(){return[r.B]},pipes:function(){return[Pi,Li]},encapsulation:2}),zn),Bn=((On=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||On)},On.\u0275cmp=a.Qb({type:On,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(a.Yc(0,gt,3,2,"ng-template",null,0,a.Zc),a.Yc(2,mt,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Fc(2,yt,t.contents,t.placement,t.event))}},directives:[r.B,r.r],encapsulation:2}),On),Wn=((Sn=function(){function e(t,n,i,a,r,o){_classCallCheck(this,e),this.elementRef=t,this.injector=n,this.renderer=i,this.viewContainerRef=r,this.document=o,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new X.a,this.tooltipFactory=a.resolveComponentFactory(Bn)}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this.hide()}},{key:"onMouseOver",value:function(){var e=this;(null===this.delay?Object(q.a)("now"):Object(K.a)(this.delay)).pipe(Object(J.a)(this.cancelTooltipDelay$)).subscribe((function(){e.show()}))}},{key:"onMouseOut",value:function(){this.hide()}},{key:"show",value:function(){var e=this;!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame((function(){e.positionTooltip()})))}},{key:"hide",value:function(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}},{key:"positionTooltip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,i,a){var r=Array.isArray(n)?n:n.split(V),o=function(e){return e.split("-"),[]},c=r.findIndex((function(e){return"auto"===e}));c>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach((function(e){null==r.find((function(t){return-1!==t.search("^"+e)}))&&r.splice(c++,1,e)}));var l,s=t.style;s.position="absolute",s.top="0",s.left="0",s["will-change"]="transform";for(var d=!1,u=0,p=r;u<p.length;u++)if(o(l=p[u]),L.positionElements(e,t,l,i)){d=!0;break}return d||(o(l=r[0]),L.positionElements(e,t,l,i)),l}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([].concat(_toConsumableArray(e),[this.tooltipRef.instance.placement])))}}]),e}()).\u0275fac=function(e){return new(e||Sn)(a.Wb(a.l),a.Wb(a.t),a.Wb(a.I),a.Wb(a.j),a.Wb(a.S),a.Wb(r.e))},Sn.\u0275dir=a.Rb({type:Sn,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&a.oc("mouseenter",(function(){return t.onMouseOver()}))("mouseleave",(function(){return t.onMouseOut()}))},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[a.Fb()]}),Sn),Pn=function e(){_classCallCheck(this,e)},Yn=function(e){return e.Month="month",e.Week="week",e.Day="day",e}({}),Fn=function(e){return function(e,t){var n=!0;function i(e,i){t(e,i),n=!1}return Array.isArray(e)?(e.forEach((function(e){e.start?e.start instanceof Date||i(ge.StartPropertyNotDate,e):i(ge.StartPropertyMissing,e),e.end&&(e.end instanceof Date||i(ge.EndPropertyNotDate,e),e.start>e.end&&i(ge.EndsBeforeStart,e))})),n):(t(ge.NotArray,e),!1)}(e,(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).warn.apply(e,["angular-calendar"].concat(n))}))};function jn(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function Vn(e,t){return Math.round(e/t)*t}var Ln=function(e,t){return t.id?t.id:t},Xn=function(e,t){return t.date.toISOString()},qn=function(e,t){return t.date.toISOString()},Kn=function(e,t){return t.segments[0].date.toISOString()},Nn=function(e,t){return t.event.id?t.event.id:t.event},Qn=function(e,t){return t.event.id?t.event.id:t.event};function Gn(e,t){return 60/(e*t)}function Un(e,t,n,i){return Vn(e,i||n)*Gn(t,n)}function Zn(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function Jn(e,t,n,i){for(var a=0,r=0,o=n<0?e.subDays:e.addDays,c=t;r<=Math.abs(n);){c=o(t,a);var l=e.getDay(c);-1===i.indexOf(l)&&r++,a++}return c}function _n(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,r=a?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n}),o=e.endOfWeek(t,{weekStartsOn:n});i.indexOf(e.getDay(r))>-1&&r<o;)r=e.addDays(r,1);if(a)return{viewStart:r,viewEnd:e.endOfDay(Jn(e,r,a-1,i))};for(var c=o;i.indexOf(e.getDay(c))>-1&&c>r;)c=e.subDays(c,1);return{viewStart:r,viewEnd:c}}function $n(e){var t=e.x,n=e.y;return Math.abs(t)>1||Math.abs(n)>1}var ei,ti,ni,ii,ai,ri,oi,ci,li,si,di,ui,pi,hi,vi,fi,gi,mi,yi,bi,wi,ki,Ci,Di,xi,Ei,Ai,Ti,Si,Oi,zi=((ri=function(){function e(t){_classCallCheck(this,e),this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new a.o}return _createClass(e,[{key:"onClick",value:function(){var e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Yn.Day?Jn(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Yn.Week&&this.daysInWeek?Jn(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}]),e}()).\u0275fac=function(e){return new(e||ri)(a.Wb(Pn))},ri.\u0275dir=a.Rb({type:ri,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&a.oc("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),ri),Mi=((ai=function(){function e(t){_classCallCheck(this,e),this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new a.o}return _createClass(e,[{key:"onClick",value:function(){var e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Yn.Day?Jn(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Yn.Week&&this.daysInWeek?Jn(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}]),e}()).\u0275fac=function(e){return new(e||ai)(a.Wb(Pn))},ai.\u0275dir=a.Rb({type:ai,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&a.oc("click",(function(){return t.onClick()}))},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),ai),Ri=((ii=function(){function e(t){_classCallCheck(this,e),this.dateAdapter=t,this.viewDateChange=new a.o}return _createClass(e,[{key:"onClick",value:function(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}]),e}()).\u0275fac=function(e){return new(e||ii)(a.Wb(Pn))},ii.\u0275dir=a.Rb({type:ii,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&a.oc("click",(function(){return t.onClick()}))},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),ii),Hi=((ni=function(){function e(t){_classCallCheck(this,e),this.dateAdapter=t}return _createClass(e,[{key:"monthViewColumnHeader",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"EEEE",n)}},{key:"monthViewDayNumber",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"d",n)}},{key:"monthViewTitle",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"LLLL y",n)}},{key:"weekViewColumnHeader",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"EEEE",n)}},{key:"weekViewColumnSubHeader",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"MMM d",n)}},{key:"weekViewTitle",value:function(e){var t=e.date,n=e.locale,i=e.weekStartsOn,a=e.excludeDays,o=e.daysInWeek,c=_n(this.dateAdapter,t,i,a,o),l=c.viewStart,s=c.viewEnd,d=function(e,t){return Object(r.K)(e,"MMM d"+(t?", yyyy":""),n)};return"".concat(d(l,l.getUTCFullYear()!==s.getUTCFullYear())," - ").concat(d(s,!0))}},{key:"weekViewHour",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"h a",n)}},{key:"dayViewHour",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"h a",n)}},{key:"dayViewTitle",value:function(e){var t=e.date,n=e.locale;return Object(r.K)(t,"EEEE, MMMM d, y",n)}}]),e}()).\u0275fac=function(e){return new(e||ni)(a.kc(Pn))},ni.\u0275prov=a.Sb({token:ni,factory:ni.\u0275fac}),ni),Ii=((ti=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Hi)).\u0275fac=function(e){return da(e||ti)},ti.\u0275prov=a.Sb({token:ti,factory:ti.\u0275fac}),ti),Bi=((ei=function(){function e(t,n){_classCallCheck(this,e),this.dateFormatter=t,this.locale=n}return _createClass(e,[{key:"transform",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.locale,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5?arguments[5]:void 0;if(void 0===this.dateFormatter[t]){var o=Object.getOwnPropertyNames(Object.getPrototypeOf(Ii.prototype)).filter((function(e){return"constructor"!==e}));throw new Error("".concat(t," is not a valid date formatter. Can only be one of ").concat(o.join(", ")))}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:i,excludeDays:a,daysInWeek:r})}}]),e}()).\u0275fac=function(e){return new(e||ei)(a.Wb(Ii),a.Wb(a.w))},ei.\u0275pipe=a.Vb({name:"calendarDate",type:ei,pure:!0}),ei),Wi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"month",value:function(e,t){return e.title}},{key:"monthTooltip",value:function(e,t){return e.title}},{key:"week",value:function(e,t){return e.title}},{key:"weekTooltip",value:function(e,t){return e.title}},{key:"day",value:function(e,t){return e.title}},{key:"dayTooltip",value:function(e,t){return e.title}}]),e}(),Pi=((ui=function(){function e(t){_classCallCheck(this,e),this.calendarEventTitle=t}return _createClass(e,[{key:"transform",value:function(e,t,n){return this.calendarEventTitle[t](n,e)}}]),e}()).\u0275fac=function(e){return new(e||ui)(a.Wb(Wi))},ui.\u0275pipe=a.Vb({name:"calendarEventTitle",type:ui,pure:!0}),ui),Yi=((di=function(){function e(t,n,i){_classCallCheck(this,e),this.renderer=t,this.elm=n,this.document=i,this.clickListenerDisabled=!1,this.click=new a.o,this.destroy$=new X.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.clickListenerDisabled||this.listen().pipe(Object(J.a)(this.destroy$)).subscribe((function(t){t.stopPropagation(),e.click.emit(t)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"listen",value:function(){var e=this;return new N.a((function(t){return e.renderer.listen(e.elm.nativeElement,"click",(function(e){t.next(e)}))}))}}]),e}()).\u0275fac=function(e){return new(e||di)(a.Wb(a.I),a.Wb(a.l),a.Wb(r.e))},di.\u0275dir=a.Rb({type:di,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),di),Fi=((si=function(){function e(){_classCallCheck(this,e),this.keydown=new a.o}return _createClass(e,[{key:"onKeyPress",value:function(e){13!==e.keyCode&&13!==e.which&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.keydown.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||si)},si.\u0275dir=a.Rb({type:si,selectors:[["","mwlKeydownEnter",""]],hostBindings:function(e,t){1&e&&a.oc("keydown",(function(e){return t.onKeyPress(e)}))},outputs:{keydown:"mwlKeydownEnter"}}),si),ji=((li=function(){function e(t){_classCallCheck(this,e),this.dateAdapter=t}return _createClass(e,[{key:"getMonthView",value:function(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,a=t.viewDate,r=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,l=t.viewStart,s=void 0===l?e.startOfMonth(a):l,d=t.viewEnd,u=void 0===d?e.endOfMonth(a):d,p=t.weekendDays;i||(i=[]);for(var h,v=e.endOfWeek,f=e.differenceInDays,g=e.startOfDay,m=e.addHours,y=e.endOfDay,b=e.isSameMonth,w=e.getDay,k=e.getMonth,C=(0,e.startOfWeek)(s,{weekStartsOn:r}),D=v(u,{weekStartsOn:r}),x=re(e,{events:i,periodStart:C,periodEnd:D}),E=[],A=function(t){var n;if(h?(n=g(m(h,24)),h.getTime()===n.getTime()&&(n=g(m(h,25))),h=n):n=h=C,!c.some((function(e){return w(n)===e}))){var i=oe(e,{date:n,weekendDays:p}),r=re(e,{events:x,periodStart:g(n),periodEnd:y(n)});i.inMonth=b(n,a),i.events=r,i.badgeTotal=r.length,E.push(i)}},T=0;T<f(D,C)+1;T++)A();var S=[],O=7-c.length;if(O<7)for(T=0;T<E.length;T+=O){var z=E.slice(T,T+O);z.some((function(e){return k(e.date)===k(a)}))&&(S=S.concat(z))}else S=E;var M=Math.floor(S.length/O),R=[];for(T=0;T<M;T++)R.push(T*O);return{rowOffsets:R,totalDaysVisibleInWeek:O,days:S,period:{start:S[0].date,end:y(S[S.length-1].date),events:x}}}(this.dateAdapter,e)}},{key:"getWeekViewHeader",value:function(e){return ce(this.dateAdapter,e)}},{key:"getWeekView",value:function(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,a=t.viewDate,r=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,l=t.precision,s=void 0===l?"days":l,d=t.absolutePositionedEvents,u=void 0!==d&&d,p=t.hourSegments,h=t.dayStart,v=t.dayEnd,f=t.weekendDays,g=t.segmentHeight,m=t.viewStart,y=void 0===m?e.startOfWeek(a,{weekStartsOn:r}):m,b=t.viewEnd,w=void 0===b?e.endOfWeek(a,{weekStartsOn:r}):b;i||(i=[]);var k=e.endOfDay,C=re(e,{events:i,periodStart:y=(0,e.startOfDay)(y),periodEnd:w=k(w)}),D=ce(e,{viewDate:a,weekStartsOn:r,excluded:c,weekendDays:f,viewStart:y,viewEnd:w});return{allDayEventRows:le(e,{events:i,excluded:c,precision:s,absolutePositionedEvents:u,viewStart:y,viewEnd:w,eventsInPeriod:C}),period:{events:C,start:D[0].date,end:k(D[D.length-1].date)},hourColumns:se(e,{events:i,viewDate:a,hourSegments:p,dayStart:h,dayEnd:v,weekStartsOn:r,excluded:c,weekendDays:f,segmentHeight:g,viewStart:y,viewEnd:w})}}(this.dateAdapter,e)}}]),e}()).\u0275fac=function(e){return new(e||li)(a.kc(Pn))},li.\u0275prov=a.Sb({token:li,factory:li.\u0275fac}),li),Vi=((ci=function(){function e(t){_classCallCheck(this,e),this.i18nPlural=t}return _createClass(e,[{key:"monthCell",value:function(e){var t=e.day,n=e.locale;return t.badgeTotal>0?"\n        ".concat(Object(r.K)(t.date,"EEEE MMMM d",n),",\n        ").concat(this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"}),",\n         click to expand\n      "):"".concat(Object(r.K)(t.date,"EEEE MMMM d",n))}},{key:"openDayEventsLandmark",value:function(e){var t=e.date,n=e.locale;return"\n      Beginning of expanded view for ".concat(Object(r.K)(t,"EEEE MMMM dd",n),"\n    ")}},{key:"openDayEventsAlert",value:function(e){var t=e.date,n=e.locale;return"".concat(Object(r.K)(t,"EEEE MMMM dd",n)," expanded")}},{key:"eventDescription",value:function(e){var t=e.event,n=e.locale;if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:n});var i="\n      ".concat(Object(r.K)(t.start,"EEEE MMMM dd",n),",\n      ").concat(t.title,", from ").concat(Object(r.K)(t.start,"hh:mm a",n),"\n    ");return t.end?i+" to ".concat(Object(r.K)(t.end,"hh:mm a",n)):i}},{key:"allDayEventDescription",value:function(e){var t=e.event,n=e.locale,i="\n      ".concat(t.title,", event spans multiple days:\n      start time ").concat(Object(r.K)(t.start,"MMMM dd hh:mm a",n),"\n    ");return t.end?i+", stop time ".concat(Object(r.K)(t.end,"MMMM d hh:mm a",n)):i+", no stop time"}},{key:"actionButtonLabel",value:function(e){return e.action.a11yLabel}},{key:"monthCellTabIndex",value:function(){return 0}},{key:"hideMonthCellEvents",value:function(){return!0}},{key:"hideEventTitle",value:function(){return!0}},{key:"hideWeekHourSegment",value:function(){return!0}},{key:"hideDayHourSegment",value:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||ci)(a.kc(r.j))},ci.\u0275prov=a.Sb({token:ci,factory:ci.\u0275fac}),ci),Li=((oi=function(){function e(t,n){_classCallCheck(this,e),this.calendarA11y=t,this.locale=n}return _createClass(e,[{key:"transform",value:function(e,t){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[t]){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(Vi.prototype)).filter((function(e){return"constructor"!==e}));throw new Error("".concat(t," is not a valid a11y method. Can only be one of ").concat(n.join(", ")))}return this.calendarA11y[t](e)}}]),e}()).\u0275fac=function(e){return new(e||oi)(a.Wb(Vi),a.Wb(a.w))},oi.\u0275pipe=a.Vb({name:"calendarA11y",type:oi,pure:!0}),oi),Xi=new a.s("Moment"),qi=((pi=function(){function e(t,n){_classCallCheck(this,e),this.moment=t,this.dateAdapter=n}return _createClass(e,[{key:"monthViewColumnHeader",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd")}},{key:"monthViewDayNumber",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("D")}},{key:"monthViewTitle",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("MMMM YYYY")}},{key:"weekViewColumnHeader",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd")}},{key:"weekViewColumnSubHeader",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("MMM D")}},{key:"weekViewTitle",value:function(e){var t=this,n=e.date,i=e.locale,a=e.weekStartsOn,r=e.excludeDays,o=e.daysInWeek,c=_n(this.dateAdapter,n,a,r,o),l=c.viewStart,s=c.viewEnd,d=function(e,n){return t.moment(e).locale(i).format("MMM D"+(n?", YYYY":""))};return"".concat(d(l,l.getUTCFullYear()!==s.getUTCFullYear())," - ").concat(d(s,!0))}},{key:"weekViewHour",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("ha")}},{key:"dayViewHour",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("ha")}},{key:"dayViewTitle",value:function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd, D MMMM, YYYY")}}]),e}()).\u0275fac=function(e){return new(e||pi)(a.kc(Xi),a.kc(Pn))},pi.\u0275prov=a.Sb({token:pi,factory:pi.\u0275fac}),pi),Ki=function(e){return e.Drag="drag",e.Drop="drop",e.Resize="resize",e}({}),Ni=((mi=hi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:hi,providers:[e,t.eventTitleFormatter||Wi,t.dateFormatter||Ii,t.utils||ji,t.a11y||Vi]}}}]),e}()).\u0275mod=a.Ub({type:mi}),mi.\u0275inj=a.Tb({factory:function(e){return new(e||mi)},providers:[r.j],imports:[[r.c]]}),mi),Qi=((gi=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.cdr=t,this.utils=n,this.dateAdapter=r,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new a.o,this.dayClicked=new a.o,this.eventClicked=new a.o,this.columnHeaderClicked=new a.o,this.eventTimesChanged=new a.o,this.trackByRowOffset=function(e,t){return o.view.days.slice(t,o.view.totalDaysVisibleInWeek).map((function(e){return e.date.toISOString()})).join("-")},this.trackByDate=function(e,t){return t.date.toISOString()},this.locale=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe((function(){e.refreshAll(),e.cdr.markForCheck()})))}},{key:"ngOnChanges",value:function(e){var t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&Fn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}},{key:"ngOnDestroy",value:function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}},{key:"toggleDayHighlight",value:function(e,t){this.view.days.forEach((function(n){t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor}))}},{key:"eventDropped",value:function(e,t,n){if(e!==n){var i,a=this.dateAdapter.getYear(e.date),r=this.dateAdapter.getMonth(e.date),o=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,a),r),o);if(t.end){var l=this.dateAdapter.differenceInSeconds(c,t.start);i=this.dateAdapter.addSeconds(t.end,l)}this.eventTimesChanged.emit({event:t,newStart:c,newEnd:i,day:e,type:Ki.Drop})}}},{key:"refreshHeader",value:function(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}},{key:"refreshBody",value:function(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}},{key:"checkActiveDayIsOpen",value:function(){var e=this;if(!0===this.activeDayIsOpen){var t=this.activeDay||this.viewDate;this.openDay=this.view.days.find((function(n){return e.dateAdapter.isSameDay(n.date,t)}));var n=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(n/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}},{key:"refreshAll",value:function(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}},{key:"emitBeforeViewRender",value:function(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}]),e}()).\u0275fac=function(e){return new(e||gi)(a.Wb(a.h),a.Wb(ji),a.Wb(a.w),a.Wb(Pn))},gi.\u0275cmp=a.Qb({type:gi,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[a.Fb()],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"mwl-calendar-month-view-header",1),a.oc("columnHeaderClicked",(function(e){return t.columnHeaderClicked.emit(e)})),a.bc(),a.cc(2,"div",2),a.Yc(3,kt,5,13,"div",3),a.bc(),a.bc()),2&e&&(a.Hb(1),a.zc("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),a.Hb(2),a.zc("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[Gi,r.t,Ji,je,Ui,r.r,r.x,Yi,Fi]},pipes:function(){return[r.F,Li]},encapsulation:2}),gi),Gi=((fi=function e(){_classCallCheck(this,e),this.columnHeaderClicked=new a.o,this.trackByWeekDayHeaderDate=Xn}).\u0275fac=function(e){return new(e||fi)},fi.\u0275cmp=a.Qb({type:fi,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(a.Yc(0,Dt,2,2,"ng-template",null,0,a.Zc),a.Yc(2,xt,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Fc(2,Et,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[r.B,r.t,r.r],pipes:[Bi],encapsulation:2}),fi),Ui=((vi=function e(){_classCallCheck(this,e),this.highlightDay=new a.o,this.unhighlightDay=new a.o,this.eventClicked=new a.o,this.trackByEventId=Ln,this.validateDrag=$n}).\u0275fac=function(e){return new(e||vi)},vi.\u0275cmp=a.Qb({type:vi,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&a.Mb("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(a.Yc(0,Rt,8,14,"ng-template",null,0,a.Zc),a.Yc(2,Ht,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Kc(2,It,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[r.B,r.u,r.t,We,r.x,r.r,Wn,Yi],pipes:[Li,Bi,Pi],encapsulation:2}),vi),Zi=Object(rt.p)("collapse",[Object(rt.m)("void",Object(rt.n)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Object(rt.m)("*",Object(rt.n)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Object(rt.o)("* => void",Object(rt.e)("150ms ease-out")),Object(rt.o)("void => *",Object(rt.e)("150ms ease-in"))]),Ji=((bi=function e(){_classCallCheck(this,e),this.isOpen=!1,this.eventClicked=new a.o,this.trackByEventId=Ln,this.validateDrag=$n}).\u0275fac=function(e){return new(e||bi)},bi.\u0275cmp=a.Qb({type:bi,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(a.Yc(0,jt,1,1,"ng-template",null,0,a.Zc),a.Yc(2,Vt,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Hc(2,Lt,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[r.B,r.u,r.t,We,r.r,r.x,In,Yi,Fi,Hn],pipes:[Li],encapsulation:2,data:{animation:[Zi]}}),bi),_i=((yi=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:yi}),yi.\u0275inj=a.Tb({factory:function(e){return new(e||yi)},imports:[[r.c,Ve,Ni],Ve]}),yi),$i=function(){function e(t,n){_classCallCheck(this,e),this.dragContainerElement=t,this.startPosition=n.getBoundingClientRect()}return _createClass(e,[{key:"validateDrag",value:function(e){var t=e.x,n=e.y,i=e.snapDraggedEvents,a=e.dragAlreadyMoved,r=e.transform;if(i){var o=Object.assign({},this.startPosition,{left:this.startPosition.left+r.x,right:this.startPosition.right+r.x,top:this.startPosition.top+r.y,bottom:this.startPosition.bottom+r.y});return($n({x:t,y:n})||a)&&jn(this.dragContainerElement.getBoundingClientRect(),o)}return $n({x:t,y:n})||a}}]),e}(),ea=function(){function e(t,n){_classCallCheck(this,e),this.resizeContainerElement=t,this.minWidth=n}return _createClass(e,[{key:"validateResize",value:function(e){var t=e.rectangle;return!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&jn(this.resizeContainerElement.getBoundingClientRect(),t)}}]),e}(),ta=((Ti=function(){function e(t,n,i,r){_classCallCheck(this,e),this.cdr=t,this.utils=n,this.dateAdapter=r,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new a.o,this.eventClicked=new a.o,this.eventTimesChanged=new a.o,this.beforeViewRender=new a.o,this.hourSegmentClicked=new a.o,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=Xn,this.trackByHourSegment=qn,this.trackByHour=Kn,this.trackByWeekAllDayEvent=Nn,this.trackByWeekTimeEvent=Qn,this.trackByHourColumn=function(e,t){return t.hours[0]?t.hours[0].segments[0].date.toISOString():t},this.trackById=function(e,t){return t.id},this.locale=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe((function(){e.refreshAll(),e.cdr.markForCheck()})))}},{key:"ngOnChanges",value:function(e){var t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&Fn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()}},{key:"ngOnDestroy",value:function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}},{key:"resizeStarted",value:function(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);var n=new ea(e,t);this.validateResize=function(e){var t=e.rectangle;return n.validateResize({rectangle:t})},this.cdr.markForCheck()}},{key:"timeEventResizeStarted",value:function(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)}},{key:"timeEventResizing",value:function(e,t){var n=this;this.timeEventResizes.set(e.event,t);var i=new Map,a=_toConsumableArray(this.events);this.timeEventResizes.forEach((function(e,t){var r=n.getTimeEventResizedDates(t,e),o=Object.assign({},t,r);i.set(o,t);var c=a.indexOf(t);a[c]=o})),this.restoreOriginalEvents(a,i)}},{key:"timeEventResizeEnded",value:function(e){this.view=this.getWeekView(this.events);var t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);var n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:Ki.Resize})}}},{key:"allDayEventResizeStarted",value:function(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}},{key:"allDayEventResizing",value:function(e,t,n){var i=this.allDayEventResizes.get(e);if(void 0!==t.edges.left){var a=Math.round(+t.edges.left/n);e.offset=i.originalOffset+a,e.span=i.originalSpan-a}else if(void 0!==t.edges.right){var r=Math.round(+t.edges.right/n);e.span=i.originalSpan+r}}},{key:"allDayEventResizeEnded",value:function(e){var t=this.allDayEventResizes.get(e);if(t){var n,i="left"===t.edge;n=i?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;var a=e.event.start,r=e.event.end||e.event.start;i?a=Jn(this.dateAdapter,a,n,this.excludeDays):r=Jn(this.dateAdapter,r,n,this.excludeDays),this.eventTimesChanged.emit({newStart:a,newEnd:r,event:e.event,type:Ki.Resize}),this.allDayEventResizes.delete(e)}}},{key:"getDayColumnWidth",value:function(e){return Math.floor(e.offsetWidth/this.days.length)}},{key:"dateDragEnter",value:function(e){this.lastDragEnterDate=e}},{key:"eventDropped",value:function(e,t,n){(function(e,t,n,i){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==i||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)})(e,0,n,this.calendarId)&&this.lastDragEnterDate.getTime()===t.getTime()&&this.eventTimesChanged.emit({type:Ki.Drop,event:e.dropData.event,newStart:t,allDay:n})}},{key:"dragEnter",value:function(e){this.eventDragEnterByType[e]++}},{key:"dragLeave",value:function(e){this.eventDragEnterByType[e]--}},{key:"dragStarted",value:function(e,t,n){var i=this;this.dayColumnWidth=this.getDayColumnWidth(e);var a=new $i(e,t);this.validateDrag=function(e){var t=e.x,n=e.y,r=e.transform;return 0===i.allDayEventResizes.size&&0===i.timeEventResizes.size&&a.validateDrag({x:t,y:n,snapDraggedEvents:i.snapDraggedEvents,dragAlreadyMoved:i.dragAlreadyMoved,transform:r})},this.dragActive=!0,this.dragAlreadyMoved=!1,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach((function(e){var t=e.events.find((function(e){return e.event===n.event&&e!==n}));t&&(t.width=0,t.height=0)})),this.cdr.markForCheck()}},{key:"dragMove",value:function(e,t){if(this.snapDraggedEvents){var n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),i=e.event,a=Object.assign({},i,n),r=this.events.map((function(e){return e===i?a:e}));this.restoreOriginalEvents(r,new Map([[a,i]]))}this.dragAlreadyMoved=!0}},{key:"allDayEventDragMove",value:function(){this.dragAlreadyMoved=!0}},{key:"dragEnded",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.view=this.getWeekView(this.events),this.dragActive=!1;var a=this.getDragMovedEventTimes(e,t,n,i),r=a.start,o=a.end;this.eventDragEnterByType[i?"time":"allDay"]>0&&function(e,t,n){var i=t||e;return n.start<=e&&e<=n.end||n.start<=i&&i<=n.end}(r,o,this.view.period)&&this.eventTimesChanged.emit({newStart:r,newEnd:o,event:e.event,type:Ki.Drag,allDay:!i})}},{key:"refreshHeader",value:function(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},_n(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}},{key:"refreshBody",value:function(){this.view=this.getWeekView(this.events)}},{key:"refreshAll",value:function(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}},{key:"emitBeforeViewRender",value:function(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}},{key:"getWeekView",value:function(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},_n(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}},{key:"getDragMovedEventTimes",value:function(e,t,n,i){var a,r=Vn(t.x,n)/n,o=i?Un(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,c=this.dateAdapter.addMinutes(Jn(this.dateAdapter,e.event.start,r,this.excludeDays),o);return e.event.end&&(a=this.dateAdapter.addMinutes(Jn(this.dateAdapter,e.event.end,r,this.excludeDays),o)),{start:c,end:a}}},{key:"restoreOriginalEvents",value:function(e,t){var n=this.view;this.view=this.getWeekView(e);var i=e.filter((function(e){return t.has(e)}));this.view.hourColumns.forEach((function(e,a){n.hourColumns[a].hours.forEach((function(t,n){t.segments.forEach((function(t,i){e.hours[n].segments[i].cssClass=t.cssClass}))})),i.forEach((function(n){var i=t.get(n),a=e.events.find((function(e){return e.event===n}));a?a.event=i:e.events.push({event:i,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1})}))})),t.clear()}},{key:"getTimeEventResizedDates",value:function(e,t){var n,i=Gn(this.hourSegments,n=this.hourSegmentHeight)*n,a={start:e.start,end:Zn(this.dateAdapter,e,i)},r=Object(j.__rest)(e,["end"]),o={start:this.dateAdapter.addMinutes(a.end,-1*i),end:Zn(this.dateAdapter,r,i)};if(void 0!==t.edges.left){var c=Math.round(+t.edges.left/this.dayColumnWidth),l=Jn(this.dateAdapter,a.start,c,this.excludeDays);a.start=l<o.start?l:o.start}else if(void 0!==t.edges.right){var s=Math.round(+t.edges.right/this.dayColumnWidth),d=Jn(this.dateAdapter,a.end,s,this.excludeDays);a.end=d>o.end?d:o.end}if(void 0!==t.edges.top){var u=Un(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),p=this.dateAdapter.addMinutes(a.start,u);a.start=p<o.start?p:o.start}else if(void 0!==t.edges.bottom){var h=Un(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),v=this.dateAdapter.addMinutes(a.end,h);a.end=v>o.end?v:o.end}return a}}]),e}()).\u0275fac=function(e){return new(e||Ti)(a.Wb(a.h),a.Wb(ji),a.Wb(a.w),a.Wb(Pn))},Ti.\u0275cmp=a.Qb({type:Ti,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[a.Fb()],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"mwl-calendar-week-view-header",1),a.oc("dayHeaderClicked",(function(e){return t.dayHeaderClicked.emit(e)}))("eventDropped",(function(e){return t.eventDropped({dropData:e},e.newStart,!0)}))("dragEnter",(function(e){return t.dateDragEnter(e.date)})),a.bc(),a.Yc(2,$t,6,5,"div",2),a.cc(3,"div",3),a.oc("dragEnter",(function(){return t.dragEnter("time")}))("dragLeave",(function(){return t.dragLeave("time")})),a.Yc(4,nn,2,2,"div",4),a.cc(5,"div",5,6),a.Yc(7,pn,5,12,"div",7),a.bc(),a.bc(),a.bc()),2&e&&(a.Hb(1),a.zc("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),a.Hb(1),a.zc("ngIf",t.view.allDayEventRows.length>0),a.Hb(2),a.zc("ngIf",t.view.hourColumns.length>0&&1!==t.daysInWeek),a.Hb(1),a.Mb("cal-resize-active",t.timeEventResizes.size>0),a.Hb(2),a.zc("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[na,r.u,je,r.t,r.B,tt,We,r.r,ia,it,aa,ra,Yi]},encapsulation:2}),Ti),na=((Ai=function e(){_classCallCheck(this,e),this.dayHeaderClicked=new a.o,this.eventDropped=new a.o,this.dragEnter=new a.o,this.trackByWeekDayHeaderDate=Xn}).\u0275fac=function(e){return new(e||Ai)},Ai.\u0275cmp=a.Qb({type:Ai,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,t){if(1&e&&(a.Yc(0,vn,2,2,"ng-template",null,0,a.Zc),a.Yc(2,fn,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Ic(2,gn,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.dragEnter,t.trackByWeekDayHeaderDate))}},directives:[r.B,r.t,je,r.r,Yi],pipes:[Bi],encapsulation:2}),Ai),ia=((Ei=function e(){_classCallCheck(this,e),this.eventClicked=new a.o}).\u0275fac=function(e){return new(e||Ei)},Ei.\u0275cmp=a.Qb({type:Ei,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,t){if(1&e&&(a.Yc(0,yn,6,26,"ng-template",null,0,a.Zc),a.Yc(2,bn,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Kc(2,wn,[t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column,t.daysInWeek]))}},directives:[r.B,r.x,Wn,Yi,Fi,Hn,In],pipes:[Pi,Li],encapsulation:2}),Ei),aa=((xi=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||xi)},xi.\u0275cmp=a.Qb({type:xi,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(a.Yc(0,Cn,3,13,"ng-template",null,0,a.Zc),a.Yc(2,Dn,0,0,"ng-template",1)),2&e){var n=a.Mc(1);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",a.Hc(2,xn,t.segment,t.locale,t.segmentHeight,t.isTimeLabel,t.daysInWeek))}},directives:[r.B,r.r,r.u],pipes:[Li,Bi],encapsulation:2}),xi),ra=((Di=function(){function e(t,n){var i,a=this;_classCallCheck(this,e),this.dateAdapter=t,this.zone=n,this.columnDate$=new Q.a(this.columnDate),this.marker$=this.zone.onStable.pipe(Object(_.a)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.a;return(!Object(U.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=G.a),new N.a((function(n){return n.add(t.schedule(Z,e,{subscriber:n,counter:0,period:e})),n}))}(6e4)})),Object($.a)(0),(i=this.columnDate$,Object(_.a)((function(){return i}))),Object(ee.a)((function(e){var t=a.dateAdapter.setMinutes(a.dateAdapter.setHours(e,a.dayStartHour),a.dayStartMinute),n=a.dateAdapter.setMinutes(a.dateAdapter.setHours(e,a.dayEndHour),a.dayEndMinute),i=a.hourSegments*a.hourSegmentHeight/60,r=new Date;return{isVisible:a.dateAdapter.isSameDay(e,r)&&r>=t&&r<=n,top:a.dateAdapter.differenceInMinutes(r,t)*i}})))}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}]),e}()).\u0275fac=function(e){return new(e||Di)(a.Wb(Pn),a.Wb(a.C))},Di.\u0275cmp=a.Qb({type:Di,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[a.Fb()],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,t){if(1&e&&(a.Yc(0,An,1,1,"ng-template",null,0,a.Zc),a.Yc(2,Tn,0,0,"ng-template",1),a.tc(3,"async"),a.tc(4,"async")),2&e){var n=a.Mc(1),i=null,r=a.Jc(6,Rn,t.columnDate,t.dayStartHour,t.dayStartMinute,t.dayEndHour,t.dayEndMinute,null==(i=a.uc(3,2,t.marker$))?null:i.isVisible,null==(i=a.uc(4,4,t.marker$))?null:i.top);a.Hb(2),a.zc("ngTemplateOutlet",t.customTemplate||n)("ngTemplateOutletContext",r)}},directives:[r.B,r.u],pipes:[r.b],encapsulation:2}),Di),oa=((Ci=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:Ci}),Ci.\u0275inj=a.Tb({factory:function(e){return new(e||Ci)},imports:[[r.c,at,Ve,Ni],at,Ve]}),Ci),ca=((ki=function e(){_classCallCheck(this,e),this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new a.o,this.hourSegmentClicked=new a.o,this.eventTimesChanged=new a.o,this.beforeViewRender=new a.o}).\u0275fac=function(e){return new(e||ki)},ki.\u0275cmp=a.Qb({type:ki,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:23,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourSegmentHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,t){1&e&&(a.cc(0,"mwl-calendar-week-view",0),a.oc("eventClicked",(function(e){return t.eventClicked.emit(e)}))("hourSegmentClicked",(function(e){return t.hourSegmentClicked.emit(e)}))("eventTimesChanged",(function(e){return t.eventTimesChanged.emit(e)}))("beforeViewRender",(function(e){return t.beforeViewRender.emit(e)})),a.bc()),2&e&&a.zc("daysInWeek",1)("viewDate",t.viewDate)("events",t.events)("hourSegments",t.hourSegments)("hourSegmentHeight",t.hourSegmentHeight)("dayStartHour",t.dayStartHour)("dayStartMinute",t.dayStartMinute)("dayEndHour",t.dayEndHour)("dayEndMinute",t.dayEndMinute)("refresh",t.refresh)("locale",t.locale)("eventSnapSize",t.eventSnapSize)("tooltipPlacement",t.tooltipPlacement)("tooltipTemplate",t.tooltipTemplate)("tooltipAppendToBody",t.tooltipAppendToBody)("tooltipDelay",t.tooltipDelay)("hourSegmentTemplate",t.hourSegmentTemplate)("eventTemplate",t.eventTemplate)("eventTitleTemplate",t.eventTitleTemplate)("eventActionsTemplate",t.eventActionsTemplate)("snapDraggedEvents",t.snapDraggedEvents)("allDayEventsLabelTemplate",t.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",t.currentTimeMarkerTemplate)},directives:[ta],encapsulation:2}),ki),la=((wi=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:wi}),wi.\u0275inj=a.Tb({factory:function(e){return new(e||wi)},imports:[[r.c,Ni,oa]]}),wi),sa=((Oi=Si=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Si,providers:[e,t.eventTitleFormatter||Wi,t.dateFormatter||Ii,t.utils||ji,t.a11y||Vi]}}}]),e}()).\u0275mod=a.Ub({type:Oi}),Oi.\u0275inj=a.Tb({factory:function(e){return new(e||Oi)},imports:[[Ni,_i,oa,la],Ni,_i,oa,la]}),Oi),da=a.ec(Ii),ua=n("0BIi"),pa=n("NuY5"),ha=n("M34a"),va=n("/Tr7"),fa=n("jIYg"),ga=n("Pm6R"),ma=n("HY3y"),ya=function e(t){_classCallCheck(this,e),t=t||{},this.start=new Date(t.start)||Object(ha.a)(new Date),this.end=new Date(t.end)||function(e){Object(fa.a)(1,arguments);var t=Object(va.a)(e);return t.setHours(23,59,59,999),t}(new Date),this.title=t.title||"",this.color={primary:t.color&&t.color.primary||"#1e90ff",secondary:t.color&&t.color.secondary||"#D1E8FF"},this.draggable=t.draggable||!0,this.resizable={beforeStart:t.resizable&&t.resizable.beforeStart||!0,afterEnd:t.resizable&&t.resizable.afterEnd||!0},this.actions=t.actions||[],this.allDay=t.allDay||!1,this.cssClass=t.cssClass||"",this.meta={location:t.meta&&t.meta.location||"",notes:t.meta&&t.meta.notes||""}},ba=n("3Pt+"),wa=n("uT8g"),ka=n("0IaG"),Ca=n("/t3+"),Da=n("XiUz"),xa=n("bTqV"),Ea=n("NFeN"),Aa=n("cpli"),Ta=n("kmnG"),Sa=n("qFsG"),Oa=n("1jcm"),za=n("iadO");function Ma(e,t){if(1&e){var n=a.dc();a.cc(0,"button",31),a.oc("click",(function(){a.Qc(n);var e=a.sc();return e.matDialogRef.close(e.eventForm)})),a.ad(1," SAVE "),a.bc()}if(2&e){var i=a.sc();a.zc("disabled",i.eventForm.invalid)}}function Ra(e,t){if(1&e){var n=a.dc();a.cc(0,"button",31),a.oc("click",(function(){a.Qc(n);var e=a.sc();return e.matDialogRef.close(["save",e.eventForm])})),a.ad(1," SAVE "),a.bc()}if(2&e){var i=a.sc();a.zc("disabled",i.eventForm.invalid)}}function Ha(e,t){if(1&e){var n=a.dc();a.cc(0,"button",32),a.oc("click",(function(){a.Qc(n);var e=a.sc();return e.matDialogRef.close(["delete",e.eventForm])})),a.cc(1,"mat-icon"),a.ad(2,"delete"),a.bc(),a.bc()}}var Ia,Ba,Wa,Pa=((Ia=function(){function e(t,n,i){_classCallCheck(this,e),this.matDialogRef=t,this._data=n,this._formBuilder=i,this.presetColors=wa.a.presets,this.event=n.event,this.action=n.action,"edit"===this.action?this.dialogTitle=this.event.title:(this.dialogTitle="New Event",this.event=new ya({start:n.date,end:n.date})),this.eventForm=this.createEventForm()}return _createClass(e,[{key:"createEventForm",value:function(){return new ba.g({title:new ba.d(this.event.title),start:new ba.d(this.event.start),end:new ba.d(this.event.end),allDay:new ba.d(this.event.allDay),color:this._formBuilder.group({primary:new ba.d(this.event.color.primary),secondary:new ba.d(this.event.color.secondary)}),meta:this._formBuilder.group({location:new ba.d(this.event.meta.location),notes:new ba.d(this.event.meta.notes)})})}}]),e}()).\u0275fac=function(e){return new(e||Ia)(a.Wb(ka.f),a.Wb(ka.a),a.Wb(ba.c))},Ia.\u0275cmp=a.Qb({type:Ia,selectors:[["calendar-event-form-dialog"]],decls:45,vars:17,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","persoInfoPerfectScrollbar","",1,"p-24","m-0"],["name","eventForm","fxLayout","column","fxFlex","",1,"event-form","w-100-p",3,"formGroup"],[1,"w-100-p"],["matInput","","name","title","formControlName","title","placeholder","Title","required",""],["fxFlex","1 0 auto","fxLayout","row",1,"py-16"],["name","allDay","formControlName","allDay","aria-label","All day",1,"mr-24"],["fxFlex","1 0 auto","fxLayout","column","fxLayout.gt-xs","row","formGroupName","color",1,"py-16"],["fxFlex","",1,"mr-sm-24"],["matInput","","name","primary color","formControlName","primary","placeholder","Primary color","cpWidth","290px",1,"primary-color-input",3,"colorPicker","cpPresetColors","colorPickerChange"],["fxFlex",""],["matInput","","name","secondary color","formControlName","secondary","placeholder","Secondary color","cpWidth","290px",1,"secondary-color-input",3,"colorPicker","cpPresetColors","colorPickerChange"],["fxFlex","1 0 auto","fxLayout","column","fxLayout.gt-xs","row"],["matInput","","placeholder","Start Date","name","start","formControlName","start",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["fxFlex","","mat-no-float","",1,"no-errors-spacer"],["matInput","","placeholder","Start Time"],["matInput","","placeholder","End Date","name","end","formControlName","end",3,"matDatepicker"],["endDatePicker",""],["matInput","","placeholder","End Time"],["formGroupName","meta",1,"w-100-p"],["matInput","","name","location","formControlName","location","placeholder","Location"],["matInput","","formControlName","notes","placeholder","Notes","mat-maxlength","250","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","class","save-button mat-accent","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-raised-button","","aria-label","SAVE",1,"save-button","mat-accent",3,"disabled","click"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"mat-toolbar",1),a.cc(2,"mat-toolbar-row",2),a.cc(3,"span",3),a.ad(4),a.bc(),a.cc(5,"button",4),a.oc("click",(function(){return t.matDialogRef.close()})),a.cc(6,"mat-icon"),a.ad(7,"close"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(8,"div",5),a.cc(9,"form",6),a.cc(10,"mat-form-field",7),a.Xb(11,"input",8),a.bc(),a.cc(12,"div",9),a.cc(13,"mat-slide-toggle",10),a.ad(14," All Day "),a.bc(),a.bc(),a.cc(15,"div",11),a.cc(16,"mat-form-field",12),a.cc(17,"input",13),a.oc("colorPickerChange",(function(e){return t.event.color.primary=e}))("colorPickerChange",(function(e){return t.event.color.primary=e,t.eventForm.patchValue({color:{primary:e}})})),a.bc(),a.bc(),a.cc(18,"mat-form-field",14),a.cc(19,"input",15),a.oc("colorPickerChange",(function(e){return t.event.color.secondary=e}))("colorPickerChange",(function(e){return t.event.color.secondary=e,t.eventForm.patchValue({color:{secondary:e}})})),a.bc(),a.bc(),a.bc(),a.cc(20,"div",16),a.cc(21,"mat-form-field",12),a.Xb(22,"input",17),a.Xb(23,"mat-datepicker-toggle",18),a.Xb(24,"mat-datepicker",null,19),a.bc(),a.cc(26,"mat-form-field",20),a.Xb(27,"input",21),a.bc(),a.bc(),a.cc(28,"div",16),a.cc(29,"mat-form-field",12),a.Xb(30,"input",22),a.Xb(31,"mat-datepicker-toggle",18),a.Xb(32,"mat-datepicker",null,23),a.bc(),a.cc(34,"mat-form-field",20),a.Xb(35,"input",24),a.bc(),a.bc(),a.cc(36,"mat-form-field",25),a.Xb(37,"input",26),a.bc(),a.cc(38,"mat-form-field",25),a.cc(39,"textarea",27),a.ad(40,"                "),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(41,"div",28),a.Yc(42,Ma,2,1,"button",29),a.Yc(43,Ra,2,1,"button",29),a.Yc(44,Ha,3,0,"button",30),a.bc(),a.bc()),2&e){var n=a.Mc(25),i=a.Mc(33);a.Hb(4),a.bd(t.dialogTitle),a.Hb(5),a.zc("formGroup",t.eventForm),a.Hb(8),a.Xc("background",t.event.color.primary,a.Pb),a.zc("colorPicker",t.event.color.primary)("cpPresetColors",t.presetColors),a.Hb(2),a.Xc("background",t.event.color.secondary,a.Pb),a.zc("colorPicker",t.event.color.secondary)("cpPresetColors",t.presetColors),a.Hb(3),a.zc("matDatepicker",n),a.Hb(1),a.zc("for",n),a.Hb(7),a.zc("matDatepicker",i),a.Hb(1),a.zc("for",i),a.Hb(11),a.zc("ngIf","edit"!==t.action),a.Hb(1),a.zc("ngIf","edit"===t.action),a.Hb(1),a.zc("ngIf","edit"===t.action)}},directives:[Ca.a,Ca.c,Da.b,Da.e,Da.d,xa.b,Ea.a,ka.d,Aa.a,ba.x,ba.p,ba.h,Ta.b,Sa.b,ba.b,ba.o,ba.f,ba.u,Oa.a,ba.i,Y,za.b,za.d,Ta.g,za.a,ka.c,r.u],styles:[".event-form-dialog{width:480px}@media screen and (max-width:599px){.event-form-dialog{width:100%}}.event-form-dialog .mat-dialog-container{padding:0}.event-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.event-form-dialog .primary-color-input,.event-form-dialog .secondary-color-input{padding:6px 8px}"],encapsulation:2}),Ia),Ya=n("wd/R"),Fa=((Ba=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"month",value:function(e){return e.title}}]),t}(Wi)).\u0275fac=function(e){return ja(e||Ba)},Ba.\u0275prov=a.Sb({token:Ba,factory:Ba.\u0275fac}),Ba),ja=a.ec(Fa),Va=n("tk/3"),La=((Wa=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.onEventsUpdated=new X.a}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this;return new Promise((function(e,t){Promise.all([n.getEvents()]).then((function(t){_slicedToArray(t,1)[0],e()}),t)}))}},{key:"getEvents",value:function(){var e=this;return new Promise((function(t,n){e._httpClient.get("api/calendar/events").subscribe((function(n){e.events=n.data,e.onEventsUpdated.next(e.events),t(e.events)}),n)}))}},{key:"updateEvents",value:function(e){var t=this;return new Promise((function(n,i){t._httpClient.post("api/calendar/events",{id:"events",data:_toConsumableArray(e)}).subscribe((function(e){t.getEvents()}),i)}))}}]),e}()).\u0275fac=function(e){return new(e||Wa)(a.kc(Va.c))},Wa.\u0275prov=a.Sb({token:Wa,factory:Wa.\u0275fac}),Wa),Xa=n("znSr");function qa(e,t){if(1&e){var n=a.dc();a.cc(0,"mwl-calendar-month-view",22),a.oc("dayClicked",(function(e){return a.Qc(n),a.sc().dayClicked(e.day)}))("eventClicked",(function(e){return a.Qc(n),a.sc().editEvent("edit",e.event)}))("eventTimesChanged",(function(e){return a.Qc(n),a.sc().eventTimesChanged(e)}))("beforeViewRender",(function(e){return a.Qc(n),a.sc().beforeMonthViewRender(e)})),a.bc()}if(2&e){var i=a.sc();a.zc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function Ka(e,t){if(1&e){var n=a.dc();a.cc(0,"mwl-calendar-week-view",23),a.oc("viewDateChange",(function(e){return a.Qc(n),a.sc().selectedDay={date:e}}))("dayClicked",(function(e){return a.Qc(n),a.sc().dayClicked(e.day)}))("eventClicked",(function(e){return a.Qc(n),a.sc().editEvent("edit",e.event)}))("eventTimesChanged",(function(e){return a.Qc(n),a.sc().eventTimesChanged(e)})),a.bc()}if(2&e){var i=a.sc();a.zc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}function Na(e,t){if(1&e){var n=a.dc();a.cc(0,"mwl-calendar-day-view",23),a.oc("viewDateChange",(function(e){return a.Qc(n),a.sc().selectedDay={date:e}}))("dayClicked",(function(e){return a.Qc(n),a.sc().dayClicked(e.day)}))("eventClicked",(function(e){return a.Qc(n),a.sc().editEvent("edit",e.event)}))("eventTimesChanged",(function(e){return a.Qc(n),a.sc().eventTimesChanged(e)})),a.bc()}if(2&e){var i=a.sc();a.zc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}var Qa,Ga=function(){return{delay:"50ms",scale:"0.2"}},Ua=function(e){return{value:"*",params:e}},Za=function(){return{delay:"100ms",x:"-25px"}},Ja=function(){return{delay:"150ms"}},_a=function(){return{delay:"300ms",scale:"0.2"}},$a=function(){return{delay:"200ms",y:"50px"}},er=((Qa=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._matDialog=t,this._calendarService=n,this.refresh=new X.a,this.view="month",this.viewDate=new Date,this.activeDayIsOpen=!0,this.selectedDay={date:Object(ha.a)(new Date)},this.actions=[{label:'<i class="material-icons s-16">edit</i>',onClick:function(e){var t=e.event;i.editEvent("edit",t)}},{label:'<i class="material-icons s-16">delete</i>',onClick:function(e){var t=e.event;i.deleteEvent(t)}}],this.setEvents()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.refresh.subscribe((function(t){t&&e._calendarService.updateEvents(e.events)})),this._calendarService.onEventsUpdated.subscribe((function(t){e.setEvents(),e.refresh.next()}))}},{key:"setEvents",value:function(){var e=this;this.events=this._calendarService.events.map((function(t){return t.actions=e.actions,new ya(t)}))}},{key:"beforeMonthViewRender",value:function(e){var t=this,n=e.body.find((function(e){return e.date.getTime()===t.selectedDay.date.getTime()}));n&&(n.cssClass="mat-elevation-z3")}},{key:"dayClicked",value:function(e){var t=e.date,n=e.events;(function(e,t){Object(fa.a)(2,arguments);var n=Object(va.a)(e),i=Object(va.a)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()})(t,this.viewDate)&&(function(e,t){Object(fa.a)(2,arguments);var n=Object(ha.a)(e),i=Object(ha.a)(t);return n.getTime()===i.getTime()}(this.viewDate,t)&&!0===this.activeDayIsOpen||0===n.length?this.activeDayIsOpen=!1:(this.activeDayIsOpen=!0,this.viewDate=t)),this.selectedDay=e,this.refresh.next()}},{key:"eventTimesChanged",value:function(e){var t=e.event,n=e.newStart,i=e.newEnd;t.start=n,t.end=i,this.refresh.next(!0)}},{key:"deleteEvent",value:function(e){var t=this;this.confirmDialogRef=this._matDialog.open(ga.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe((function(n){if(n){var i=t.events.indexOf(e);t.events.splice(i,1),t.refresh.next(!0)}t.confirmDialogRef=null}))}},{key:"editEvent",value:function(e,t){var n=this,i=this.events.indexOf(t);this.dialogRef=this._matDialog.open(Pa,{panelClass:"event-form-dialog",data:{event:t,action:e}}),this.dialogRef.afterClosed().subscribe((function(e){if(e){var a=e[1];switch(e[0]){case"save":n.events[i]=Object.assign(n.events[i],a.getRawValue()),n.refresh.next(!0);break;case"delete":n.deleteEvent(t)}}}))}},{key:"addEvent",value:function(){var e=this;this.dialogRef=this._matDialog.open(Pa,{panelClass:"event-form-dialog",data:{action:"new",date:this.selectedDay.date}}),this.dialogRef.afterClosed().subscribe((function(t){if(t){var n=t.getRawValue();n.actions=e.actions,e.events.push(n),e.refresh.next(!0)}}))}}]),e}()).\u0275fac=function(e){return new(e||Qa)(a.Wb(ka.b),a.Wb(La))},Qa.\u0275cmp=a.Qb({type:Qa,selectors:[["calendar"]],features:[a.Gb([{provide:Ii,useClass:qi},{provide:Xi,useValue:Ya},{provide:Wi,useClass:Fa}])],decls:44,vars:38,consts:[["id","calendar",1,"page-layout","simple","fullwidth"],[1,"header","p-16","p-sm-24",3,"ngClass"],["fxLayout","column","fxLayoutAlign","space-between",1,"header-content"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayout.xs","column",1,"header-top"],["fxLayout","row","fxLayoutAlign","start center",1,"logo","mb-16","mb-sm-0"],[1,"logo-icon"],[1,"logo-text"],["fxLayout","row","fxLayoutAlign","start center",1,"toolbar"],["mat-icon-button","","aria-label","Search","matTooltip","Search"],["mat-icon-button","","mwlCalendarToday","","aria-label","Today","matTooltip","Today",3,"viewDate","viewDateChange"],["mat-icon-button","","aria-label","Day","matTooltip","Day",3,"click"],["mat-icon-button","","aria-label","Week","matTooltip","Week",3,"click"],["mat-icon-button","","aria-label","Month","matTooltip","Month",3,"click"],["fxLayout","row","fxLayoutAlign","center center",1,"header-bottom"],["mat-icon-button","","mwlCalendarPreviousView","","aria-label","Previous",1,"arrow",3,"view","viewDate","viewDateChange"],[1,"title"],["mat-icon-button","","mwlCalendarNextView","","aria-label","Next",1,"arrow",3,"view","viewDate","viewDateChange"],["mat-fab","","aria-label","Add event",1,"add-event-button","mat-warn",3,"click"],["persoInfoPerfectScrollbar","",1,"content"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged","beforeViewRender",4,"ngSwitchCase"],[3,"viewDate","events","refresh","viewDateChange","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged","beforeViewRender"],[3,"viewDate","events","refresh","viewDateChange","dayClicked","eventClicked","eventTimesChanged"]],template:function(e,t){1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.tc(2,"date"),a.cc(3,"div",2),a.cc(4,"div",3),a.cc(5,"div",4),a.cc(6,"mat-icon",5),a.ad(7," today "),a.bc(),a.cc(8,"span",6),a.ad(9," Calendar "),a.bc(),a.bc(),a.cc(10,"div",7),a.cc(11,"button",8),a.cc(12,"mat-icon"),a.ad(13,"search"),a.bc(),a.bc(),a.cc(14,"button",9),a.oc("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(e){return t.selectedDay={date:e}})),a.cc(15,"mat-icon"),a.ad(16,"today"),a.bc(),a.bc(),a.cc(17,"button",10),a.oc("click",(function(){return t.view="day"})),a.cc(18,"mat-icon"),a.ad(19,"view_day"),a.bc(),a.bc(),a.cc(20,"button",11),a.oc("click",(function(){return t.view="week"})),a.cc(21,"mat-icon"),a.ad(22,"view_week"),a.bc(),a.bc(),a.cc(23,"button",12),a.oc("click",(function(){return t.view="month"})),a.cc(24,"mat-icon"),a.ad(25,"view_module"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(26,"div",13),a.cc(27,"button",14),a.oc("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(e){return t.selectedDay={date:e}})),a.cc(28,"mat-icon"),a.ad(29,"chevron_left"),a.bc(),a.bc(),a.cc(30,"div",15),a.ad(31),a.tc(32,"calendarDate"),a.bc(),a.cc(33,"button",16),a.oc("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(e){return t.selectedDay={date:e}})),a.cc(34,"mat-icon"),a.ad(35,"chevron_right"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(36,"button",17),a.oc("click",(function(){return t.addEvent()})),a.cc(37,"mat-icon"),a.ad(38,"add"),a.bc(),a.bc(),a.bc(),a.cc(39,"div",18),a.cc(40,"div",19),a.Yc(41,qa,1,4,"mwl-calendar-month-view",20),a.Yc(42,Ka,1,3,"mwl-calendar-week-view",21),a.Yc(43,Na,1,3,"mwl-calendar-day-view",21),a.bc(),a.bc(),a.bc()),2&e&&(a.Hb(1),a.zc("ngClass",a.vc(2,16,t.viewDate,"MMM")),a.Hb(5),a.zc("@animate",a.Dc(24,Ua,a.Cc(23,Ga))),a.Hb(2),a.zc("@animate",a.Dc(27,Ua,a.Cc(26,Za))),a.Hb(6),a.zc("viewDate",t.viewDate),a.Hb(12),a.zc("@animate",a.Dc(30,Ua,a.Cc(29,Ja))),a.Hb(1),a.zc("view",t.view)("viewDate",t.viewDate),a.Hb(4),a.cd(" ",a.wc(32,19,t.viewDate,t.view+"ViewTitle","en")," "),a.Hb(2),a.zc("view",t.view)("viewDate",t.viewDate),a.Hb(3),a.zc("@animate",a.Dc(33,Ua,a.Cc(32,_a))),a.Hb(3),a.zc("@animate",a.Dc(36,Ua,a.Cc(35,$a))),a.Hb(1),a.zc("ngSwitch",t.view),a.Hb(1),a.zc("ngSwitchCase","month"),a.Hb(1),a.zc("ngSwitchCase","week"),a.Hb(1),a.zc("ngSwitchCase","day"))},directives:[r.r,Xa.a,Da.e,Da.d,Ea.a,xa.b,Ri,zi,Mi,Aa.a,r.y,r.z,Qi,ta,ca],pipes:[r.f,Bi],styles:['@charset "UTF-8";.cal-month-view .cal-header{text-align:center;font-weight:bolder}.cal-month-view .cal-header .cal-cell{padding:5px 0;overflow:hidden;text-overflow:ellipsis;display:block;white-space:nowrap}.cal-month-view .cal-days{border:1px solid;border-bottom:0}.cal-month-view .cal-cell-top{min-height:78px;flex:1}.cal-month-view .cal-cell-row{display:flex}.cal-month-view .cal-cell{float:left;flex:1;display:flex;flex-direction:column;align-items:stretch}.cal-month-view .cal-day-cell{min-height:100px}@media (-ms-high-contrast:none){.cal-month-view .cal-day-cell{display:block}}.cal-month-view .cal-day-cell:not(:last-child){border-right:1px solid}.cal-month-view .cal-days .cal-cell-row{border-bottom:1px solid}.cal-month-view .cal-day-badge{margin-top:18px;margin-left:10px;display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:middle;border-radius:10px}.cal-month-view .cal-day-number{font-size:1.2em;font-weight:400;opacity:.5;margin-top:15px;margin-right:15px;float:right;margin-bottom:10px}.cal-month-view .cal-events{flex:1;align-items:flex-end;margin:3px;line-height:10px;display:flex;flex-wrap:wrap}.cal-month-view .cal-event{width:10px;height:10px;border-radius:50%;display:inline-block;margin:2px}.cal-month-view .cal-day-cell.cal-in-month.cal-has-events{cursor:pointer}.cal-month-view .cal-day-cell.cal-out-month .cal-day-number{opacity:.1;cursor:default}.cal-month-view .cal-day-cell.cal-today .cal-day-number{font-size:1.9em}.cal-month-view .cal-open-day-events{padding:15px}.cal-month-view .cal-open-day-events .cal-event{position:relative;top:2px}.cal-month-view .cal-out-month .cal-day-badge,.cal-month-view .cal-out-month .cal-event{opacity:.3}.cal-month-view .cal-draggable{cursor:move}.cal-month-view .cal-drag-active *{pointer-events:none}.cal-month-view .cal-event-title{cursor:pointer}.cal-month-view .cal-event-title:hover{text-decoration:underline}.cal-month-view{background-color:#fff}.cal-month-view .cal-cell-row:hover{background-color:#fafafa}.cal-month-view .cal-cell-row .cal-cell:hover,.cal-month-view .cal-cell.cal-has-events.cal-open{background-color:#ededed}.cal-month-view .cal-days{border-color:#e1e1e1}.cal-month-view .cal-day-cell:not(:last-child){border-right-color:#e1e1e1}.cal-month-view .cal-days .cal-cell-row{border-bottom-color:#e1e1e1}.cal-month-view .cal-day-badge{background-color:#b94a48;color:#fff}.cal-month-view .cal-event{background-color:#1e90ff;border-color:#d1e8ff;color:#fff}.cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#8b0000}.cal-month-view .cal-day-cell.cal-today{background-color:#e8fde7}.cal-month-view .cal-day-cell.cal-drag-over{background-color:#e0e0e0!important}.cal-month-view .cal-open-day-events{color:#fff;background-color:#555;box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5)}.cal-week-view *{box-sizing:border-box}.cal-week-view .cal-day-headers{display:flex;padding-left:70px;border:1px solid}.cal-week-view .cal-day-headers .cal-header{flex:1;text-align:center;padding:5px}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:1px solid}.cal-week-view .cal-day-headers .cal-header:first-child{border-left:1px solid}.cal-week-view .cal-day-headers span{font-weight:400;opacity:.5}.cal-week-view .cal-day-column{flex-grow:1;border-left:1px solid}.cal-week-view .cal-event{font-size:12px;border:1px solid}.cal-week-view .cal-time-label-column{width:70px;height:100%}.cal-week-view .cal-current-time-marker{position:absolute;width:100%;height:2px;z-index:2}.cal-week-view .cal-all-day-events{border-left:1px solid;border-right:1px solid;border-top:0;border-bottom:3px solid;padding-top:3px;position:relative}.cal-week-view .cal-all-day-events .cal-day-columns{height:100%;width:100%;display:flex;position:absolute;top:0;z-index:0}.cal-week-view .cal-all-day-events .cal-events-row{position:relative;height:31px;margin-left:70px}.cal-week-view .cal-all-day-events .cal-event-container{display:inline-block;position:absolute}.cal-week-view .cal-all-day-events .cal-event-container.resize-active{z-index:1;pointer-events:none}.cal-week-view .cal-all-day-events .cal-event{padding:0 5px;margin-left:2px;margin-right:2px;height:28px;line-height:28px}.cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:5px;border-bottom-left-radius:5px}.cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:5px;border-bottom-right-radius:5px}.cal-week-view .cal-all-day-events .cal-time-label-column{display:flex;align-items:center;justify-content:center;font-size:14px}.cal-week-view .cal-all-day-events .cal-resize-handle{width:6px;height:100%;cursor:col-resize;position:absolute;top:0}.cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:0}.cal-week-view .cal-event,.cal-week-view .cal-header{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-week-view .cal-drag-active{pointer-events:none;z-index:1}.cal-week-view .cal-drag-active *{pointer-events:none}.cal-week-view .cal-time-events{position:relative;border:1px solid;border-top:0;display:flex}.cal-week-view .cal-time-events .cal-day-columns{display:flex;flex-grow:1}.cal-week-view .cal-time-events .cal-day-column,.cal-week-view .cal-time-events .cal-events-container{position:relative}.cal-week-view .cal-time-events .cal-event-container{position:absolute;z-index:1}.cal-week-view .cal-time-events .cal-event{width:calc(100% - 2px);height:calc(100% - 2px);margin:1px;padding:0 5px;line-height:25px}.cal-week-view .cal-time-events .cal-resize-handle{width:100%;height:4px;cursor:row-resize;position:absolute}.cal-week-view .cal-time-events .cal-resize-handle.cal-resize-handle-after-end{bottom:0}.cal-week-view .cal-hour-segment{position:relative}.cal-week-view .cal-hour-segment:after{content:"\xa0"}.cal-week-view .cal-event-container:not(.cal-draggable){cursor:pointer}.cal-week-view .cal-draggable{cursor:move}.cal-week-view .cal-hour-segment,.cal-week-view mwl-calendar-week-view-hour-segment{display:block}.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment{border-bottom:thin dashed}.cal-week-view .cal-time{font-weight:700;padding-top:5px;width:70px;text-align:center}.cal-week-view .cal-hour-segment.cal-after-hour-start .cal-time{display:none}.cal-week-view .cal-starts-within-day .cal-event{border-top-left-radius:5px;border-top-right-radius:5px}.cal-week-view .cal-ends-within-day .cal-event{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.cal-week-view{background-color:#fff;border-top:1px solid #e1e1e1}.cal-week-view .cal-day-headers{border-color:#e1e1e1;border-top:0}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-drag-over,.cal-week-view .cal-day-headers .cal-header:hover{background-color:#ededed}.cal-week-view .cal-day-column{border-left-color:#e1e1e1}.cal-week-view .cal-event{background-color:#d1e8ff;border-color:#1e90ff;color:#1e90ff}.cal-week-view .cal-all-day-events{border-color:#e1e1e1}.cal-week-view .cal-header.cal-today{background-color:#e8fde7}.cal-week-view .cal-header.cal-weekend span{color:#8b0000}.cal-week-view .cal-time-events{border-color:#e1e1e1}.cal-week-view .cal-time-events .cal-day-columns:not(.cal-resize-active) .cal-hour-segment:hover{background-color:#ededed}.cal-week-view .cal-hour-odd{background-color:#fafafa}.cal-week-view .cal-drag-over .cal-hour-segment{background-color:#ededed}.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment{border-bottom-color:#e1e1e1}.cal-week-view .cal-current-time-marker{background-color:#ea4334}.cal-day-view mwl-calendar-week-view-header{display:none}.cal-day-view .cal-events-container{margin-left:70px}.cal-day-view .cal-day-column{border-left:0}.cal-day-view .cal-current-time-marker{margin-left:70px;width:calc(100% - 70px)}.cal-tooltip{position:absolute;z-index:1070;display:block;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.5;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;font-size:11px;word-wrap:break-word;opacity:.9}.cal-tooltip.cal-tooltip-top{padding:5px 0;margin-top:-3px}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0}.cal-tooltip.cal-tooltip-right{padding:0 5px;margin-left:3px}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0}.cal-tooltip.cal-tooltip-bottom{padding:5px 0;margin-top:3px}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px}.cal-tooltip.cal-tooltip-left{padding:0 5px;margin-left:-3px}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.cal-tooltip-inner{max-width:200px;padding:3px 8px;text-align:center;border-radius:.25rem}.cal-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{border-top-color:#000}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{border-right-color:#000}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{border-bottom-color:#000}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{border-left-color:#000}.cal-tooltip-inner{color:#fff;background-color:#000}.cal-month-view .cal-header .cal-cell{font-weight:500}@media screen and (min-width:1280px) and (max-width:1919px){.cal-month-view .cal-day-cell{min-height:150px}}@media screen and (min-width:1920px){.cal-month-view .cal-day-cell{min-height:200px}}.cal-month-view .cal-day-cell.cal-open{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.cal-month-view .cal-open-day-events{background:#455a64;box-shadow:inset 0 0 12px 0 rgba(0,0,0,.54);padding:0;display:flex;flex-direction:column}.cal-month-view .cal-open-day-events>div{padding:0 16px;margin:8px 16px;display:flex;flex-direction:row;align-items:center;justify-content:start;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);transition:box-shadow .3s ease}.cal-month-view .cal-open-day-events>div:first-of-type{margin-top:16px}.cal-month-view .cal-open-day-events>div:last-of-type{margin-bottom:16px}.cal-month-view .cal-open-day-events>div:hover{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.cal-month-view .cal-open-day-events>div .cal-event{top:0;margin:0}.cal-month-view .cal-open-day-events>div mwl-calendar-event-title{flex:1}.cal-month-view .cal-open-day-events>div mwl-calendar-event-title .cal-event-title{display:block;padding:21px 24px;line-height:1;text-decoration:none;color:#000}.cal-month-view .cal-open-day-events>div mwl-calendar-event-actions .cal-event-actions{display:flex;flex-direction:row;align-items:center}.cal-month-view .cal-open-day-events>div mwl-calendar-event-actions .cal-event-actions .cal-event-action{display:block;line-height:1;padding:8px}.cal-week-view .cal-header>b{font-weight:500}.cal-week-view .cal-event{display:flex;flex-direction:row;align-items:center}.cal-week-view .cal-event mwl-calendar-event-title{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;order:0}.cal-week-view .cal-event mwl-calendar-event-title .cal-event-title{display:block;line-height:1;text-decoration:none;color:#000}.cal-week-view .cal-event mwl-calendar-event-actions{order:1}.cal-week-view .cal-event mwl-calendar-event-actions .cal-event-actions{display:flex;flex-direction:row;align-items:center}.cal-week-view .cal-event mwl-calendar-event-actions .cal-event-actions .cal-event-action{display:block;line-height:1;padding:8px}.cal-day-view .cal-time{font-weight:500}.cal-day-view .cal-event{display:flex;flex-direction:row}.cal-day-view .cal-event mwl-calendar-event-title{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;order:0}.cal-day-view .cal-event mwl-calendar-event-title .cal-event-title{display:block;height:26px;line-height:26px;text-decoration:none;color:#000}.cal-day-view .cal-event mwl-calendar-event-actions{order:1}.cal-day-view .cal-event mwl-calendar-event-actions .cal-event-actions{display:flex;flex-direction:row;align-items:center}.cal-day-view .cal-event mwl-calendar-event-actions .cal-event-actions .cal-event-action{display:block;line-height:1;padding:4px}.cal-day-view .cal-hour-segment:after{content:""!important}#calendar{background:#fff}#calendar .header{height:200px;min-height:200px;max-height:200px;position:relative;background-size:100% auto;background-position:0 50%;background-repeat:no-repeat;background-color:#fafafa;color:#fff}@media screen and (max-width:599px){#calendar .header{height:164px;min-height:164px;max-height:164px}}#calendar .header:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;background:rgba(0,0,0,.45)}#calendar .header.Feb,#calendar .header.Jan{background-image:url(/assets/images/backgrounds/winter.jpg);background-position:0 85%}#calendar .header.Apr,#calendar .header.Mar,#calendar .header.May{background-image:url(/assets/images/backgrounds/spring.jpg);background-position:0 40%}#calendar .header.Aug,#calendar .header.Jul,#calendar .header.Jun{background-image:url(/assets/images/backgrounds/summer.jpg);background-position:0 80%}#calendar .header.Nov,#calendar .header.Oct,#calendar .header.Sep{background-image:url(/assets/images/backgrounds/autumn.jpg);background-position:0 40%}#calendar .header.Dec{background-image:url(/assets/images/backgrounds/winter.jpg);background-position:0 85%}#calendar .header .header-content{height:100%}#calendar .header .header-content .header-top{position:relative;z-index:2}#calendar .header .header-content .header-top .logo .logo-icon{margin-right:16px}#calendar .header .header-content .header-top .logo .logo-text{font-size:24px}#calendar .header .header-content .header-bottom{position:relative;z-index:2}#calendar .header .header-content .header-bottom .title{font-size:20px;min-width:160px;text-align:center;font-weight:500}#calendar .header .add-event-button{position:absolute;right:18px;bottom:-26px;z-index:10}#calendar .header mat-icon{color:#fff}#calendar .content{padding:24px}'],encapsulation:2,data:{animation:ma.a}}),Qa),tr=n("WLya");n.d(t,"PersoInfoCalendarModule",(function(){return ar}));var nr,ir=[{path:"**",component:er,children:[],resolve:{chat:La}}],ar=((nr=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:nr}),nr.\u0275inj=a.Tb({factory:function(e){return new(e||nr)},providers:[La],imports:[[i.j.forChild(ir),xa.c,za.c,ka.e,Ta.d,Ea.b,Sa.c,Oa.b,Ca.b,sa.forRoot({provide:Pn,useFactory:tr.adapterFactory}),F,ua.a,pa.a]]}),nr)},OJSY:function(e,t,n){"use strict";function i(e,t){return void 0===e?void 0===t?e:t:e}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e,t){return"function"==typeof(e=i(e,t))?function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return!!e.apply(this,n)}:e?function(){return!0}:function(){return!1}},t.integer=function(e,t){return"function"==typeof(e=i(e,t))?function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=parseInt(e.apply(this,n),10);return a!=a?0:a}:(e=parseInt(e,10))!=e?function(){return 0}:function(){return e}},t.string=function(e,t){return"function"==typeof(e=i(e,t))?function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return""+e.apply(this,n)}:(e=""+e,function(){return e})}},PTRy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=n("6yRa"))&&"object"==typeof i&&"default"in i?i.default:i;function r(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch(n){throw new TypeError("Can't call getBoundingClientRect on "+e)}}t.createPointCB=a,t.getClientRect=r,t.pointInside=function(e,t){var n=r(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}},RX3l:function(e,t){var n=Object.prototype.toString;e.exports=Array.isArray||function(e){return!!e&&"[object Array]"==n.call(e)}},VJNc:function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("uMIJ")),r=i(n("RX3l")),o=i(n("xijO")),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(e){return null!=e&&"object"===(void 0===e?"undefined":c(e))&&1===e.nodeType&&"object"===c(e.style)&&"object"===c(e.ownerDocument)};function s(e){if("string"==typeof e)try{return document.querySelector(e)}catch(t){throw t}else if(o(e))return e}function d(e,t){if(t=v(t,!0),!l(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function u(e,t){return-1!==d(e,t)}function p(e){if(!e)return[];try{return"string"==typeof e?a(document.querySelectorAll(e)):r(e)?e.map(v):void 0===e.length?[v(e)]:a(e,v)}catch(t){throw new Error(t)}}function h(e,t){for(var n=0;n<t.length;n++)u(e,t[n])||e.push(t[n]);return t}function v(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!l(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}t.indexOfElement=d,t.hasElement=u,t.domListOf=p,t.concatElementLists=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.reduce((function(e,t){return t.length?e:e.concat(p(t))}),[])},t.addElements=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return h(e,t=t.map(v))},t.removeElements=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.map(v).reduce((function(t,n){var i=d(e,n);return-1!==i?t.concat(e.splice(i,1)):t}),[])},t.resolveElement=v,t.select=s,t.selectAll=function(e){return"string"==typeof e?Array.prototype.slice.apply(document.querySelectorAll(e)):r(e)?e.map(s):"length"in e?a(e).map(s):void 0}},WLya:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mrSG"),a=n("1tvX");t.adapterFactory=function(e){return i.__assign({},a.adapterFactory(e),{addWeeks:function(t,n){return e(t).add(n,"weeks").toDate()},addMonths:function(t,n){return e(t).add(n,"months").toDate()},subDays:function(t,n){return e(t).subtract(n,"days").toDate()},subWeeks:function(t,n){return e(t).subtract(n,"weeks").toDate()},subMonths:function(t,n){return e(t).subtract(n,"months").toDate()},getISOWeek:function(t){return e(t).isoWeek()},setDate:function(t,n){return e(t).date(n).toDate()},setMonth:function(t,n){return e(t).month(n).toDate()},setYear:function(t,n){return e(t).year(n).toDate()},getDate:function(t){return e(t).date()},getYear:function(t){return e(t).year()}})}},"c/fO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["webkit","moz","ms","o"];t.requestAnimationFrame=function(){for(var e=0,t=i.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"];var n;return window.requestAnimationFrame||(n=0,window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-t-n),a=window.setTimeout((function(){return e(t+i)}),i);return n=t+i,a}),window.requestAnimationFrame.bind(window)}(),t.cancelAnimationFrame=function(){for(var e=0,t=i.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}()},lipz:function(e,t){var n,i,a,r,o,c;e.exports=(n=function(e){return"function"==typeof e},i=Math.pow(2,53)-1,a=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)},r=function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}},o=function(e,t){if(null!=e&&null!=t){var i=e[t];if(null==i)return;if(!n(i))throw new TypeError(i+" is not a function");return i}},c=function(e){var t=e.next();return!Boolean(t.done)&&t},function(e){"use strict";var t,i,l,s=this,d=arguments.length>1?arguments[1]:void 0;if(void 0!==d){if(!n(d))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(t=arguments[2])}var u=o(e,r(e));if(void 0!==u){i=n(s)?Object(new s):[];var p,h,v=u.call(e);if(null==v)throw new TypeError("Array.from requires an array-like or iterable object");for(l=0;;){if(!(p=c(v)))return i.length=l,i;h=p.value,i[l]=d?d.call(t,h,l):h,l++}}else{var f=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var g,m=a(f.length);for(i=n(s)?Object(new s(m)):new Array(m),l=0;l<m;)g=f[l],i[l]=d?d.call(t,g,l):g,l++;i.length=m}return i})},rJ3z:function(e,t,n){"use strict";var i,a=n("OJSY"),r=n("c/fO"),o=n("VJNc"),c=n("PTRy"),l=(i=n("uzHG"))&&"object"==typeof i&&"default"in i?i.default:i;function s(e,t){void 0===t&&(t={});var n=this,i=4,s=!1;this.margin=t.margin||-1,this.scrollWhenOutside=t.scrollWhenOutside||!1;var u={},p=c.createPointCB(u),h=l(),v=!1;window.addEventListener("mousemove",p,!1),window.addEventListener("touchmove",p,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),this.autoScroll=a.boolean(t.autoScroll),this.syncMove=a.boolean(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",p,!1),window.removeEventListener("touchmove",p,!1),window.removeEventListener("mousedown",k,!1),window.removeEventListener("touchstart",k,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("touchend",C,!1),window.removeEventListener("pointerup",C,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",A,!1),window.removeEventListener("touchmove",A,!1),window.removeEventListener("scroll",w,!0),e=[],t&&D()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return o.addElements.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return o.removeElements.apply(void 0,[e].concat(t))};var f,g,m=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),g=e,e=[],g.forEach((function(e){e===window?m=window:n.add(e)})),Object.defineProperties(this,{down:{get:function(){return v}},maxSpeed:{get:function(){return i}},point:{get:function(){return u}},scrolling:{get:function(){return s}}});var y,b=null;function w(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){s=!0;break}s&&r.requestAnimationFrame((function(){return s=!1}))}function k(){v=!0}function C(){v=!1,D()}function D(){r.cancelAnimationFrame(y),r.cancelAnimationFrame(f)}function x(){v=!1}function E(){for(var t=null,n=0;n<e.length;n++)d(u,e[n])&&(t=e[n]);return t}function A(t){if(n.autoScroll()&&!t.dispatched){var i=t.target,a=document.body;b&&!d(u,b)&&(n.scrollWhenOutside||(b=null)),i&&i.parentNode===a?i=E():(i=function(t){if(!t)return null;if(b===t)return t;if(o.hasElement(e,t))return t;for(;t=t.parentNode;)if(o.hasElement(e,t))return t;return null}(i))||(i=E()),i&&i!==b&&(b=i),m&&(r.cancelAnimationFrame(f),f=r.requestAnimationFrame(T)),b&&(r.cancelAnimationFrame(y),y=r.requestAnimationFrame(S))}}function T(){O(m),r.cancelAnimationFrame(f),f=r.requestAnimationFrame(T)}function S(){b&&(O(b),r.cancelAnimationFrame(y),y=r.requestAnimationFrame(S))}function O(e){var t,i,a=c.getClientRect(e);t=u.x<a.left+n.margin?Math.floor(Math.max(-1,(u.x-a.left)/n.margin-1)*n.maxSpeed):u.x>a.right-n.margin?Math.ceil(Math.min(1,(u.x-a.right)/n.margin+1)*n.maxSpeed):0,i=u.y<a.top+n.margin?Math.floor(Math.max(-1,(u.y-a.top)/n.margin-1)*n.maxSpeed):u.y>a.bottom-n.margin?Math.ceil(Math.min(1,(u.y-a.bottom)/n.margin+1)*n.maxSpeed):0,n.syncMove()&&h.dispatch(e,{pageX:u.pageX+t,pageY:u.pageY+i,clientX:u.x+t,clientY:u.y+i}),setTimeout((function(){i&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,i),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)}))}window.addEventListener("mousedown",k,!1),window.addEventListener("touchstart",k,!1),window.addEventListener("mouseup",C,!1),window.addEventListener("touchend",C,!1),window.addEventListener("pointerup",C,!1),window.addEventListener("mousemove",A,!1),window.addEventListener("touchmove",A,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",w,!0)}function d(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:c.pointInside(e,t)}e.exports=function(e,t){return new s(e,t)}},uMIJ:function(e,t,n){e.exports="function"==typeof Array.from?Array.from:n("lipz")},uzHG:function(e,t,n){"use strict";var i,a=void 0;"function"!=typeof Object.create?(i=function(){},a=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");i.prototype=e||{};var n=new i;return i.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):a=Object.create;var r=a,o=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function c(e,t){t=t||{};for(var n=r(e),i=0;i<o.length;i++)void 0!==t[o[i]]&&(n[o[i]]=t[o[i]]);return n}function l(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}e.exports=function(e){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function n(e){for(var n=0;n<o.length;n++)t[o[n]]=e[o[n]]}return void 0!==e&&e.addEventListener("mousemove",n),{destroy:function(){e&&e.removeEventListener("mousemove",n,!1),t=null},dispatch:MouseEvent?function(e,n,i){var a=new MouseEvent("mousemove",c(t,n));return l(a,i),e.dispatchEvent(a)}:"function"==typeof document.createEvent?function(e,n,i){var a=c(t,n),r=document.createEvent("MouseEvents");return r.initMouseEvent("mousemove",!0,!0,window,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),l(r,i),e.dispatchEvent(r)}:"function"==typeof document.createEventObject?function(e,n,i){var a=document.createEventObject(),r=c(t,n);for(var o in r)a[o]=r[o];return l(a,i),e.dispatchEvent(a)}:void 0}}},xijO:function(e,t,n){"use strict";n.r(t);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=function(e){return null!=e&&"object"===(void 0===e?"undefined":i(e))&&1===e.nodeType&&"object"===i(e.style)&&"object"===i(e.ownerDocument)}}}]);