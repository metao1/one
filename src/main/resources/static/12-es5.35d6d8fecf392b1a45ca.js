function _possibleConstructorReturn(t,c){return!c||"object"!=typeof c&&"function"!=typeof c?_assertThisInitialized(t):c}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&_setPrototypeOf(t,c)}function _setPrototypeOf(t,c){return(_setPrototypeOf=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function _slicedToArray(t,c){return _arrayWithHoles(t)||_iterableToArrayLimit(t,c)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,c){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],a=!0,n=!1,o=void 0;try{for(var i,r=t[Symbol.iterator]();!(a=(i=r.next()).done)&&(e.push(i.value),!c||e.length!==c);a=!0);}catch(s){n=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperties(t,c){for(var e=0;e<c.length;e++){var a=c[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,c,e){return c&&_defineProperties(t.prototype,c),e&&_defineProperties(t,e),t}function _classCallCheck(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{NulH:function(t,c,e){"use strict";e.r(c);var a=e("tyNb"),n=e("0BIi"),o=e("NuY5"),i=e("3Pt+"),r=e("XNiG"),s=e("1G5W"),l=e("Kj3r"),u=e("/uUt"),d=e("HY3y"),b=e("0Zs5"),m=function t(c){_classCallCheck(this,t),this.id=c.id||b.a.generateGUID(),this.name=c.name||"",this.lastName=c.lastName||"",this.avatar=c.avatar||"assets/images/avatars/profile.jpg",this.nickname=c.nickname||"",this.company=c.company||"",this.jobTitle=c.jobTitle||"",this.email=c.email||"",this.phone=c.phone||"",this.address=c.address||"",this.birthday=c.birhday||"",this.notes=c.notes||""},f=e("0IaG"),h=e("fXoL"),p=e("/t3+"),g=e("XiUz"),v=e("bTqV"),C=e("NFeN"),x=e("cpli"),y=e("kmnG"),_=e("qFsG"),k=e("iadO"),w=e("ofXK");function S(t,c){if(1&t){var e=h.dc();h.cc(0,"button",30),h.oc("click",(function(){h.Qc(e);var t=h.sc();return t.matDialogRef.close(t.contactForm)})),h.ad(1," SAVE "),h.bc()}if(2&t){var a=h.sc();h.zc("disabled",a.contactForm.invalid)}}function D(t,c){if(1&t){var e=h.dc();h.cc(0,"button",30),h.oc("click",(function(){h.Qc(e);var t=h.sc();return t.matDialogRef.close(["save",t.contactForm])})),h.ad(1," SAVE "),h.bc()}if(2&t){var a=h.sc();h.zc("disabled",a.contactForm.invalid)}}function O(t,c){if(1&t){var e=h.dc();h.cc(0,"button",31),h.oc("click",(function(){h.Qc(e);var t=h.sc();return t.matDialogRef.close(["delete",t.contactForm])})),h.cc(1,"mat-icon"),h.ad(2,"delete"),h.bc(),h.bc()}}var A,P,H,I=((A=function(){function t(c,e,a){_classCallCheck(this,t),this.matDialogRef=c,this._data=e,this._formBuilder=a,this.action=e.action,"edit"===this.action?(this.dialogTitle="Edit Contact",this.contact=e.contact):(this.dialogTitle="New Contact",this.contact=new m({})),this.contactForm=this.createContactForm()}return _createClass(t,[{key:"createContactForm",value:function(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}]),t}()).\u0275fac=function(t){return new(t||A)(h.Wb(f.f),h.Wb(f.a),h.Wb(i.c))},A.\u0275cmp=h.Qb({type:A,selectors:[["contacts-contact-form-dialog"]],decls:69,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","persoInfoPerfectScrollbar","",1,"p-24","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start",1,"mb-24"],["fxFlex",""],["matPrefix","",1,"mr-12","s-20","secondary-text"],["name","name","formControlName","name","placeholder","Name","matInput","","required",""],["name","lastName","formControlName","lastName","placeholder","Lastname","matInput",""],["name","nickname","formControlName","nickname","matInput","","placeholder","Nickname"],["formControlName","phone","matInput","","placeholder","Phone number"],["name","email","formControlName","email","matInput","","type","email","placeholder","Email"],["name","company","formControlName","company","matInput","","placeholder","Company"],["name","jobTitle","formControlName","jobTitle","matInput","","placeholder","Job title"],["fxFlex","",1,"mr-24"],["matInput","","placeholder","Birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput","","placeholder","Address"],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","placeholder","Notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","class","save-button mat-accent","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-raised-button","","aria-label","SAVE",1,"save-button","mat-accent",3,"disabled","click"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(t,c){if(1&t&&(h.cc(0,"div",0),h.cc(1,"mat-toolbar",1),h.cc(2,"mat-toolbar-row",2),h.cc(3,"span",3),h.ad(4),h.bc(),h.cc(5,"button",4),h.oc("click",(function(){return c.matDialogRef.close()})),h.cc(6,"mat-icon"),h.ad(7,"close"),h.bc(),h.bc(),h.bc(),h.cc(8,"mat-toolbar-row",5),h.Xb(9,"img",6),h.cc(10,"div",7),h.ad(11),h.bc(),h.bc(),h.bc(),h.cc(12,"div",8),h.cc(13,"form",9),h.cc(14,"div",10),h.cc(15,"mat-form-field",11),h.cc(16,"mat-icon",12),h.ad(17,"account_circle"),h.bc(),h.Xb(18,"input",13),h.bc(),h.bc(),h.cc(19,"div",10),h.cc(20,"mat-form-field",11),h.cc(21,"mat-icon",12),h.ad(22,"account_circle"),h.bc(),h.Xb(23,"input",14),h.bc(),h.bc(),h.cc(24,"div",10),h.cc(25,"mat-form-field",11),h.cc(26,"mat-icon",12),h.ad(27,"star"),h.bc(),h.Xb(28,"input",15),h.bc(),h.bc(),h.cc(29,"div",10),h.cc(30,"mat-form-field",11),h.cc(31,"mat-icon",12),h.ad(32,"phone"),h.bc(),h.Xb(33,"input",16),h.bc(),h.bc(),h.cc(34,"div",10),h.cc(35,"mat-form-field",11),h.cc(36,"mat-icon",12),h.ad(37,"email"),h.bc(),h.Xb(38,"input",17),h.bc(),h.bc(),h.cc(39,"div",10),h.cc(40,"mat-form-field",11),h.cc(41,"mat-icon",12),h.ad(42,"domain"),h.bc(),h.Xb(43,"input",18),h.bc(),h.bc(),h.cc(44,"div",10),h.cc(45,"mat-form-field",11),h.cc(46,"mat-icon",12),h.ad(47,"work"),h.bc(),h.Xb(48,"input",19),h.bc(),h.bc(),h.cc(49,"div",10),h.cc(50,"mat-form-field",20),h.cc(51,"mat-icon",12),h.ad(52,"cake"),h.bc(),h.Xb(53,"input",21),h.Xb(54,"mat-datepicker-toggle",22),h.Xb(55,"mat-datepicker",null,23),h.bc(),h.bc(),h.cc(57,"div",10),h.cc(58,"mat-form-field",11),h.cc(59,"mat-icon",12),h.ad(60,"home"),h.bc(),h.Xb(61,"input",24),h.bc(),h.bc(),h.cc(62,"div",25),h.cc(63,"mat-form-field",11),h.Xb(64,"textarea",26),h.bc(),h.bc(),h.bc(),h.bc(),h.cc(65,"div",27),h.Yc(66,S,2,1,"button",28),h.Yc(67,D,2,1,"button",28),h.Yc(68,O,3,0,"button",29),h.bc(),h.bc()),2&t){var e=h.Mc(56);h.Hb(4),h.bd(c.dialogTitle),h.Hb(5),h.zc("src",c.contact.avatar,h.Sc)("alt",c.contact.name),h.Hb(2),h.dd("",c.contact.name," ",c.contact.lastName,""),h.Hb(2),h.zc("formGroup",c.contactForm),h.Hb(40),h.zc("matDatepicker",e),h.Hb(1),h.zc("for",e),h.Hb(12),h.zc("ngIf","edit"!==c.action),h.Hb(1),h.zc("ngIf","edit"===c.action),h.Hb(1),h.zc("ngIf","edit"===c.action)}},directives:[p.a,p.c,g.e,g.d,v.b,C.a,x.a,i.x,i.p,i.h,y.b,g.b,y.f,i.b,_.b,i.o,i.f,i.u,k.b,k.d,y.g,k.a,w.u],styles:[".contact-form-dialog{width:400px}@media screen and (max-width:599px){.contact-form-dialog{width:100%}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),A),M=e("2Vo4"),T=e("tk/3"),z=((P=function(){function t(c){_classCallCheck(this,t),this._httpClient=c,this.selectedContacts=[],this.onContactsChanged=new M.a([]),this.onSelectedContactsChanged=new M.a([]),this.onUserDataChanged=new M.a([]),this.onSearchTextChanged=new r.a,this.onFilterChanged=new r.a}return _createClass(t,[{key:"resolve",value:function(t,c){var e=this;return new Promise((function(t,c){Promise.all([e.getContacts(),e.getUserData()]).then((function(c){_slicedToArray(c,1)[0],e.onSearchTextChanged.subscribe((function(t){e.searchText=t,e.getContacts()})),e.onFilterChanged.subscribe((function(t){e.filterBy=t,e.getContacts()})),t()}),c)}))}},{key:"getContacts",value:function(){var t=this;return new Promise((function(c,e){t._httpClient.get("api/contacts-contacts").subscribe((function(e){t.contacts=e,"starred"===t.filterBy&&(t.contacts=t.contacts.filter((function(c){return t.user.starred.includes(c.id)}))),"frequent"===t.filterBy&&(t.contacts=t.contacts.filter((function(c){return t.user.frequentContacts.includes(c.id)}))),t.searchText&&""!==t.searchText&&(t.contacts=b.a.filterArrayByString(t.contacts,t.searchText)),t.contacts=t.contacts.map((function(t){return new m(t)})),t.onContactsChanged.next(t.contacts),c(t.contacts)}),e)}))}},{key:"getUserData",value:function(){var t=this;return new Promise((function(c,e){t._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe((function(e){t.user=e,t.onUserDataChanged.next(t.user),c(t.user)}),e)}))}},{key:"toggleSelectedContact",value:function(t){if(this.selectedContacts.length>0){var c=this.selectedContacts.indexOf(t);if(-1!==c)return this.selectedContacts.splice(c,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"toggleSelectAll",value:function(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}},{key:"selectContacts",value:function(t,c){var e=this;this.selectedContacts=[],void 0!==t&&void 0!==c||(this.selectedContacts=[],this.contacts.map((function(t){e.selectedContacts.push(t.id)}))),this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"updateContact",value:function(t){var c=this;return new Promise((function(e,a){c._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe((function(t){c.getContacts(),e(t)}))}))}},{key:"updateUserData",value:function(t){var c=this;return new Promise((function(e,a){c._httpClient.post("api/contacts-user/"+c.user.id,Object.assign({},t)).subscribe((function(t){c.getUserData(),c.getContacts(),e(t)}))}))}},{key:"deselectContacts",value:function(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}},{key:"deleteContact",value:function(t){var c=this.contacts.indexOf(t);this.contacts.splice(c,1),this.onContactsChanged.next(this.contacts)}},{key:"deleteSelectedContacts",value:function(){var t=this,c=!0,e=!1,a=void 0;try{for(var n,o=function(){var c=n.value,e=t.contacts.find((function(t){return t.id===c})),a=t.contacts.indexOf(e);t.contacts.splice(a,1)},i=this.selectedContacts[Symbol.iterator]();!(c=(n=i.next()).done);c=!0)o()}catch(r){e=!0,a=r}finally{try{c||null==i.return||i.return()}finally{if(e)throw a}}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}]),t}()).\u0275fac=function(t){return new(t||P)(h.kc(T.c))},P.\u0275prov=h.Sb({token:P,factory:P.\u0275fac}),P),j=e("nS/M"),L=e("2C/K"),R=e("znSr"),F=e("kcHR"),N=e("FKr1"),Y=function(t){return{"active mat-accent-bg":t}},X=((H=function(){function t(c){_classCallCheck(this,t),this._contactsService=c,this._unsubscribeAll=new r.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.filterBy=this._contactsService.filterBy||"all",this._contactsService.onUserDataChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){t.user=c}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeFilter",value:function(t){this.filterBy=t,this._contactsService.onFilterChanged.next(this.filterBy)}}]),t}()).\u0275fac=function(t){return new(t||H)(h.Wb(z))},H.\u0275cmp=h.Qb({type:H,selectors:[["contacts-main-sidebar"]],decls:20,vars:12,consts:[[1,"sidebar-content"],[1,"card","mat-white-bg"],["fxLayout","row","fxLayoutAlign","start center",1,"header","p-24"],[1,"avatar","mr-16",3,"src","alt"],[1,"h5"],["persoInfoPerfectScrollbar","",1,"content","py-16"],[1,"nav"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"],["aria-label","starred",1,"nav-item",3,"click"]],template:function(t,c){1&t&&(h.cc(0,"div",0),h.cc(1,"div",1),h.cc(2,"div",2),h.Xb(3,"img",3),h.cc(4,"span",4),h.ad(5),h.bc(),h.bc(),h.cc(6,"div",5),h.cc(7,"div",6),h.cc(8,"div",7),h.cc(9,"a",8),h.oc("click",(function(){return c.changeFilter("all")})),h.cc(10,"span",9),h.ad(11,"All Contacts"),h.bc(),h.bc(),h.bc(),h.cc(12,"div",10),h.oc("click",(function(){return c.changeFilter("frequent")})),h.cc(13,"a",11),h.cc(14,"div",9),h.ad(15,"Freequently contacted"),h.bc(),h.bc(),h.bc(),h.cc(16,"div",12),h.oc("click",(function(){return c.changeFilter("starred")})),h.cc(17,"a",11),h.cc(18,"div",9),h.ad(19,"Starred Contacts"),h.bc(),h.bc(),h.bc(),h.bc(),h.bc(),h.bc(),h.bc()),2&t&&(h.Hb(3),h.zc("src",c.user.avatar,h.Sc)("alt",c.user.name),h.Hb(2),h.bd(c.user.name),h.Hb(4),h.zc("ngClass",h.Dc(6,Y,"all"===c.filterBy)),h.Hb(4),h.zc("ngClass",h.Dc(8,Y,"frequent"===c.filterBy)),h.Hb(4),h.zc("ngClass",h.Dc(10,Y,"starred"===c.filterBy)))},directives:[g.e,g.d,x.a,N.r,w.r,R.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),H),Q=e("0EQZ"),B=e("Pm6R"),$=e("+0xr"),W=e("bSwM"),U=e("STbY"),E=["dialogContent"];function Z(t,c){1&t&&h.Xb(0,"mat-header-cell")}function q(t,c){if(1&t){var e=h.dc();h.cc(0,"mat-cell"),h.cc(1,"mat-checkbox",20),h.oc("ngModelChange",(function(t){h.Qc(e);var a=c.$implicit;return h.sc().checkboxes[a.id]=t}))("ngModelChange",(function(){h.Qc(e);var t=c.$implicit;return h.sc().onSelectedChange(t.id)}))("click",(function(t){return h.Qc(e),t.stopPropagation()})),h.bc(),h.bc()}if(2&t){var a=c.$implicit,n=h.sc();h.Hb(1),h.zc("ngModel",n.checkboxes[a.id])}}function G(t,c){1&t&&h.Xb(0,"mat-header-cell")}function V(t,c){if(1&t&&h.Xb(0,"img",22),2&t){var e=h.sc().$implicit;h.zc("alt",e.name)("src",e.avatar,h.Sc)}}function J(t,c){if(1&t&&(h.cc(0,"mat-cell"),h.Yc(1,V,1,2,"img",21),h.bc()),2&t){var e=c.$implicit;h.Hb(1),h.zc("ngIf",e.avatar)}}function K(t,c){1&t&&(h.cc(0,"mat-header-cell"),h.ad(1,"Name"),h.bc())}function tt(t,c){if(1&t&&(h.cc(0,"mat-cell"),h.cc(1,"p",23),h.ad(2),h.bc(),h.bc()),2&t){var e=c.$implicit;h.Hb(2),h.dd("",e.name," ",e.lastName,"")}}function ct(t,c){1&t&&(h.cc(0,"mat-header-cell",24),h.ad(1,"Email"),h.bc())}function et(t,c){if(1&t&&(h.cc(0,"mat-cell",24),h.cc(1,"p",25),h.ad(2),h.bc(),h.bc()),2&t){var e=c.$implicit;h.Hb(2),h.cd(" ",e.email," ")}}function at(t,c){1&t&&(h.cc(0,"mat-header-cell",26),h.ad(1,"Phone"),h.bc())}function nt(t,c){if(1&t&&(h.cc(0,"mat-cell",26),h.cc(1,"p",27),h.ad(2),h.bc(),h.bc()),2&t){var e=c.$implicit;h.Hb(2),h.cd(" ",e.phone," ")}}function ot(t,c){1&t&&(h.cc(0,"mat-header-cell",28),h.ad(1,"Job title"),h.bc())}function it(t,c){if(1&t&&(h.cc(0,"mat-cell",28),h.cc(1,"p",29),h.ad(2),h.bc(),h.bc()),2&t){var e=c.$implicit;h.Hb(2),h.cd(" ",e.jobTitle," ")}}function rt(t,c){1&t&&(h.cc(0,"mat-header-cell",28),h.ad(1,"Company"),h.bc())}function st(t,c){if(1&t&&(h.cc(0,"mat-cell",28),h.cc(1,"p",30),h.ad(2),h.bc(),h.bc()),2&t){var e=c.$implicit;h.Hb(2),h.cd(" ",e.company," ")}}function lt(t,c){1&t&&h.Xb(0,"mat-header-cell")}function ut(t,c){1&t&&(h.cc(0,"mat-icon",39),h.ad(1,"star"),h.bc())}function dt(t,c){1&t&&(h.cc(0,"mat-icon",36),h.ad(1,"star_outline"),h.bc())}function bt(t,c){if(1&t){var e=h.dc();h.cc(0,"mat-cell"),h.cc(1,"div",31),h.cc(2,"button",32),h.oc("click",(function(t){h.Qc(e);var a=c.$implicit,n=h.sc();return t.stopPropagation(),n.toggleStar(a.id)})),h.Yc(3,ut,2,0,"mat-icon",33),h.Yc(4,dt,2,0,"mat-icon",34),h.bc(),h.cc(5,"button",35),h.oc("click",(function(t){return h.Qc(e),t.stopPropagation()})),h.cc(6,"mat-icon",36),h.ad(7,"more_vert"),h.bc(),h.bc(),h.cc(8,"mat-menu",null,37),h.cc(10,"button",38),h.oc("click",(function(){h.Qc(e);var t=c.$implicit;return h.sc().deleteContact(t)})),h.cc(11,"mat-icon"),h.ad(12,"delete"),h.bc(),h.cc(13,"span"),h.ad(14,"Remove"),h.bc(),h.bc(),h.bc(),h.bc(),h.bc()}if(2&t){var a=c.$implicit,n=h.Mc(9),o=h.sc();h.Hb(3),h.zc("ngIf",o.user.starred.includes(a.id)),h.Hb(1),h.zc("ngIf",!o.user.starred.includes(a.id)),h.Hb(1),h.zc("matMenuTriggerFor",n)}}function mt(t,c){1&t&&h.Xb(0,"mat-header-row")}var ft=function(t){return{"mat-accent-50-bg":t}},ht=function(){return{y:"100%"}},pt=function(t){return{value:"*",params:t}};function gt(t,c){if(1&t){var e=h.dc();h.cc(0,"mat-row",40),h.oc("click",(function(){h.Qc(e);var t=c.$implicit;return h.sc().editContact(t)})),h.bc()}if(2&t){var a=c.$implicit,n=h.sc();h.zc("ngClass",h.Dc(2,ft,n.checkboxes[a.id]))("@animate",h.Dc(5,pt,h.Cc(4,ht)))}}var vt,Ct,xt=function(){return{value:"50"}},yt=((vt=function(){function t(c,e){_classCallCheck(this,t),this._contactsService=c,this._matDialog=e,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new r.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.dataSource=new _t(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){t.contacts=c,t.checkboxes={},c.map((function(c){t.checkboxes[c.id]=!1}))})),this._contactsService.onSelectedContactsChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){for(var e in t.checkboxes)t.checkboxes.hasOwnProperty(e)&&(t.checkboxes[e]=c.includes(e));t.selectedContacts=c})),this._contactsService.onUserDataChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){t.user=c})),this._contactsService.onFilterChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(){t._contactsService.deselectContacts()}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"editContact",value:function(t){var c=this;this.dialogRef=this._matDialog.open(I,{panelClass:"contact-form-dialog",data:{contact:t,action:"edit"}}),this.dialogRef.afterClosed().subscribe((function(e){if(e){var a=e[1];switch(e[0]){case"save":c._contactsService.updateContact(a.getRawValue());break;case"delete":c.deleteContact(t)}}}))}},{key:"deleteContact",value:function(t){var c=this;this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe((function(e){e&&c._contactsService.deleteContact(t),c.confirmDialogRef=null}))}},{key:"onSelectedChange",value:function(t){this._contactsService.toggleSelectedContact(t)}},{key:"toggleStar",value:function(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}]),t}()).\u0275fac=function(t){return new(t||vt)(h.Wb(z),h.Wb(f.b))},vt.\u0275cmp=h.Qb({type:vt,selectors:[["contacts-contact-list"]],viewQuery:function(t,c){var e;1&t&&h.fd(E,!0),2&t&&h.Lc(e=h.pc())&&(c.dialogContent=e.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact","matRipple","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],["matRipple","",1,"contact",3,"ngClass","click"]],template:function(t,c){1&t&&(h.cc(0,"mat-table",0,1),h.ac(2,2),h.Yc(3,Z,1,0,"mat-header-cell",3),h.Yc(4,q,2,1,"mat-cell",4),h.Zb(),h.ac(5,5),h.Yc(6,G,1,0,"mat-header-cell",3),h.Yc(7,J,2,1,"mat-cell",4),h.Zb(),h.ac(8,6),h.Yc(9,K,2,0,"mat-header-cell",3),h.Yc(10,tt,3,2,"mat-cell",4),h.Zb(),h.ac(11,7),h.Yc(12,ct,2,0,"mat-header-cell",8),h.Yc(13,et,3,1,"mat-cell",9),h.Zb(),h.ac(14,10),h.Yc(15,at,2,0,"mat-header-cell",11),h.Yc(16,nt,3,1,"mat-cell",12),h.Zb(),h.ac(17,13),h.Yc(18,ot,2,0,"mat-header-cell",14),h.Yc(19,it,3,1,"mat-cell",15),h.Zb(),h.ac(20,16),h.Yc(21,rt,2,0,"mat-header-cell",14),h.Yc(22,st,3,1,"mat-cell",15),h.Zb(),h.ac(23,17),h.Yc(24,lt,1,0,"mat-header-cell",3),h.Yc(25,bt,15,3,"mat-cell",4),h.Zb(),h.Yc(26,mt,1,0,"mat-header-row",18),h.Yc(27,gt,1,7,"mat-row",19),h.bc()),2&t&&(h.zc("dataSource",c.dataSource)("@animateStagger",h.Cc(4,xt)),h.Hb(26),h.zc("matHeaderRowDef",c.displayedColumns),h.Hb(1),h.zc("matRowDefColumns",c.displayedColumns))},directives:[$.j,$.c,$.e,$.b,$.g,$.i,$.d,$.a,W.a,i.o,i.r,w.u,R.b,g.b,g.d,v.b,U.c,C.a,U.d,U.a,$.f,$.h,N.r,w.r,R.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 72px);bottom:auto}}"],encapsulation:2,data:{animation:d.a}}),vt),_t=function(t){function c(t){var e;return _classCallCheck(this,c),(e=_possibleConstructorReturn(this,_getPrototypeOf(c).call(this)))._contactsService=t,e}return _inherits(c,t),_createClass(c,[{key:"connect",value:function(){return this._contactsService.onContactsChanged}},{key:"disconnect",value:function(){}}]),c}(Q.b),kt=((Ct=function(){function t(c,e){_classCallCheck(this,t),this._contactsService=c,this._matDialog=e,this._unsubscribeAll=new r.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){t.selectedContacts=c,setTimeout((function(){t.hasSelectedContacts=c.length>0,t.isIndeterminate=c.length!==t._contactsService.contacts.length&&c.length>0}),0)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"selectAll",value:function(){this._contactsService.selectContacts()}},{key:"deselectAll",value:function(){this._contactsService.deselectContacts()}},{key:"deleteSelectedContacts",value:function(){var t=this;this.confirmDialogRef=this._matDialog.open(B.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe((function(c){c&&t._contactsService.deleteSelectedContacts(),t.confirmDialogRef=null}))}}]),t}()).\u0275fac=function(t){return new(t||Ct)(h.Wb(z),h.Wb(f.b))},Ct.\u0275cmp=h.Qb({type:Ct,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,c){if(1&t&&(h.cc(0,"div",0),h.cc(1,"div",1),h.oc("click",(function(){return c.deselectAll()})),h.cc(2,"button",2),h.cc(3,"mat-icon",3),h.ad(4,"arrow_back"),h.bc(),h.cc(5,"span",4),h.ad(6,"Back"),h.bc(),h.bc(),h.bc(),h.cc(7,"div",5),h.cc(8,"div"),h.cc(9,"span",6),h.cc(10,"span",7),h.ad(11),h.bc(),h.cc(12,"span"),h.ad(13,"selected"),h.bc(),h.bc(),h.cc(14,"button",8),h.cc(15,"mat-icon"),h.ad(16,"arrow_drop_down"),h.bc(),h.bc(),h.cc(17,"mat-menu",null,9),h.cc(19,"button",10),h.oc("click",(function(){return c.selectAll()})),h.ad(20,"Select all"),h.bc(),h.cc(21,"button",10),h.oc("click",(function(){return c.deselectAll()})),h.ad(22,"Deselect all"),h.bc(),h.bc(),h.bc(),h.cc(23,"div",11),h.cc(24,"button",12),h.oc("click",(function(){return c.deleteSelectedContacts()})),h.cc(25,"mat-icon"),h.ad(26,"delete"),h.bc(),h.bc(),h.bc(),h.bc(),h.bc()),2&t){var e=h.Mc(18);h.Hb(11),h.bd(c.selectedContacts.length),h.Hb(3),h.zc("matMenuTriggerFor",e)}},directives:[g.b,g.e,g.d,v.b,C.a,U.c,U.d,U.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),Ct);function wt(t,c){1&t&&h.Xb(0,"selected-bar",18),2&t&&h.zc("@slideInTop",void 0)}var St,Dt=function(){return{delay:"50ms",scale:"0.2"}},Ot=function(t){return{value:"*",params:t}},At=function(){return{delay:"100ms",x:"-25px"}},Pt=function(){return{value:"*"}},Ht=function(){return{delay:"300ms",scale:".2"}},It=((St=function(){function t(c,e,a){_classCallCheck(this,t),this._contactsService=c,this._PersoInfoSidebarService=e,this._matDialog=a,this.searchInput=new i.d(""),this._unsubscribeAll=new r.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._contactsService.onSelectedContactsChanged.pipe(Object(s.a)(this._unsubscribeAll)).subscribe((function(c){t.hasSelectedContacts=c.length>0})),this.searchInput.valueChanges.pipe(Object(s.a)(this._unsubscribeAll),Object(l.a)(300),Object(u.a)()).subscribe((function(c){t._contactsService.onSearchTextChanged.next(c)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newContact",value:function(){var t=this;this.dialogRef=this._matDialog.open(I,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe((function(c){c&&t._contactsService.updateContact(c.getRawValue())}))}},{key:"toggleSidebar",value:function(t){this._PersoInfoSidebarService.getSidebar(t).toggleOpen()}}]),t}()).\u0275fac=function(t){return new(t||St)(h.Wb(z),h.Wb(j.a),h.Wb(f.b))},St.\u0275cmp=h.Qb({type:St,selectors:[["contacts"]],decls:28,vars:16,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","mat-accent-bg","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","start center",1,"search-input-wrapper","mt-16","ml-8","m-sm-0"],["for","search",1,"mr-8"],["mat-no-float","","floatLabel","never",1,"m-0"],["matInput","","id","search","placeholder","Search for anything",3,"formControl"],["class","mat-accent-600-bg",4,"ngIf"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["persoInfoPerfectScrollbar","",1,"content"],["persoInfoPerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],[1,"content","mat-white-bg","mat-elevation-z4"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"mat-accent-bg",3,"click"],[1,"mat-accent-600-bg"]],template:function(t,c){1&t&&(h.cc(0,"div",0),h.cc(1,"div",1),h.cc(2,"div",2),h.cc(3,"button",3),h.oc("click",(function(){return c.toggleSidebar("contacts-main-sidebar")})),h.cc(4,"mat-icon"),h.ad(5,"menu"),h.bc(),h.bc(),h.cc(6,"div",4),h.cc(7,"mat-icon",5),h.ad(8,"account_box "),h.bc(),h.cc(9,"span",6),h.ad(10," Contacts "),h.bc(),h.bc(),h.bc(),h.cc(11,"div",7),h.cc(12,"label",8),h.cc(13,"mat-icon"),h.ad(14,"search"),h.bc(),h.bc(),h.cc(15,"mat-form-field",9),h.Xb(16,"input",10),h.bc(),h.bc(),h.bc(),h.Yc(17,wt,1,1,"selected-bar",11),h.cc(18,"div",12),h.cc(19,"persoinfo-sidebar",13),h.cc(20,"div",14),h.Xb(21,"contacts-main-sidebar"),h.bc(),h.bc(),h.cc(22,"div",15),h.cc(23,"div",16),h.Xb(24,"contacts-contact-list"),h.bc(),h.bc(),h.bc(),h.bc(),h.cc(25,"button",17),h.oc("click",(function(){return c.newContact()})),h.cc(26,"mat-icon"),h.ad(27,"person_add"),h.bc(),h.bc()),2&t&&(h.Hb(7),h.zc("@animate",h.Dc(7,Ot,h.Cc(6,Dt))),h.Hb(2),h.zc("@animate",h.Dc(10,Ot,h.Cc(9,At))),h.Hb(7),h.zc("formControl",c.searchInput),h.Hb(1),h.zc("ngIf",c.hasSelectedContacts),h.Hb(4),h.zc("@animate",h.Cc(12,Pt)),h.Hb(4),h.zc("@animate",h.Dc(14,Ot,h.Cc(13,Ht))))},directives:[L.a,g.e,g.d,v.b,R.b,C.a,y.b,_.b,i.b,i.o,i.e,w.u,F.a,x.a,X,yt,kt],styles:["#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:d.a}}),St);e.d(c,"ContactsModule",(function(){return zt}));var Mt,Tt=[{path:"**",component:It,resolve:{contacts:z}}],zt=((Mt=function t(){_classCallCheck(this,t)}).\u0275mod=h.Ub({type:Mt}),Mt.\u0275inj=h.Tb({factory:function(t){return new(t||Mt)},providers:[z],imports:[[a.j.forChild(Tt),v.c,W.b,k.c,y.d,C.b,_.c,U.b,N.s,$.k,p.b,n.a,o.a,o.g]]}),Mt)}}]);