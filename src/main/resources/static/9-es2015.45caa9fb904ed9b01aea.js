(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6dIM":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var c=n("fXoL");let a=(()=>{class t{transform(t,e,n){const c=t.find(t=>void 0!==t.id&&t.id===e);if(c)return c[n]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"getById",type:t,pure:!1}),t})()},NJB7:function(t,e,n){"use strict";n.r(e);var c=n("tyNb"),a=n("sYmb"),i=n("0BIi"),o=n("NuY5"),l=n("2Vo4"),s=n("0Zs5");class r{constructor(t){this.id=t.id,this.from=t.from,this.to=t.to,this.subject=t.subject,this.message=t.message,this.time=t.time,this.read=t.read,this.starred=t.starred,this.important=t.important,this.hasAttachments=t.hasAttachments,this.attachments=t.attachments,this.labels=t.labels,this.folder=t.folder}toggleStar(){this.starred=!this.starred}toggleImportant(){this.important=!this.important}}var d=n("fXoL"),m=n("tk/3");let b=(()=>{class t{constructor(t){this._httpClient=t,this.searchText="",this.selectedMails=[],this.onMailsChanged=new l.a([]),this.onSelectedMailsChanged=new l.a([]),this.onCurrentMailChanged=new l.a([]),this.onFoldersChanged=new l.a([]),this.onFiltersChanged=new l.a([]),this.onLabelsChanged=new l.a([]),this.onSearchTextChanged=new l.a("")}resolve(t,e){return this.routeParams=t.params,new Promise((t,e)=>{Promise.all([this.getFolders(),this.getFilters(),this.getLabels(),this.getMails()]).then(()=>{this.setCurrentMail(this.routeParams.mailId?this.routeParams.mailId:null),this.onSearchTextChanged.subscribe(t=>{this.searchText=t,this.getMails()}),t()},e)})}getFolders(){return new Promise((t,e)=>{this._httpClient.get("api/mail-folders").subscribe(e=>{this.folders=e,this.onFoldersChanged.next(this.folders),t(this.folders)},e)})}getFilters(){return new Promise((t,e)=>{this._httpClient.get("api/mail-filters").subscribe(e=>{this.filters=e,this.onFiltersChanged.next(this.filters),t(this.filters)},e)})}getLabels(){return new Promise((t,e)=>{this._httpClient.get("api/mail-labels").subscribe(e=>{this.labels=e,this.onLabelsChanged.next(this.labels),t(this.labels)},e)})}getMails(){return this.routeParams.labelHandle?this.getMailsByLabel(this.routeParams.labelHandle):this.routeParams.filterHandle?this.getMailsByFilter(this.routeParams.filterHandle):this.getMailsByFolder(this.routeParams.folderHandle)}getMailsByFolder(t){return new Promise((e,n)=>{this._httpClient.get("api/mail-folders?handle="+t).subscribe(t=>{this._httpClient.get("api/mail-mails?folder="+t[0].id).subscribe(t=>{this.mails=t.map(t=>new r(t)),this.mails=s.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},n)})})}getMailsByFilter(t){return new Promise((e,n)=>{this._httpClient.get("api/mail-mails?"+t+"=true").subscribe(t=>{this.mails=t.map(t=>new r(t)),this.mails=s.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},n)})}getMailsByLabel(t){return new Promise((e,n)=>{this._httpClient.get("api/mail-labels?handle="+t).subscribe(t=>{this._httpClient.get("api/mail-mails?labels="+t[0].id).subscribe(t=>{this.mails=t.map(t=>new r(t)),this.mails=s.a.filterArrayByString(this.mails,this.searchText),this.onMailsChanged.next(this.mails),e(this.mails)},n)})})}toggleSelectedMail(t){if(this.selectedMails.length>0)for(const e of this.selectedMails)if(e.id===t){const t=this.selectedMails.indexOf(e);if(-1!==t)return this.selectedMails.splice(t,1),void this.onSelectedMailsChanged.next(this.selectedMails)}this.selectedMails.push(this.mails.find(e=>e.id===t)),this.onSelectedMailsChanged.next(this.selectedMails)}toggleSelectAll(){this.selectedMails.length>0?this.deselectMails():this.selectMails()}selectMails(t,e){this.selectedMails=[],void 0===t||void 0===e?this.selectedMails=this.mails:this.selectedMails.push(...this.mails.filter(n=>n[t]===e)),this.onSelectedMailsChanged.next(this.selectedMails)}deselectMails(){this.selectedMails=[],this.onSelectedMailsChanged.next(this.selectedMails)}setCurrentMail(t){this.currentMail=this.mails.find(e=>e.id===t),this.onCurrentMailChanged.next(this.currentMail)}toggleLabelOnSelectedMails(t){this.selectedMails.map(e=>{const n=e.labels.indexOf(t);-1!==n?e.labels.splice(n,1):e.labels.push(t),this.updateMail(e)})}setFolderOnSelectedMails(t){this.selectedMails.map(e=>{e.folder=t,this.updateMail(e)}),this.deselectMails()}updateMail(t){return new Promise((e,n)=>{this._httpClient.post("api/mail-mails/"+t.id,Object.assign({},t)).subscribe(t=>{this.getMails().then(t=>{t&&this.currentMail&&this.setCurrentMail(this.currentMail.id),e(t)},n)})})}}return t.\u0275fac=function(e){return new(e||t)(d.kc(m.c))},t.\u0275prov=d.Sb({token:t,factory:t.\u0275fac}),t})();var g=n("3Pt+"),u=n("XNiG"),h=n("1G5W"),f=n("Kj3r"),p=n("/uUt");const M={lang:"en",data:{MAIL:{COMPOSE:"COMPOSE",FOLDERS:"FOLDERS",FILTERS:"FILTERS",LABELS:"LABELS",NO_MESSAGES:"There are no messages!",SELECT_A_MESSAGE_TO_READ:"Select a message to read",SEARCH_PLACEHOLDER:"Search for an e-mail or contact"}}},C={lang:"de",data:{MAIL:{COMPOSE:"KOMPONIEREN",FOLDERS:"Ordner",FILTERS:"FILTER",LABELS:"MARKEN",NO_MESSAGES:"KEINE NACHRICHTEN!",SELECT_A_MESSAGE_TO_READ:"W\xc4HLEN SIE EINE NACHRICHT ZUM LESEN",SEARCH_PLACEHOLDER:"E-SUCHEN PLACEHOLDER"}}};var _=n("nS/M"),x=n("mWhh"),O=n("2C/K"),P=n("kcHR"),v=n("HY3y"),w=n("0IaG"),S=n("ELM3"),y=n("/t3+"),L=n("XiUz"),H=n("bTqV"),A=n("NFeN"),I=n("cpli"),F=n("kmnG"),k=n("qFsG"),z=n("znSr");let E=(()=>{class t{constructor(t,e,n){this.accountService=t,this.matDialogRef=e,this._data=n,this.composeForm=this.createComposeForm(),this.showExtraToFields=!1}createComposeForm(){return new g.g({from:new g.d({value:"me@gmail.com",disabled:!0}),to:new g.d(""),cc:new g.d(""),bcc:new g.d(""),subject:new g.d(""),message:new g.d("")})}toggleExtraToFields(){this.showExtraToFields=!this.showExtraToFields}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(S.a),d.Wb(w.f),d.Wb(w.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail-compose"]],decls:57,vars:6,consts:[[1,"dialog-content-wrapper"],[1,"mat-accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","","persoInfoPerfectScrollbar","",1,"p-24","m-0"],["name","composeForm","fxLayout","column","fxFlex","",1,"compose-form",3,"formGroup"],["matInput","","name","from","placeholder","From","formControlName","from","type","email"],["matInput","","name","to","placeholder","To","formControlName","to","type","email","required",""],[1,"show-hide-extra-fields",3,"click"],[3,"fxShow"],["matInput","","name","cc","placeholder","Cc","formControlName","cc","type","email"],["matInput","","name","bcc","placeholder","Bcc","formControlName","bcc","type","email"],["matInput","","name","subject","placeholder","Subject","formControlName","subject"],["matInput","","name","message","placeholder","Message","formControlName","message","rows","6"],[1,"attachment-list"],["fxLayout","row","fxLayoutAlign","space-between center",1,"attachment"],[1,"filename"],[1,"size"],["mat-icon-button","","aria-label","Delete attachment"],[1,"s-16"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","space-between center",1,"m-0","p-16"],["mat-raised-button","","aria-label","SAVE",1,"save-button","mat-accent",3,"disabled","click"],["mat-icon-button","","matTooltip","Attach a file"],["mat-icon-button","","aria-label","Delete","matTooltip","Delete",3,"click"]],template:function(t,e){1&t&&(d.cc(0,"div",0),d.cc(1,"mat-toolbar",1),d.cc(2,"mat-toolbar-row",2),d.cc(3,"span",3),d.ad(4,"New Message"),d.bc(),d.cc(5,"button",4),d.oc("click",(function(){return e.matDialogRef.close()})),d.cc(6,"mat-icon"),d.ad(7,"close"),d.bc(),d.bc(),d.bc(),d.bc(),d.cc(8,"div",5),d.cc(9,"form",6),d.cc(10,"mat-form-field"),d.Xb(11,"input",7),d.bc(),d.cc(12,"mat-form-field"),d.Xb(13,"input",8),d.bc(),d.cc(14,"div",9),d.oc("click",(function(){return e.toggleExtraToFields()})),d.cc(15,"span",10),d.ad(16,"Show CC & BCC"),d.bc(),d.cc(17,"span",10),d.ad(18,"Hide CC & BCC"),d.bc(),d.bc(),d.cc(19,"mat-form-field",10),d.Xb(20,"input",11),d.bc(),d.cc(21,"mat-form-field",10),d.Xb(22,"input",12),d.bc(),d.cc(23,"mat-form-field"),d.Xb(24,"input",13),d.bc(),d.cc(25,"mat-form-field"),d.cc(26,"textarea",14),d.ad(27,"                "),d.bc(),d.bc(),d.cc(28,"div",15),d.cc(29,"div",16),d.cc(30,"div"),d.cc(31,"span",17),d.ad(32,"attachment-2.doc"),d.bc(),d.cc(33,"span",18),d.ad(34,"(12 Kb)"),d.bc(),d.bc(),d.cc(35,"button",19),d.cc(36,"mat-icon",20),d.ad(37,"close"),d.bc(),d.bc(),d.bc(),d.cc(38,"div",16),d.cc(39,"div"),d.cc(40,"span",17),d.ad(41,"attachment-1.jpg"),d.bc(),d.cc(42,"span",18),d.ad(43,"(350 Kb)"),d.bc(),d.bc(),d.cc(44,"button",19),d.cc(45,"mat-icon",20),d.ad(46,"close"),d.bc(),d.bc(),d.bc(),d.bc(),d.bc(),d.bc(),d.cc(47,"div",21),d.cc(48,"div"),d.cc(49,"button",22),d.oc("click",(function(){return e.matDialogRef.close(["send",e.composeForm])})),d.ad(50," SEND "),d.bc(),d.cc(51,"button",23),d.cc(52,"mat-icon"),d.ad(53,"attach_file"),d.bc(),d.bc(),d.bc(),d.cc(54,"button",24),d.oc("click",(function(){return e.matDialogRef.close(["delete",e.composeForm])})),d.cc(55,"mat-icon"),d.ad(56,"delete"),d.bc(),d.bc(),d.bc(),d.bc()),2&t&&(d.Hb(9),d.zc("formGroup",e.composeForm),d.Hb(6),d.zc("fxShow",!e.showExtraToFields),d.Hb(2),d.zc("fxShow",e.showExtraToFields),d.Hb(2),d.zc("fxShow",e.showExtraToFields),d.Hb(2),d.zc("fxShow",e.showExtraToFields),d.Hb(28),d.zc("disabled",e.composeForm.invalid))},directives:[y.a,y.c,L.b,L.e,L.d,H.b,A.a,w.d,I.a,g.x,g.p,g.h,F.b,k.b,g.b,g.o,g.f,g.u,z.b,w.c],styles:["@media screen and (max-width:599px){.mail-compose-dialog{width:100%}}@media (min-width:600px){.mail-compose-dialog{width:640px}}.mail-compose-dialog .mat-dialog-container{padding:0}.mail-compose-dialog .mat-dialog-container .compose-form .mat-form-field{width:100%}.mail-compose-dialog .mat-dialog-container .compose-form .show-hide-extra-fields{text-align:right;cursor:pointer;font-size:12px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list{font-size:13px;padding-top:16px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment{background-color:rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.16);padding-left:16px;margin-top:8px;border-radius:2px}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment .filename{font-weight:500}.mail-compose-dialog .mat-dialog-container .compose-form .attachment-list .attachment:last-child{margin-bottom:0}.mail-compose-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),t})();var T=n("ofXK"),D=n("FKr1");function R(t,e){if(1&t&&(d.cc(0,"mat-icon",13),d.ad(1),d.bc()),2&t){const t=d.sc().$implicit;d.Hb(1),d.bd(t.icon)}}const Y=function(){return["active","mat-accent-bg"]};function j(t,e){if(1&t&&(d.cc(0,"div",10),d.cc(1,"a",11),d.Yc(2,R,2,1,"mat-icon",12),d.cc(3,"span"),d.ad(4),d.bc(),d.bc(),d.bc()),2&t){const t=e.$implicit;d.Hb(1),d.zc("routerLink","/apps/mail/"+t.handle)("routerLinkActive",d.Cc(4,Y)),d.Hb(1),d.zc("ngIf",t.icon),d.Hb(2),d.bd(t.title)}}function N(t,e){if(1&t&&(d.cc(0,"mat-icon",15),d.ad(1),d.bc()),2&t){const t=d.sc().$implicit;d.zc("ngClass",t.color),d.Hb(1),d.bd(t.icon)}}function B(t,e){if(1&t&&(d.cc(0,"div",10),d.cc(1,"a",11),d.Yc(2,N,2,2,"mat-icon",14),d.cc(3,"span"),d.ad(4),d.bc(),d.bc(),d.bc()),2&t){const t=e.$implicit;d.Hb(1),d.zc("routerLink","/apps/mail/filter/"+t.handle)("routerLinkActive",d.Cc(4,Y)),d.Hb(1),d.zc("ngIf",t.icon),d.Hb(2),d.bd(t.title)}}const X=function(t){return{color:t}};function W(t,e){if(1&t&&(d.cc(0,"div",10),d.cc(1,"a",11),d.cc(2,"mat-icon",16),d.ad(3,"label"),d.bc(),d.cc(4,"span"),d.ad(5),d.bc(),d.bc(),d.bc()),2&t){const t=e.$implicit;d.Hb(1),d.zc("routerLink","/apps/mail/label/"+t.handle)("routerLinkActive",d.Cc(4,Y)),d.Hb(1),d.zc("ngStyle",d.Dc(5,X,t.color)),d.Hb(3),d.bd(t.title)}}const Q=function(){return{delay:"50ms",scale:"0.2"}},$=function(t){return{value:"*",params:t}},G=function(){return{delay:"100ms",x:"-25px"}},K=function(){return{y:"50px"}};let U=(()=>{class t{constructor(t,e,n){this.accountService=t,this._mailService=e,this._matDialog=n,this.accounts={gmail:"me@gmail.com",withinpixels:"me@gmail.com"},this.selectedAccount="gmail",this._unsubscribeAll=new u.a}ngOnInit(){this._mailService.onFoldersChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.folders=t}),this._mailService.onFiltersChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.filters=t}),this._mailService.onLabelsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}composeDialog(){this.dialogRef=this._matDialog.open(E,{panelClass:"mail-compose-dialog"}),this.dialogRef.afterClosed().subscribe(t=>{if(!t)return;const e=t[1];switch(t[0]){case"send":console.log("new Mail",e.getRawValue());break;case"delete":console.log("delete Mail")}})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(S.a),d.Wb(b),d.Wb(w.b))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail-main-sidebar"]],decls:24,vars:27,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"header","mat-accent-bg","p-24","pb-4"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","s-32"],[1,"logo-text"],["persoInfoPerfectScrollbar","",1,"content"],[1,"p-24"],["mat-raised-button","","aria-label","Compose",1,"mat-accent","compose-dialog-button","w-100-p",3,"click"],[1,"nav"],[1,"nav-subheader"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"routerLink","routerLinkActive"],["class","nav-link-icon",4,"ngIf"],[1,"nav-link-icon"],["class","nav-link-icon",3,"ngClass",4,"ngIf"],[1,"nav-link-icon",3,"ngClass"],[1,"nav-link-icon",3,"ngStyle"]],template:function(t,e){1&t&&(d.cc(0,"div",0),d.cc(1,"div",1),d.cc(2,"mat-icon",2),d.ad(3,"mail "),d.bc(),d.cc(4,"span",3),d.ad(5,"Mailbox"),d.bc(),d.bc(),d.bc(),d.cc(6,"div",4),d.cc(7,"div",5),d.cc(8,"button",6),d.oc("click",(function(){return e.composeDialog()})),d.ad(9),d.tc(10,"translate"),d.bc(),d.bc(),d.cc(11,"div",7),d.cc(12,"div",8),d.ad(13),d.tc(14,"translate"),d.bc(),d.Yc(15,j,5,5,"div",9),d.cc(16,"div",8),d.ad(17),d.tc(18,"translate"),d.bc(),d.Yc(19,B,5,5,"div",9),d.cc(20,"div",8),d.ad(21),d.tc(22,"translate"),d.bc(),d.Yc(23,W,6,7,"div",9),d.bc(),d.bc()),2&t&&(d.Hb(2),d.zc("@animate",d.Dc(19,$,d.Cc(18,Q))),d.Hb(2),d.zc("@animate",d.Dc(22,$,d.Cc(21,G))),d.Hb(2),d.zc("@animate",d.Dc(25,$,d.Cc(24,K))),d.Hb(3),d.cd(" ",d.uc(10,10,"MAIL.COMPOSE")," "),d.Hb(4),d.bd(d.uc(14,12,"MAIL.FOLDERS")),d.Hb(2),d.zc("ngForOf",e.folders),d.Hb(2),d.bd(d.uc(18,14,"MAIL.FILTERS")),d.Hb(2),d.zc("ngForOf",e.filters),d.Hb(2),d.bd(d.uc(22,16,"MAIL.LABELS")),d.Hb(2),d.zc("ngForOf",e.labels))},directives:[L.e,L.d,L.b,A.a,I.a,H.b,T.t,c.i,D.r,c.h,T.u,T.r,z.a,T.x,z.c],pipes:[a.c],styles:["[_nghost-%COMP%]{display:flex;flex:1 0 auto;flex-direction:column;height:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{margin:0 16px 0 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:24px;line-height:24px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{width:100%}"],data:{animation:v.a}}),t})();var V=n("bSwM"),q=n("STbY");let J=(()=>{class t{transform(t,e=[]){return t?String(t).replace(/<[^>]+>/gm,""):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Vb({name:"htmlToPlaintext",type:t,pure:!0}),t})();var Z=n("6dIM");function tt(t,e){if(1&t&&d.Xb(0,"img",16),2&t){const t=d.sc();d.Ac("alt",null==t.mail.from?null:t.mail.from.name),d.Ac("src",null==t.mail.from?null:t.mail.from.avatar,d.Sc)}}function et(t,e){if(1&t&&(d.cc(0,"div",17),d.ad(1),d.bc()),2&t){const t=d.sc();d.Hb(1),d.bd(null==t.mail.from?null:t.mail.from.name[0])}}function nt(t,e){if(1&t&&(d.cc(0,"span",18),d.ad(1),d.bc()),2&t){const t=d.sc();d.Hb(1),d.bd(null==t.mail.from?null:t.mail.from.name)}}function ct(t,e){1&t&&(d.cc(0,"mat-icon"),d.ad(1,"attachment"),d.bc())}function at(t,e){if(1&t&&(d.cc(0,"div",19),d.ad(1),d.tc(2,"slice"),d.tc(3,"htmlToPlaintext"),d.bc()),2&t){const t=d.sc();d.Hb(1),d.dd(" ",d.wc(2,2,d.uc(3,6,t.mail.message),0,180),"",t.mail.message.length>180?"...":""," ")}}const it=function(t){return{"background-color":t}};function ot(t,e){if(1&t&&(d.cc(0,"div",20),d.Xb(1,"div",21),d.tc(2,"getById"),d.cc(3,"div",22),d.ad(4),d.tc(5,"getById"),d.bc(),d.bc()),2&t){const t=e.$implicit,n=d.sc();d.Hb(1),d.zc("ngStyle",d.Dc(10,it,d.wc(2,2,n.labels,t,"color"))),d.Hb(3),d.bd(d.wc(5,6,n.labels,t,"title"))}}let lt=(()=>{class t{constructor(t){this._mailService=t,this._unsubscribeAll=new u.a}ngOnInit(){this.mail=new r(this.mail),this._mailService.onSelectedMailsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{if(this.selected=!1,t.length>0)for(const e of t)if(e.id===this.mail.id){this.selected=!0;break}}),this._mailService.onLabelsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onSelectedChange(){this._mailService.toggleSelectedMail(this.mail.id)}toggleStar(t){t.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}toggleImportant(t){t.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(b))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail-list-item"]],hostVars:2,hostBindings:function(t,e){2&t&&d.Mb("selected",e.selected)},inputs:{mail:"mail"},decls:19,vars:9,consts:[["fxLayout","row","fxLayoutAlign","start center"],[3,"ngModel","ngModelChange","click"],["fxFlex","","FlexLayout","column",1,"info"],["fxLayout","row","fxLayoutAlign","start center",1,"row-1"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"name"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar mat-accent-bg",4,"ngIf"],["class","text-truncate",4,"ngIf"],[4,"ngIf"],[1,"time"],["fxLayout","row","fxLayoutAlign","start center",1,"row-2"],["fxLayout","column","fxLayoutAlign","start start"],[1,"subject","text-truncate"],["class","message text-truncate",4,"ngIf"],["fxLayout","row wrap","fxHide","","fxShow.gt-sm","",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],[1,"avatar",3,"alt","src"],[1,"avatar","mat-accent-bg"],[1,"text-truncate"],[1,"message","text-truncate"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"]],template:function(t,e){1&t&&(d.cc(0,"div",0),d.cc(1,"mat-checkbox",1),d.oc("ngModelChange",(function(t){return e.selected=t}))("ngModelChange",(function(){return e.onSelectedChange()}))("click",(function(t){return t.stopPropagation()})),d.bc(),d.cc(2,"div",2),d.cc(3,"div",3),d.cc(4,"div",4),d.Yc(5,tt,1,2,"img",5),d.Yc(6,et,2,1,"div",6),d.Yc(7,nt,2,1,"span",7),d.Yc(8,ct,2,0,"mat-icon",8),d.bc(),d.cc(9,"div",0),d.cc(10,"div",9),d.ad(11),d.bc(),d.bc(),d.bc(),d.cc(12,"div",10),d.cc(13,"div",11),d.cc(14,"div",12),d.ad(15),d.bc(),d.Yc(16,at,4,8,"div",13),d.cc(17,"div",14),d.Yc(18,ot,6,12,"div",15),d.bc(),d.bc(),d.bc(),d.bc(),d.bc()),2&t&&(d.Hb(1),d.zc("ngModel",e.selected),d.Hb(4),d.zc("ngIf",null==e.mail.from?null:e.mail.from.avatar),d.Hb(1),d.zc("ngIf",!(null!=e.mail.from&&e.mail.from.avatar)),d.Hb(1),d.zc("ngIf",null==e.mail?null:e.mail.from),d.Hb(1),d.zc("ngIf",e.mail.hasAttachments),d.Hb(3),d.bd(e.mail.time),d.Hb(4),d.cd(" ",e.mail.subject," "),d.Hb(1),d.zc("ngIf",null==e.mail?null:e.mail.message),d.Hb(2),d.zc("ngForOf",e.mail.labels))},directives:[L.e,L.d,V.a,g.o,g.r,L.b,T.u,z.b,T.t,A.a,T.x,z.c],pipes:[T.F,J,Z.a],styles:["[_nghost-%COMP%]{flex-shrink:0;position:relative;padding:16px 24px;border-bottom:1px solid rgba(0,0,0,.12);cursor:pointer}.unread[_nghost-%COMP%]{background:#fff}.unread[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .unread[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-weight:700}.unread[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{background:#fff}.selected[_nghost-%COMP%], .selected[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{background:#fff8e1}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{overflow:hidden;width:0;margin-left:16px;position:relative}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:500}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:32px;width:32px;height:32px;line-height:32px}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:32px;height:32px;line-height:1}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{position:relative;color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;border-radius:2px;margin:0 4px 0 0;padding:3px 8px;background-color:rgba(0,0,0,.08)}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .label-color[_ngcontent-%COMP%]{width:8px;height:8px;margin-right:8px;border-radius:50%}"]}),t})();function st(t,e){1&t&&(d.cc(0,"div",3),d.cc(1,"span",4),d.ad(2),d.tc(3,"translate"),d.bc(),d.bc()),2&t&&(d.Hb(2),d.bd(d.uc(3,1,"MAIL.NO_MESSAGES")))}const rt=function(t){return{"current-mail mat-accent-50-bg":t}},dt=function(){return{y:"100%"}},mt=function(t){return{value:"*",params:t}};function bt(t,e){if(1&t){const t=d.dc();d.cc(0,"mail-list-item",5),d.oc("click",(function(){d.Qc(t);const n=e.$implicit;return d.sc().readMail(n.id)})),d.bc()}if(2&t){const t=e.$implicit,n=d.sc();d.zc("mail",t)("ngClass",d.Dc(3,rt,(null==t?null:t.id)==(null==n.currentMail?null:n.currentMail.id)))("@animate",d.Dc(6,mt,d.Cc(5,dt)))}}const gt=function(){return{value:"50"}};let ut=(()=>{class t{constructor(t,e,n){this._activatedRoute=t,this._mailService=e,this._location=n,this._unsubscribeAll=new u.a}ngOnInit(){this._mailService.onMailsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.mails=t}),this._mailService.onCurrentMailChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{if(t)this.currentMail=t;else{this.currentMail=null;const t=this._activatedRoute.snapshot.params.labelHandle,e=this._activatedRoute.snapshot.params.filterHandle,n=this._activatedRoute.snapshot.params.folderHandle;this._location.go(t?"apps/mail/label/"+t:e?"apps/mail/filter/"+e:"apps/mail/"+n)}})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}readMail(t){const e=this._activatedRoute.snapshot.params.labelHandle,n=this._activatedRoute.snapshot.params.filterHandle;this._location.go(e?"apps/mail/label/"+e+"/"+t:n?"apps/mail/filter/"+n+"/"+t:"apps/mail/"+this._activatedRoute.snapshot.params.folderHandle+"/"+t),this._mailService.setCurrentMail(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(c.a),d.Wb(b),d.Wb(T.o))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail-list"]],decls:3,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",4,"ngIf"],[1,"mail-list"],["matRipple","",3,"mail","ngClass","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlexFill",""],[1,"no-messages-text","hint-text"],["matRipple","",3,"mail","ngClass","click"]],template:function(t,e){1&t&&(d.Yc(0,st,4,3,"div",0),d.cc(1,"div",1),d.Yc(2,bt,1,8,"mail-list-item",2),d.bc()),2&t&&(d.zc("ngIf",0===e.mails.length),d.Hb(1),d.zc("@animateStagger",d.Cc(3,gt)),d.Hb(1),d.zc("ngForOf",e.mails))},directives:[T.u,T.t,L.e,L.d,L.f,lt,D.r,T.r,z.a],pipes:[a.c],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;flex:1;padding:0;border-right:1px solid rgba(0,0,0,.12);overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .no-messages-text[_ngcontent-%COMP%]{font-size:24px;font-weight:300}[_nghost-%COMP%]   .mail-list[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;flex:1}"],data:{animation:v.a}}),t})();const ht=function(){return{delay:"300ms",scale:"0.2"}},ft=function(t){return{value:"*",params:t}},pt=function(){return{delay:"400ms"}};function Mt(t,e){1&t&&(d.cc(0,"div",2),d.cc(1,"mat-icon",3),d.ad(2," email "),d.bc(),d.cc(3,"span",4),d.cc(4,"span"),d.ad(5),d.tc(6,"translate"),d.bc(),d.bc(),d.bc()),2&t&&(d.Hb(1),d.zc("@animate",d.Dc(6,ft,d.Cc(5,ht))),d.Hb(2),d.zc("@animate",d.Dc(9,ft,d.Cc(8,pt))),d.Hb(2),d.bd(d.uc(6,3,"MAIL.SELECT_A_MESSAGE_TO_READ")))}const Ct=function(t){return{"background-color":t}};function _t(t,e){if(1&t&&(d.cc(0,"div",34),d.Xb(1,"div",35),d.tc(2,"getById"),d.cc(3,"div",36),d.ad(4),d.tc(5,"getById"),d.bc(),d.bc()),2&t){const t=e.$implicit,n=d.sc(2);d.Hb(1),d.zc("ngStyle",d.Dc(10,Ct,d.wc(2,2,n.labels,t,"color"))),d.Hb(3),d.bd(d.wc(5,6,n.labels,t,"title"))}}function xt(t,e){1&t&&(d.cc(0,"mat-icon",37),d.ad(1,"star"),d.bc())}function Ot(t,e){1&t&&(d.cc(0,"mat-icon",38),d.ad(1,"star_outline"),d.bc())}function Pt(t,e){1&t&&(d.cc(0,"mat-icon",39),d.ad(1,"label"),d.bc())}function vt(t,e){1&t&&(d.cc(0,"mat-icon",38),d.ad(1,"label_outline"),d.bc())}function wt(t,e){if(1&t&&d.Xb(0,"img",40),2&t){const t=d.sc(2);d.Ac("alt",t.mail.from.name),d.Ac("src",t.mail.from.avatar,d.Sc)}}function St(t,e){if(1&t&&(d.cc(0,"div",41),d.ad(1),d.bc()),2&t){const t=d.sc(2);d.Hb(1),d.cd(" ",t.mail.from.name[0]," ")}}function yt(t,e){1&t&&(d.cc(0,"span"),d.ad(1,"Show Details"),d.bc())}function Lt(t,e){1&t&&(d.cc(0,"span"),d.ad(1,"Hide Details"),d.bc())}function Ht(t,e){if(1&t&&(d.cc(0,"div",42),d.cc(1,"div",43),d.cc(2,"span",44),d.ad(3,"From:"),d.bc(),d.cc(4,"span",44),d.ad(5,"To:"),d.bc(),d.cc(6,"span",44),d.ad(7,"Date:"),d.bc(),d.bc(),d.cc(8,"div",43),d.cc(9,"span",45),d.ad(10),d.bc(),d.cc(11,"span",45),d.ad(12),d.bc(),d.cc(13,"span",45),d.ad(14),d.bc(),d.bc(),d.bc()),2&t){const t=d.sc(2);d.Hb(10),d.bd(t.mail.from.email),d.Hb(2),d.bd(t.mail.to[0].email),d.Hb(2),d.bd(t.mail.time)}}function At(t,e){if(1&t&&(d.cc(0,"div",49),d.Xb(1,"img",50),d.cc(2,"div",43),d.cc(3,"a",51),d.ad(4,"View"),d.bc(),d.cc(5,"a",51),d.ad(6,"Download"),d.bc(),d.cc(7,"div",52),d.ad(8),d.bc(),d.bc(),d.bc()),2&t){const t=e.$implicit;d.Hb(1),d.Ac("src",t.preview,d.Sc),d.Hb(7),d.cd("(",t.size,")")}}function It(t,e){if(1&t&&(d.cc(0,"div",46),d.cc(1,"div",44),d.cc(2,"span"),d.ad(3,"Attachments"),d.bc(),d.ad(4),d.bc(),d.cc(5,"div",47),d.Yc(6,At,9,2,"div",48),d.bc(),d.bc()),2&t){const t=d.sc(2);d.Hb(4),d.cd(" (",t.mail.attachments.length,") "),d.Hb(2),d.zc("ngForOf",t.mail.attachments)}}function Ft(t,e){if(1&t){const t=d.dc();d.cc(0,"div"),d.cc(1,"div",5),d.cc(2,"div"),d.cc(3,"div",6),d.ad(4),d.bc(),d.cc(5,"div",7),d.Yc(6,_t,6,12,"div",8),d.bc(),d.bc(),d.cc(7,"div",9),d.cc(8,"button",10),d.oc("click",(function(e){return d.Qc(t),d.sc().toggleStar(e)})),d.Yc(9,xt,2,0,"mat-icon",11),d.Yc(10,Ot,2,0,"mat-icon",12),d.bc(),d.cc(11,"button",13),d.oc("click",(function(e){return d.Qc(t),d.sc().toggleImportant(e)})),d.Yc(12,Pt,2,0,"mat-icon",14),d.Yc(13,vt,2,0,"mat-icon",12),d.bc(),d.bc(),d.bc(),d.cc(14,"div",15),d.cc(15,"div",16),d.cc(16,"div",17),d.cc(17,"div",18),d.cc(18,"div"),d.Yc(19,wt,1,2,"img",19),d.Yc(20,St,2,1,"div",20),d.bc(),d.cc(21,"div",21),d.cc(22,"div",22),d.ad(23),d.bc(),d.cc(24,"div",23),d.cc(25,"div",24),d.ad(26,"to"),d.bc(),d.cc(27,"div"),d.ad(28),d.bc(),d.bc(),d.bc(),d.bc(),d.cc(29,"a",25),d.oc("click",(function(){d.Qc(t);const e=d.sc();return e.showDetails=!e.showDetails})),d.Yc(30,yt,2,0,"span",1),d.Yc(31,Lt,2,0,"span",1),d.bc(),d.Yc(32,Ht,15,3,"div",26),d.bc(),d.cc(33,"button",27),d.oc("click",(function(e){return d.Qc(t),e.stopPropagation()})),d.cc(34,"mat-icon"),d.ad(35,"more_vert"),d.bc(),d.bc(),d.cc(36,"mat-menu",null,28),d.cc(38,"button",29),d.cc(39,"mat-icon"),d.ad(40,"reply"),d.bc(),d.cc(41,"span"),d.ad(42,"Reply"),d.bc(),d.bc(),d.cc(43,"button",30),d.cc(44,"mat-icon"),d.ad(45,"forward"),d.bc(),d.cc(46,"span"),d.ad(47,"Forward"),d.bc(),d.bc(),d.cc(48,"button",31),d.cc(49,"mat-icon"),d.ad(50,"print"),d.bc(),d.cc(51,"span"),d.ad(52,"Print"),d.bc(),d.bc(),d.bc(),d.bc(),d.Xb(53,"div",32),d.bc(),d.Yc(54,It,7,2,"div",33),d.bc()}if(2&t){const t=d.Mc(37),e=d.sc();d.Hb(4),d.bd(e.mail.subject),d.Hb(2),d.zc("ngForOf",e.mail.labels),d.Hb(3),d.zc("ngIf",e.mail.starred),d.Hb(1),d.zc("ngIf",!e.mail.starred),d.Hb(2),d.zc("ngIf",e.mail.important),d.Hb(1),d.zc("ngIf",!e.mail.important),d.Hb(6),d.zc("ngIf",e.mail.from.avatar),d.Hb(1),d.zc("ngIf",!e.mail.from.avatar),d.Hb(3),d.cd(" ",e.mail.from.name," "),d.Hb(5),d.bd(e.mail.to[0].name),d.Hb(2),d.zc("ngIf",!e.showDetails),d.Hb(1),d.zc("ngIf",e.showDetails),d.Hb(1),d.zc("ngIf",e.showDetails),d.Hb(1),d.zc("matMenuTriggerFor",t),d.Hb(20),d.zc("innerHTML",e.mail.message,d.Rc),d.Hb(1),d.zc("ngIf",e.mail.attachments)}}let kt=(()=>{class t{constructor(t){this._mailService=t,this.showDetails=!1,this._unsubscribeAll=new u.a}ngOnInit(){this._mailService.onCurrentMailChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.mail=t}),this._mailService.onLabelsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleStar(t){t.stopPropagation(),this.mail.toggleStar(),this._mailService.updateMail(this.mail)}toggleImportant(t){t.stopPropagation(),this.mail.toggleImportant(),this._mailService.updateMail(this.mail)}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(b))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail-details"]],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",4,"ngIf"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex",""],[1,"s-128","mb-16","select-message-icon","hint-text"],[1,"select-message-text","hint-text"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mail-header"],["flex","",1,"subject"],["fxLayout","row wrap",1,"labels"],["class","label","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"actions"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","Toggle important",3,"click"],["class","red-fg",4,"ngIf"],[1,"mail-content"],["fxLayout","row","fxLayoutAlign","space-between start",1,"info"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["class","avatar",3,"alt","src",4,"ngIf"],["class","avatar","ms-random-class","vm.colors",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"name"],["fxLayout","row","fxLayoutAlign","start center",1,"to"],[1,"to-text"],[1,"toggle-details",3,"click"],["class","details","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","Reply"],["mat-menu-item","","aria-label","Forward"],["mat-menu-item","","aria-label","Print"],[3,"innerHTML"],["class","mail-attachments",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"label"],[1,"label-color",3,"ngStyle"],[1,"label-title"],[1,"amber-fg"],[1,"secondary-text"],[1,"red-fg"],[1,"avatar",3,"alt","src"],["ms-random-class","vm.colors",1,"avatar"],["fxLayout","row","fxLayoutAlign","start start",1,"details"],["fxLayout","column"],[1,"title"],[1,"detail"],[1,"mail-attachments"],["fxLayout","row wrap",1,"attachment-list"],["class","attachment","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"attachment"],[1,"preview",3,"src"],["href","#","onclick","event.preventDefault()"],[1,"size"]],template:function(t,e){1&t&&(d.Yc(0,Mt,7,11,"div",0),d.Yc(1,Ft,55,16,"div",1)),2&t&&(d.zc("ngIf",!e.mail),d.Hb(1),d.zc("ngIf",e.mail))},directives:[T.u,L.e,L.d,L.b,A.a,T.t,H.b,q.c,q.d,q.a,T.x,z.c],pipes:[a.c,Z.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;padding:24px;overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]   .select-message-text[_ngcontent-%COMP%]{font-size:24px;font-weight:300}[_nghost-%COMP%]   .mail-header[_ngcontent-%COMP%]{padding-bottom:16px;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .mail-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{min-width:88px}[_nghost-%COMP%]   .mail-header[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:17px;font-weight:500}[_nghost-%COMP%]   .mail-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;border-radius:2px;margin:4px 4px 4px 0;padding:3px 8px;background-color:rgba(0,0,0,.08)}[_nghost-%COMP%]   .mail-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .label-color[_ngcontent-%COMP%]{width:8px;height:8px;margin-right:8px;border-radius:50%}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]{padding:24px 0}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .to[_ngcontent-%COMP%]   .to-text[_ngcontent-%COMP%]{margin-right:4px;text-transform:lowercase}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:16px;background-color:#039be5}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-right:8px;font-weight:500}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .toggle-details[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:underline;padding-top:16px;cursor:pointer;font-weight:500}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding-top:8px}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;margin-right:6px}[_nghost-%COMP%]   .mail-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}[_nghost-%COMP%]   .mail-attachments[_ngcontent-%COMP%]{padding:24px 0;border-top:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .mail-attachments[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:16px;font-weight:500}[_nghost-%COMP%]   .mail-attachments[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:100px;margin:0 16px 8px 0}[_nghost-%COMP%]   .mail-attachments[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-bottom:2px}[_nghost-%COMP%]   .mail-attachments[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:11px}"],data:{animation:v.a}}),t})();function zt(t,e){1&t&&d.Xb(0,"div",25)}function Et(t,e){if(1&t){const t=d.dc();d.cc(0,"button",26),d.oc("click",(function(){return d.Qc(t),d.sc().setFolderOnSelectedMails(4)})),d.cc(1,"mat-icon",27),d.ad(2,"delete"),d.bc(),d.bc()}}function Tt(t,e){if(1&t&&(d.cc(0,"button",13),d.cc(1,"mat-icon",27),d.ad(2,"folder"),d.bc(),d.bc()),2&t){d.sc();const t=d.Mc(44);d.zc("matMenuTriggerFor",t)}}function Dt(t,e){if(1&t){const t=d.dc();d.cc(0,"button",15),d.oc("click",(function(){d.Qc(t);const n=e.$implicit;return d.sc().setFolderOnSelectedMails(n.id)})),d.ad(1),d.bc()}if(2&t){const t=e.$implicit;d.Hb(1),d.cd("",t.title," ")}}function Rt(t,e){if(1&t&&(d.cc(0,"button",13),d.cc(1,"mat-icon",27),d.ad(2,"label"),d.bc(),d.bc()),2&t){d.sc();const t=d.Mc(48);d.zc("matMenuTriggerFor",t)}}function Yt(t,e){if(1&t){const t=d.dc();d.cc(0,"button",15),d.oc("click",(function(){d.Qc(t);const n=e.$implicit;return d.sc().toggleLabelOnSelectedMails(n.id)})),d.ad(1),d.bc()}if(2&t){const t=e.$implicit;d.Hb(1),d.cd("",t.title," ")}}function jt(t,e){if(1&t){const t=d.dc();d.cc(0,"div",28),d.cc(1,"button",26),d.oc("click",(function(){return d.Qc(t),d.sc().deselectCurrentMail()})),d.cc(2,"mat-icon",27),d.ad(3,"arrow_back"),d.bc(),d.bc(),d.bc()}}const Nt=function(t){return{"current-mail-selected":t}};let Bt=(()=>{class t{constructor(t,e,n){this._mailService=t,this.persoInfoSidebarService=e,this.persoInfoTranslationLoaderService=n,this.persoInfoTranslationLoaderService.loadTranslations(M,C),this.searchInput=new g.d(""),this._unsubscribeAll=new u.a}ngOnInit(){this._mailService.onSelectedMailsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{setTimeout(()=>{this.hasSelectedMails=t.length>0,this.isIndeterminate=t.length!==this._mailService.mails.length&&t.length>0},0)}),this._mailService.onFoldersChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.folders=this._mailService.folders}),this._mailService.onFiltersChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.filters=this._mailService.filters}),this._mailService.onLabelsChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.labels=this._mailService.labels}),this._mailService.onCurrentMailChanged.pipe(Object(h.a)(this._unsubscribeAll)).subscribe(t=>{this.currentMail=t||null}),this.searchInput.valueChanges.pipe(Object(h.a)(this._unsubscribeAll),Object(f.a)(300),Object(p.a)()).subscribe(t=>{this._mailService.onSearchTextChanged.next(t)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleSelectAll(){this._mailService.toggleSelectAll()}selectMails(t,e){this._mailService.selectMails(t,e)}deselectMails(){this._mailService.deselectMails()}deselectCurrentMail(){this._mailService.onCurrentMailChanged.next(null)}toggleLabelOnSelectedMails(t){this._mailService.toggleLabelOnSelectedMails(t)}setFolderOnSelectedMails(t){this._mailService.setFolderOnSelectedMails(t)}toggleSidebar(t){this.persoInfoSidebarService.getSidebar(t).toggleOpen()}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(b),d.Wb(_.a),d.Wb(x.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["mail"]],decls:54,vars:17,consts:[["id","mail",1,"page-layout","carded","left-sidebar","inner-scroll"],[1,"top-bg","mat-accent-bg"],["name","mail-main-sidebar","position","left","lockedOpen","gt-md",1,"sidebar"],[1,"center"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["mat-icon-button","","fxHide.gt-md","",1,"sidebar-toggle",3,"click"],["flex","","fxLayout","row","fxLayoutAlign","start center",1,"search","mat-white-bg"],["fxFlex","",3,"formControl","placeholder"],[1,"content-card","mat-white-bg",3,"ngClass"],[1,"toolbar","px-24","py-8"],["fxFlex","row","fxLayoutAlign","start center",1,"mail-selection"],[3,"checked","indeterminate","click"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],["class","toolbar-separator",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["folderMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["labelMenu","matMenu"],["fxHide.gt-xs","",4,"ngIf"],["fxLayout","row",1,"content"],["persoInfoPerfectScrollbar","","fxFlex",""],[1,"toolbar-separator"],["mat-icon-button","",3,"click"],[1,"secondary-text"],["fxHide.gt-xs",""]],template:function(t,e){if(1&t&&(d.cc(0,"div",0),d.Xb(1,"div",1),d.cc(2,"persoinfo-sidebar",2),d.Xb(3,"mail-main-sidebar"),d.bc(),d.cc(4,"div",3),d.cc(5,"div",4),d.cc(6,"div",5),d.cc(7,"button",6),d.oc("click",(function(){return e.toggleSidebar("mail-main-sidebar")})),d.cc(8,"mat-icon"),d.ad(9,"menu"),d.bc(),d.bc(),d.cc(10,"div",7),d.cc(11,"mat-icon"),d.ad(12,"search"),d.bc(),d.Xb(13,"input",8),d.tc(14,"translate"),d.bc(),d.bc(),d.bc(),d.cc(15,"div",9),d.cc(16,"div",10),d.cc(17,"div",11),d.cc(18,"mat-checkbox",12),d.oc("click",(function(){return e.toggleSelectAll()})),d.bc(),d.cc(19,"button",13),d.cc(20,"mat-icon"),d.ad(21,"arrow_drop_down"),d.bc(),d.bc(),d.cc(22,"mat-menu",null,14),d.cc(24,"button",15),d.oc("click",(function(){return e.selectMails()})),d.ad(25,"All"),d.bc(),d.cc(26,"button",15),d.oc("click",(function(){return e.deselectMails()})),d.ad(27,"None"),d.bc(),d.cc(28,"button",15),d.oc("click",(function(){return e.selectMails("read",!0)})),d.ad(29,"Read"),d.bc(),d.cc(30,"button",15),d.oc("click",(function(){return e.selectMails("read",!1)})),d.ad(31,"Unread"),d.bc(),d.cc(32,"button",15),d.oc("click",(function(){return e.selectMails("starred",!0)})),d.ad(33,"Starred"),d.bc(),d.cc(34,"button",15),d.oc("click",(function(){return e.selectMails("starred",!1)})),d.ad(35,"Unstarred"),d.bc(),d.cc(36,"button",15),d.oc("click",(function(){return e.selectMails("important",!0)})),d.ad(37,"Important"),d.bc(),d.cc(38,"button",15),d.oc("click",(function(){return e.selectMails("important",!1)})),d.ad(39,"Unimportant"),d.bc(),d.bc(),d.Yc(40,zt,1,0,"div",16),d.Yc(41,Et,3,0,"button",17),d.Yc(42,Tt,3,1,"button",18),d.cc(43,"mat-menu",null,19),d.Yc(45,Dt,2,1,"button",20),d.bc(),d.Yc(46,Rt,3,1,"button",18),d.cc(47,"mat-menu",null,21),d.Yc(49,Yt,2,1,"button",20),d.bc(),d.bc(),d.Yc(50,jt,4,0,"div",22),d.bc(),d.cc(51,"div",23),d.Xb(52,"mail-list",24),d.Xb(53,"mail-details",24),d.bc(),d.bc(),d.bc(),d.bc()),2&t){const t=d.Mc(23);d.Hb(13),d.zc("formControl",e.searchInput)("placeholder",d.uc(14,13,"MAIL.SEARCH_PLACEHOLDER")),d.Hb(2),d.zc("ngClass",d.Dc(15,Nt,e.currentMail)),d.Hb(3),d.zc("checked",e.hasSelectedMails)("indeterminate",e.isIndeterminate),d.Hb(1),d.zc("matMenuTriggerFor",t),d.Hb(21),d.zc("ngIf",e.hasSelectedMails),d.Hb(1),d.zc("ngIf",e.hasSelectedMails),d.Hb(1),d.zc("ngIf",e.hasSelectedMails),d.Hb(3),d.zc("ngForOf",e.folders),d.Hb(1),d.zc("ngIf",e.hasSelectedMails),d.Hb(3),d.zc("ngForOf",e.labels),d.Hb(1),d.zc("ngIf",e.currentMail)}},directives:[O.a,P.a,U,L.e,L.d,L.b,H.b,z.b,A.a,g.b,g.o,g.e,T.r,z.a,V.a,q.c,q.d,q.a,T.u,T.t,ut,I.a,kt],pipes:[a.c],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{margin:0;width:56px;height:56px;background:#fff;border-radius:0;border-right:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%;height:56px;line-height:56px;padding:18px}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:56px;padding-left:16px;color:rgba(0,0,0,.54);border:none;outline:none}@media screen and (max-width:599px){[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   mail-list[_ngcontent-%COMP%]{border-right:none}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   mail-details[_ngcontent-%COMP%], [_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   mail-list[_ngcontent-%COMP%]{flex:1 0 100%}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   mail-details[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card.current-mail-selected[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{padding-left:16px!important}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card.current-mail-selected[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mail-list[_ngcontent-%COMP%], [_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card.current-mail-selected[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .mail-selection[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   .center[_ngcontent-%COMP%]   .content-card.current-mail-selected[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mail-details[_ngcontent-%COMP%]{display:flex!important}}"]}),t})();var Xt=n("d3UM");n.d(e,"MailModule",(function(){return Qt}));const Wt=[{path:"label/:labelHandle",component:Bt,resolve:{mail:b}},{path:"label/:labelHandle/:mailId",component:Bt,resolve:{mail:b}},{path:"filter/:filterHandle",component:Bt,resolve:{mail:b}},{path:"filter/:filterHandle/:mailId",component:Bt,resolve:{mail:b}},{path:":folderHandle",component:Bt,resolve:{mail:b}},{path:":folderHandle/:mailId",component:Bt,resolve:{mail:b}},{path:"**",redirectTo:"inbox"}];let Qt=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},providers:[b],imports:[[c.j.forChild(Wt),H.c,V.b,w.e,F.d,A.b,k.c,q.b,D.s,Xt.b,y.b,a.b,i.a,o.g]]}),t})()}}]);